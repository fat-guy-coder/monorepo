<template>
  <div class="data-stream-container">
    <header class="header">
      <h1>å‰ç«¯æ•°æ®æµåŸºæœ¬æŒ‡å—</h1>
      <p class="subtitle">æ·±å…¥è§£æBlobã€Fileã€DataURLã€Canvaså’ŒArrayBuffer</p>
    </header>

    <div class="content-wrapper">
      <div class="intro-section">
        <div class="intro-card">
          <div class="definition">
            <div class="stream-icon">ğŸŒŠ</div>
            <div>
              <h2>ä»€ä¹ˆæ˜¯å‰ç«¯æ•°æ®æµï¼Ÿ</h2>
              <p>
                å‰ç«¯æ•°æ®æµæ˜¯Webåº”ç”¨ä¸­å¤„ç†äºŒè¿›åˆ¶å’Œåª’ä½“æ•°æ®çš„å„ç§æ ¼å¼å’ŒAPIã€‚è¿™äº›æ•°æ®æ ¼å¼å…è®¸æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­é«˜æ•ˆåœ°å¤„ç†æ–‡ä»¶ã€å›¾åƒã€è§†é¢‘å’Œå…¶ä»–äºŒè¿›åˆ¶æ•°æ®ã€‚
              </p>
              <div class="feature">
                <span class="feature-tag">äºŒè¿›åˆ¶æ•°æ®å¤„ç†</span>
                <span class="feature-tag">æ–‡ä»¶æ“ä½œ</span>
                <span class="feature-tag">å›¾åƒå¤„ç†</span>
                <span class="feature-tag">é«˜æ•ˆä¼ è¾“</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="data-types-section">
        <h2 class="section-title">æ•°æ®æµç±»å‹åŸºç¡€ä»‹ç»</h2>

        <div class="type-grid">
          <div class="type-card">
            <div class="type-header blob">
              <h3>Blob (Binary Large Object)</h3>
              <h4>Blob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚</h4>
            </div>
            <div class="type-content">
              <div class="characteristics">
                <h4>ç‰¹ç‚¹ï¼š</h4>
                <ul>
                  <li>è¡¨ç¤ºä¸å¯å˜çš„åŸå§‹æ•°æ®</li>
                  <li>å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„æ•°æ®</li>
                  <li>æ”¯æŒåˆ†ç‰‡æ“ä½œ (slice)</li>
                  <li>ä¸åŒ…å«å…ƒæ•°æ®</li>
                </ul>
              </div>
              <div class="use-cases">
                <h4>ä½¿ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ </li>
                  <li>å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®</li>
                  <li>ç”Ÿæˆå¯ä¸‹è½½å†…å®¹</li>
                  <li>å›¾ç‰‡å¤„ç†ä¸­é—´æ ¼å¼</li>
                </ul>
              </div>
              <div class="example">
                <h4>ç¤ºä¾‹ï¼š</h4>
                <pre class="code-block">
// åˆ›å»ºBlobå¯¹è±¡
const blob = new Blob(['Hello, World!'], { type: 'text/plain' });

// åˆ›å»ºä¸‹è½½é“¾æ¥
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = 'hello.txt';
a.click();</pre
                >
              </div>
            </div>
          </div>

          <div class="type-card">
            <div class="type-header file">
              <h3>File</h3>
              <h4>File å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ï¼Œç»§æ‰¿è‡ª Blobã€‚</h4>
            </div>
            <div class="type-content">
              <div class="characteristics">
                <h4>ç‰¹ç‚¹ï¼š</h4>
                <ul>
                  <li>ç»§æ‰¿è‡ªBlob</li>
                  <li>åŒ…å«æ–‡ä»¶å…ƒæ•°æ®ï¼ˆåç§°ã€ç±»å‹ã€å¤§å°ç­‰ï¼‰</li>
                  <li>é€šå¸¸æ¥è‡ªç”¨æˆ·æ–‡ä»¶é€‰æ‹©</li>
                  <li>æ”¯æŒæ–‡ä»¶è¯»å–API</li>
                </ul>
              </div>
              <div class="use-cases">
                <h4>ä½¿ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½</li>
                  <li>å›¾åƒé¢„è§ˆå¤„ç†</li>
                  <li>æ–‡ä»¶å†…å®¹åˆ†æ</li>
                  <li>å®¢æˆ·ç«¯æ–‡ä»¶æ“ä½œ</li>
                </ul>
              </div>
              <div class="example">
                <h4>ç¤ºä¾‹ï¼š</h4>
                <pre class="code-block">
// è·å–æ–‡ä»¶è¾“å…¥
const fileInput = document.querySelector('input[type="file"]');

// å¤„ç†æ–‡ä»¶é€‰æ‹©
fileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  console.log(`æ–‡ä»¶å: ${file.name}, ç±»å‹: ${file.type}, å¤§å°: ${file.size}å­—èŠ‚`);

  // è¯»å–æ–‡ä»¶å†…å®¹
  const reader = new FileReader();
  reader.onload = () => {
    console.log('æ–‡ä»¶å†…å®¹:', reader.result);
  };
  reader.readAsText(file);
});</pre
                >
              </div>
            </div>
          </div>

          <div class="type-card">
            <div class="type-header dataurl">
              <h3>DataURL</h3>
              <h4>DataURL æ˜¯ä¸€ç§å°†äºŒè¿›åˆ¶æ•°æ®ç¼–ç ä¸º URL çš„æ ¼å¼ã€‚</h4>
            </div>
            <div class="type-content">
              <div class="characteristics">
                <h4>ç‰¹ç‚¹ï¼š</h4>
                <ul>
                  <li>Base64ç¼–ç çš„æ•°æ®URL</li>
                  <li>æ ¼å¼: data:[mediatype][;base64],data</li>
                  <li>å¯ç›´æ¥åµŒå…¥HTML/CSS</li>
                  <li>æ¯”åŸå§‹æ•°æ®å¤§çº¦33%</li>
                </ul>
              </div>
              <div class="use-cases">
                <h4>ä½¿ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>å°å›¾ç‰‡å†…è”</li>
                  <li>ç”Ÿæˆå›¾ç‰‡ç¼©ç•¥å›¾</li>
                  <li>CSSèƒŒæ™¯å›¾ç‰‡</li>
                  <li>ç®€åŒ–å°æ–‡ä»¶ä¼ è¾“</li>
                </ul>
              </div>
              <div class="example">
                <h4>ç¤ºä¾‹ï¼š</h4>
                <pre class="code-block">
// åˆ›å»ºDataURL
const textData = 'Hello, World!';
const textDataURL = `data:text/plain;base64,${btoa(textData)}`;

// åœ¨å›¾åƒä¸­ä½¿ç”¨DataURL
const img = new Image();
img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA...';
document.body.appendChild(img);</pre
                >
              </div>
            </div>
          </div>

          <div class="type-card">
            <div class="type-header canvas">
              <h3>Canvas</h3>
              <h4>Canvas å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªç»˜å›¾ç”»å¸ƒï¼Œå¯ä»¥ç”¨äºç»˜åˆ¶å›¾å½¢ã€å›¾åƒç­‰ã€‚</h4>
            </div>
            <div class="type-content">
              <div class="characteristics">
                <h4>ç‰¹ç‚¹ï¼š</h4>
                <ul>
                  <li>ä½å›¾ç»˜å›¾API</li>
                  <li>æ”¯æŒ2Då’ŒWebGLæ¸²æŸ“</li>
                  <li>å¯ä»¥å¯¼å‡ºå¤šç§æ ¼å¼</li>
                  <li>åƒç´ çº§æ“ä½œ</li>
                </ul>
              </div>
              <div class="use-cases">
                <h4>ä½¿ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>å›¾åƒå¤„ç†ä¸æ»¤é•œ</li>
                  <li>å›¾è¡¨å’Œæ•°æ®å¯è§†åŒ–</li>
                  <li>æ¸¸æˆå¼€å‘</li>
                  <li>å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢</li>
                </ul>
              </div>
              <div class="example">
                <h4>ç¤ºä¾‹ï¼š</h4>
                <pre class="code-block">
// åˆ›å»ºCanvaså¹¶ç»˜åˆ¶
const canvas = document.createElement('canvas');
const ctx = canvas.getContext('2d');
canvas.width = 200;
canvas.height = 200;

// ç»˜åˆ¶å›¾å½¢
ctx.fillStyle = 'blue';
ctx.fillRect(10, 10, 180, 180);

// å¯¼å‡ºä¸ºDataURL
const dataURL = canvas.toDataURL('image/png', 0.8);

// å¯¼å‡ºä¸ºBlob
canvas.toBlob(blob => {
  console.log('PNG Blob:', blob);
}, 'image/png', 0.8);</pre
                >
              </div>
            </div>
          </div>

          <div class="type-card">
            <div class="type-header arraybuffer">
              <h3>ArrayBuffer</h3>
              <h4>ArrayBuffer å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªé€šç”¨çš„ã€å›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºã€‚</h4>
            </div>
            <div class="type-content">
              <div class="characteristics">
                <h4>ç‰¹ç‚¹ï¼š</h4>
                <ul>
                  <li>è¡¨ç¤ºé€šç”¨çš„ã€å›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒº</li>
                  <li>ä¸èƒ½ç›´æ¥æ“ä½œï¼Œéœ€é€šè¿‡TypedArrayæˆ–DataView</li>
                  <li>å†…å­˜æ•ˆç‡é«˜</li>
                  <li>æ”¯æŒåº•å±‚äºŒè¿›åˆ¶æ“ä½œ</li>
                </ul>
              </div>
              <div class="use-cases">
                <h4>ä½¿ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>WebSocketäºŒè¿›åˆ¶é€šä¿¡</li>
                  <li>Web Workeræ•°æ®ä¼ è¾“</li>
                  <li>éŸ³è§†é¢‘å¤„ç†</li>
                  <li>åŠ å¯†è§£å¯†æ“ä½œ</li>
                </ul>
              </div>
              <div class="example">
                <h4>ç¤ºä¾‹ï¼š</h4>
                <pre class="code-block">
// åˆ›å»ºArrayBuffer
const buffer = new ArrayBuffer(16); // 16å­—èŠ‚

// ä½¿ç”¨DataViewæ“ä½œ
const view = new DataView(buffer);
view.setInt32(0, 123456); // åœ¨ä½ç½®0å­˜å‚¨32ä½æ•´æ•°

// ä½¿ç”¨TypedArrayæ“ä½œ
const intArray = new Int32Array(buffer);
intArray[1] = 7890; // åœ¨ä½ç½®4å­˜å‚¨å¦ä¸€ä¸ªæ•´æ•°

// ä»æ–‡ä»¶è¯»å–ArrayBuffer
const reader = new FileReader();
reader.onload = () => {
  const arrayBuffer = reader.result;
  // å¤„ç†äºŒè¿›åˆ¶æ•°æ®
};
reader.readAsArrayBuffer(file);</pre
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="conversion-section">
        <h2>æ•°æ®å…³ç³»å›¾</h2>
        <img
          :src="dataFormat"
          style="width: 100%"
          alt="æ•°æ®å…³ç³»å›¾"
          loading="lazy"
          class="conversion-diagram"
        />

        <h2 class="section-title">æ•°æ®æµè½¬æ¢æ–¹æ³•</h2>

        <img
          :src="dataStreamFormat"
          style="width: 100%"
          alt="æ•°æ®æµè½¬æ¢æ–¹æ³•"
          loading="lazy"
          class="conversion-diagram"
        />

        <div class="conversion-examples">
          <h3>å¸¸ç”¨è½¬æ¢ä»£ç ç¤ºä¾‹</h3>
          <div class="example-grid">
            <div class="example-card">
              <h4>DataURL è½¬ Blob</h4>
              <pre class="code-block">
function dataURLtoBlob(dataURL) {
  const parts = dataURL.split(';base64,');
  const contentType = parts[0].split(':')[1];
  const raw = window.atob(parts[1]);
  const uInt8Array = new Uint8Array(raw.length);

  for (let i = 0; i < raw.length; ++i) {
    uInt8Array[i] = raw.charCodeAt(i);
  }

  return new Blob([uInt8Array], { type: contentType });
}</pre
              >
            </div>

            <div class="example-card">
              <h4>Canvas è½¬ Blob (å¼‚æ­¥)</h4>
              <pre class="code-block">
function canvasToBlob(canvas, type = 'image/png', quality = 0.9) {
  return new Promise((resolve) => {
    canvas.toBlob(
      (blob) => resolve(blob),
      type,
      quality
    );
  });
}

// ä½¿ç”¨
const blob = await canvasToBlob(myCanvas);</pre
              >
            </div>

            <div class="example-card">
              <h4>Blob è½¬ ArrayBuffer</h4>
              <pre class="code-block">
async function blobToArrayBuffer(blob) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => resolve(reader.result);
    reader.onerror = reject;
    reader.readAsArrayBuffer(blob);
  });
}

// ä½¿ç”¨
const arrayBuffer = await blobToArrayBuffer(myBlob);</pre
              >
            </div>

            <div class="example-card">
              <h4>ArrayBuffer è½¬ DataURL</h4>
              <pre class="code-block">
function arrayBufferToDataURL(arrayBuffer, mimeType) {
  const bytes = new Uint8Array(arrayBuffer);
  let binary = '';
  for (let i = 0; i < bytes.byteLength; i++) {
    binary += String.fromCharCode(bytes[i]);
  }
  const base64 = btoa(binary);
  return `data:${mimeType};base64,${base64}`;
}</pre
              >
            </div>
          </div>
        </div>
      </div>

      <div class="best-practices">
        <h2 class="section-title">æœ€ä½³å®è·µ</h2>
        <div class="practices-grid">
          <div class="practice">
            <div class="number">1</div>
            <p>å°æ–‡ä»¶ä½¿ç”¨DataURLï¼Œå¤§æ–‡ä»¶ä½¿ç”¨Blob/ArrayBuffer</p>
          </div>
          <div class="practice">
            <div class="number">2</div>
            <p>å›¾åƒå¤„ç†ä¼˜å…ˆä½¿ç”¨Canvas API</p>
          </div>
          <div class="practice">
            <div class="number">3</div>
            <p>ä¼ è¾“å¤§é‡æ•°æ®ä½¿ç”¨ArrayBuffer</p>
          </div>
          <div class="practice">
            <div class="number">4</div>
            <p>æ–‡ä»¶æ“ä½œä½¿ç”¨Fileå’ŒFileReader API</p>
          </div>
          <div class="practice">
            <div class="number">5</div>
            <p>åŠæ—¶é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å¯¹è±¡URL</p>
          </div>
          <div class="practice">
            <div class="number">6</div>
            <p>ä½¿ç”¨Web Workerså¤„ç†å¤§å‹äºŒè¿›åˆ¶æ•°æ®</p>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>
        ç†è§£ä¸åŒæ•°æ®æµç±»å‹çš„ç‰¹ç‚¹å’Œè½¬æ¢æ–¹æ³•å¯¹äºå¼€å‘é«˜æ•ˆçš„å‰ç«¯åº”ç”¨è‡³å…³é‡è¦ã€‚åˆç†é€‰æ‹©æ•°æ®æ ¼å¼å¯ä»¥æ˜¾è‘—æå‡åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚
      </p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import dataStreamFormat from '@/assets/js/æ•°æ®æµ.png'
import dataFormat from '@/assets/js/dataFormat.jfif'

// ç¤ºä¾‹æ•°æ®
const conversionMethods = ref([
  { from: 'blob', to: 'file', method: 'new File([blob], name, options)' },
  { from: 'blob', to: 'dataurl', method: 'FileReader.readAsDataURL()' },
  { from: 'blob', to: 'arraybuffer', method: 'FileReader.readAsArrayBuffer()' },
  { from: 'file', to: 'blob', method: 'file.slice() æˆ– new Blob([file])' },
  { from: 'dataurl', to: 'blob', method: 'fetch(dataURL).then(res => res.blob())' },
  { from: 'canvas', to: 'blob', method: 'canvas.toBlob(callback)' },
  { from: 'canvas', to: 'dataurl', method: 'canvas.toDataURL()' },
  { from: 'arraybuffer', to: 'blob', method: 'new Blob([arrayBuffer])' },
])
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap');

.data-stream-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Noto Sans SC', sans-serif;
  color: #2c3e50;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);

  .header {
    text-align: center;
    margin-bottom: 2.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #eaeaea;

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #3498db, #2c3e50);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .subtitle {
      font-size: 1.2rem;
      color: #7f8c8d;
      margin-top: 0;
    }
  }

  .intro-section {
    margin-bottom: 3rem;

    .intro-card {
      background: white;
      border-radius: 10px;
      padding: 1.8rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);

      .definition {
        display: flex;
        gap: 1.5rem;

        .stream-icon {
          font-size: 3rem;
          width: 80px;
          height: 80px;
          background: #e3f2fd;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          color: #3498db;
        }

        h2 {
          margin-top: 0;
          color: #2c3e50;
        }

        p {
          font-size: 1.1rem;
          line-height: 1.7;
          margin-bottom: 1rem;
        }

        .feature {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;

          .feature-tag {
            background: #e3f2fd;
            color: #3498db;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
          }
        }
      }
    }
  }

  .data-types-section {
    margin-bottom: 3rem;

    .section-title {
      font-size: 1.8rem;
      color: #3498db;
      margin-top: 0;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #f0f0f0;
      text-align: center;
    }

    .type-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.5rem;
    }

    .type-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease;

      &:hover {
        transform: translateY(-5px);
      }

      .type-header {
        padding: 1.2rem 1.5rem;
        color: white;
        font-weight: 600;

        &.blob {
          background: #3498db;
        }

        &.file {
          background: #e67e22;
        }

        &.dataurl {
          background: #9b59b6;
        }

        &.canvas {
          background: #2ecc71;
        }

        &.arraybuffer {
          background: #e74c3c;
        }

        h3 {
          margin: 0;
          font-size: 1.5rem;
        }
      }

      .type-content {
        padding: 1.5rem;

        .characteristics,
        .use-cases {
          margin-bottom: 1.2rem;

          h4 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #2c3e50;
          }

          ul {
            padding-left: 1.5rem;
            margin: 0;

            li {
              margin-bottom: 0.3rem;
              line-height: 1.5;
            }
          }
        }

        .example {
          h4 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #2c3e50;
          }

          .code-block {
            background: #2c3e50;
            color: #f8f9fa;
            border-radius: 6px;
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
          }
        }
      }
    }
  }

  .conversion-section {
    margin-bottom: 3rem;

    .section-title {
      font-size: 1.8rem;
      color: #3498db;
      margin-top: 0;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #f0f0f0;
      text-align: center;
    }

    .conversion-diagram {
      background: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
      overflow: auto;

      .conversion-map {
        position: relative;
        min-width: 800px;
        height: 500px;
        background: #f9f9ff;
        border-radius: 8px;

        .data-type {
          position: absolute;
          width: 120px;
          padding: 1rem;
          border-radius: 8px;
          text-align: center;
          font-weight: 500;
          color: white;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);

          &.blob {
            background: #3498db;
            top: 20%;
            left: 20%;
          }

          &.file {
            background: #e67e22;
            top: 20%;
            left: 60%;
          }

          &.dataurl {
            background: #9b59b6;
            top: 40%;
            left: 40%;
          }

          &.canvas {
            background: #2ecc71;
            top: 60%;
            left: 20%;
          }

          &.arraybuffer {
            background: #e74c3c;
            top: 60%;
            left: 60%;
          }
        }

        .conversion {
          position: absolute;
          font-size: 0.9rem;

          .arrow {
            position: absolute;
            width: 80px;
            height: 4px;
            background: #7f8c8d;

            &::after {
              content: '';
              position: absolute;
              right: 0;
              top: -4px;
              border: 6px solid transparent;
              border-left: 8px solid #7f8c8d;
            }
          }

          .method {
            position: absolute;
            background: white;
            border: 1px solid #eaeaea;
            border-radius: 4px;
            padding: 0.5rem;
            font-size: 0.8rem;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
          }

          &[from='blob'][to='file'] {
            top: 25%;
            left: 30%;

            .arrow {
              width: 100px;
            }

            .method {
              top: -10px;
              left: 100px;
            }
          }

          &[from='blob'][to='dataurl'] {
            top: 30%;
            left: 25%;

            .arrow {
              width: 80px;
              transform: rotate(40deg);
            }

            .method {
              top: -30px;
              left: 80px;
            }
          }

          &[from='blob'][to='arraybuffer'] {
            top: 35%;
            left: 30%;

            .arrow {
              width: 100px;
              transform: rotate(60deg);
            }

            .method {
              top: -20px;
              left: 100px;
            }
          }

          &[from='file'][to='blob'] {
            top: 25%;
            left: 70%;

            .arrow {
              width: 100px;
              transform: rotate(180deg);
            }

            .method {
              top: -10px;
              right: 100px;
            }
          }

          &[from='file'][to='dataurl'] {
            top: 30%;
            left: 75%;

            .arrow {
              width: 80px;
              transform: rotate(-40deg);
            }

            .method {
              top: -30px;
              left: -80px;
            }
          }

          &[from='file'][to='arraybuffer'] {
            top: 35%;
            left: 70%;

            .arrow {
              width: 100px;
              transform: rotate(-60deg);
            }

            .method {
              top: -20px;
              left: -100px;
            }
          }

          &[from='dataurl'][to='blob'] {
            top: 45%;
            left: 35%;

            .arrow {
              width: 100px;
              transform: rotate(180deg);
            }

            .method {
              top: -10px;
              right: 100px;
            }
          }

          &[from='dataurl'][to='canvas'] {
            top: 50%;
            left: 35%;

            .arrow {
              width: 80px;
              transform: rotate(-30deg);
            }

            .method {
              top: 20px;
              left: 80px;
            }
          }

          &[from='canvas'][to='blob'] {
            top: 65%;
            left: 30%;

            .arrow {
              width: 100px;
              transform: rotate(180deg);
            }

            .method {
              top: -10px;
              right: 100px;
            }
          }

          &[from='canvas'][to='dataurl'] {
            top: 70%;
            left: 25%;

            .arrow {
              width: 80px;
              transform: rotate(40deg);
            }

            .method {
              top: -30px;
              left: 80px;
            }
          }

          &[from='arraybuffer'][to='blob'] {
            top: 65%;
            left: 70%;

            .arrow {
              width: 100px;
              transform: rotate(180deg);
            }

            .method {
              top: -10px;
              right: 100px;
            }
          }

          &[from='arraybuffer'][to='dataurl'] {
            top: 70%;
            left: 75%;

            .arrow {
              width: 80px;
              transform: rotate(-40deg);
            }

            .method {
              top: -30px;
              left: -80px;
            }
          }
        }
      }
    }

    .conversion-examples {
      h3 {
        font-size: 1.5rem;
        color: #2c3e50;
        margin-top: 0;
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .example-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 1.5rem;
      }

      .example-card {
        background: white;
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

        h4 {
          margin-top: 0;
          margin-bottom: 1rem;
          color: #2c3e50;
        }

        .code-block {
          background: #2c3e50;
          color: #f8f9fa;
          border-radius: 6px;
          padding: 1rem;
          font-family: 'JetBrains Mono', monospace;
          font-size: 0.85rem;
          overflow-x: auto;
        }
      }
    }
  }

  .best-practices {
    .section-title {
      font-size: 1.8rem;
      color: #3498db;
      margin-top: 0;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #f0f0f0;
      text-align: center;
    }

    .practices-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;

      .practice {
        background: white;
        border-radius: 8px;
        padding: 1.5rem;
        display: flex;
        align-items: center;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

        .number {
          width: 40px;
          height: 40px;
          background: #3498db;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 1.2rem;
          margin-right: 1.2rem;
          flex-shrink: 0;
        }

        p {
          margin: 0;
          font-size: 1.05rem;
          line-height: 1.5;
        }
      }
    }
  }

  .footer {
    margin-top: 3rem;
    text-align: center;
    padding: 1.5rem;
    font-size: 1.05rem;
    color: #7f8c8d;
    border-top: 1px solid #eaeaea;
    line-height: 1.7;
    background: white;
    border-radius: 8px;
  }
}

@media (max-width: 768px) {
  .data-stream-container {
    padding: 1rem;

    .header h1 {
      font-size: 2rem;
    }

    .conversion-diagram {
      padding: 1rem !important;

      .conversion-map {
        min-width: 600px;
        height: 400px;
      }
    }
  }
}
</style>
