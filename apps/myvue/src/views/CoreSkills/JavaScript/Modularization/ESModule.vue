<template>
  <div class="esm-container">
    <header class="header">
      <div class="logo-container">
        <div class="esm-logo">
          <div class="module-circle" v-for="n in 5" :key="n" :style="circleStyle(n)"></div>
        </div>
        <h1>ECMAScript Modules (ESM)</h1>
      </div>
      <p class="subtitle">JavaScript çš„å®˜æ–¹æ¨¡å—åŒ–æ ‡å‡†</p>
    </header>

    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">ğŸ“š</div>
        <h2>æ ¸å¿ƒæ¦‚å¿µ</h2>
      </div>
      <div class="section-content">
        <div class="concept-grid">
          <div class="concept-card">
            <h3>ä»€ä¹ˆæ˜¯ES Module?</h3>
            <p>ES Module æ˜¯ ECMAScript 6 (ES6) å¼•å…¥çš„å®˜æ–¹æ¨¡å—ç³»ç»Ÿï¼Œç”¨äºåœ¨ JavaScript ä¸­ç»„ç»‡å’Œå°è£…ä»£ç ã€‚å®ƒä½¿ç”¨ <code>import</code> å’Œ
              <code>export</code> è¯­æ³•å®ç°æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ã€‚
            </p>
          </div>
          <div class="concept-card">
            <h3>è®¾è®¡ç›®æ ‡</h3>
            <ul>
              <li>é™æ€åˆ†æ - ç¼–è¯‘æ—¶ç¡®å®šä¾èµ–å…³ç³»</li>
              <li>å¼‚æ­¥åŠ è½½ - æ”¯æŒæŒ‰éœ€åŠ è½½æ¨¡å—</li>
              <li>å°è£…æ€§ - æ¨¡å—ä½œç”¨åŸŸéš”ç¦»</li>
              <li>å¾ªç¯å¼•ç”¨å¤„ç† - æ”¯æŒæ¨¡å—é—´å¾ªç¯ä¾èµ–</li>
            </ul>
          </div>
          <div class="concept-card">
            <h3>åŸºæœ¬è¯­æ³•</h3>
            <pre class="inline-code">// å¯¼å‡º
export const name = 'ESM';
export function hello() {};

// å¯¼å…¥
import { name, hello } from './module.js';</pre>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">âš™ï¸</div>
        <h2>åŠ è½½åŸç†</h2>
      </div>
      <div class="section-content">
        <div class="loading-process">
          <div class="process-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>è§£æ</h3>
              <p>JavaScriptå¼•æ“è§£æå…¥å£æ–‡ä»¶ï¼Œè¯†åˆ«æ‰€æœ‰<code>import</code>è¯­å¥</p>
            </div>
          </div>
          <div class="process-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>ä¸‹è½½</h3>
              <p>æµè§ˆå™¨ä¸‹è½½æ‰€æœ‰ä¾èµ–æ¨¡å—ï¼Œæ„å»ºæ¨¡å—ä¾èµ–å›¾</p>
            </div>
          </div>
          <div class="process-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>è§£æä¾èµ–</h3>
              <p>é€’å½’è§£ææ¯ä¸ªæ¨¡å—çš„ä¾èµ–ï¼Œç›´åˆ°æ‰€æœ‰ä¾èµ–éƒ½è¢«è§£æ</p>
            </div>
          </div>
          <div class="process-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>å®ä¾‹åŒ–</h3>
              <p>ä¸ºæ¯ä¸ªæ¨¡å—åˆ›å»ºä½œç”¨åŸŸï¼Œåˆ†é…å†…å­˜ç©ºé—´</p>
            </div>
          </div>
          <div class="process-step">
            <div class="step-number">5</div>
            <div class="step-content">
              <h3>æ±‚å€¼</h3>
              <p>æ‰§è¡Œæ¨¡å—ä»£ç ï¼Œå¡«å……å¯¼å‡ºå†…å®¹</p>
            </div>
          </div>
        </div>

        <div class="comparison-section">
          <h3>ä¸CommonJSçš„å¯¹æ¯”</h3>
          <div class="comparison-table">
            <div class="table-row header">
              <div class="table-cell">ç‰¹æ€§</div>
              <div class="table-cell">ES Module</div>
              <div class="table-cell">CommonJS</div>
            </div>
            <div class="table-row">
              <div class="table-cell">åŠ è½½æ—¶æœº</div>
              <div class="table-cell">ç¼–è¯‘æ—¶</div>
              <div class="table-cell">è¿è¡Œæ—¶</div>
            </div>
            <div class="table-row">
              <div class="table-cell">è¾“å‡ºç±»å‹</div>
              <div class="table-cell">åªè¯»å¼•ç”¨</div>
              <div class="table-cell">å€¼æ‹·è´</div>
            </div>
            <div class="table-row">
              <div class="table-cell">å¾ªç¯å¼•ç”¨</div>
              <div class="table-cell">æ”¯æŒ</div>
              <div class="table-cell">æœ‰é™æ”¯æŒ</div>
            </div>
            <div class="table-row">
              <div class="table-cell">åŠ¨æ€å¯¼å…¥</div>
              <div class="table-cell">åŸç”Ÿæ”¯æŒ</div>
              <div class="table-cell">ä¸æ”¯æŒ</div>
            </div>
            <div class="table-row">
              <div class="table-cell">é™æ€åˆ†æ</div>
              <div class="table-cell">âœ… æ”¯æŒ</div>
              <div class="table-cell">âŒ ä¸æ”¯æŒ</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">ğŸš€</div>
        <h2>æ€§èƒ½ä¼˜åŒ–å®è·µ</h2>
      </div>
      <div class="section-content">
        <div class="optimization-grid">
          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ“¦</div>
              <h3>ä»£ç åˆ†å‰²</h3>
            </div>
            <p>å°†ä»£ç æ‹†åˆ†ä¸ºå¤šä¸ªå°æ¨¡å—ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´</p>
            <div class="code-block">
              <pre><code>// ä½¿ç”¨åŠ¨æ€å¯¼å…¥å®ç°ä»£ç åˆ†å‰²
button.addEventListener('click', async () => {
  const module = await import('./heavyModule.js');
  module.runHeavyOperation();
});</code></pre>
            </div>
          </div>

          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">â±ï¸</div>
              <h3>é¢„åŠ è½½å…³é”®æ¨¡å—</h3>
            </div>
            <p>ä½¿ç”¨ <code>&lt;link rel="modulepreload"&gt;</code> æå‰åŠ è½½å…³é”®æ¨¡å—</p>
            <div class="code-block">
              <pre><code>&lt;!-- åœ¨HTMLä¸­é¢„åŠ è½½å…³é”®æ¨¡å— --&gt;
&lt;link rel="modulepreload" href="critical-module.js"&gt;</code></pre>
            </div>
          </div>

          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ§©</div>
              <h3>æ‡’åŠ è½½éå…³é”®æ¨¡å—</h3>
            </div>
            <p>å»¶è¿ŸåŠ è½½éå¿…è¦æ¨¡å—ï¼Œæå‡åˆå§‹åŠ è½½é€Ÿåº¦</p>
            <div class="code-block">
              <pre><code>// æŒ‰éœ€åŠ è½½æ¨¡å—
if (userNeedsFeature) {
  import('./featureModule.js')
    .then(module => module.init());
}</code></pre>
            </div>
          </div>

          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ”„</div>
              <h3>é«˜æ•ˆç¼“å­˜ç­–ç•¥</h3>
            </div>
            <p>ä½¿ç”¨å†…å®¹å“ˆå¸Œæ–‡ä»¶åå®ç°é•¿æœŸç¼“å­˜</p>
            <div class="code-block">
              <pre><code>// webpack.config.js
output: {
  filename: '[name].[contenthash].js',
  chunkFilename: '[name].[contenthash].js',
}</code></pre>
            </div>
          </div>

          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ§ </div>
              <h3>Tree Shaking</h3>
            </div>
            <p>ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ï¼Œå‡å°åŒ…ä½“ç§¯</p>
            <div class="code-block">
              <pre><code>// ä»…å¯¼å…¥éœ€è¦çš„å‡½æ•°
import { specificFunction } from 'large-library';

// è€Œä¸æ˜¯æ•´ä¸ªåº“
import * as largeLibrary from 'large-library';</code></pre>
            </div>
          </div>

          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ”—</div>
              <h3>ä½¿ç”¨HTTP/2</h3>
            </div>
            <p>åˆ©ç”¨HTTP/2çš„å¤šè·¯å¤ç”¨ç‰¹æ€§å¹¶è¡ŒåŠ è½½æ¨¡å—</p>
            <div class="code-block">
              <pre><code>// æœåŠ¡å™¨é…ç½®ç¤ºä¾‹ (Nginx)
server {
  listen 443 ssl http2;
  ssl_certificate /path/to/cert.pem;
  ssl_certificate_key /path/to/key.pem;

  # å¯ç”¨æœåŠ¡å™¨æ¨é€
  http2_push_preload on;
}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">ğŸ”</div>
        <h2>é«˜çº§ä½¿ç”¨æ¨¡å¼</h2>
      </div>
      <div class="section-content">
        <div class="advanced-grid">
          <div class="advanced-card">
            <h3>å‘½åç©ºé—´å¯¼å…¥</h3>
            <div class="code-block">
              <pre><code>import * as Utils from './utils.js';

Utils.formatDate(new Date());
Utils.calculateTotal(products);</code></pre>
            </div>
          </div>

          <div class="advanced-card">
            <h3>é»˜è®¤å¯¼å‡º</h3>
            <div class="code-block">
              <pre><code>// module.js
export default class MyClass {
  // ...
}

// app.js
import MyClass from './module.js';
const instance = new MyClass();</code></pre>
            </div>
          </div>

          <div class="advanced-card">
            <h3>åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼</h3>
            <div class="code-block">
              <pre><code>// æ ¹æ®æ¡ä»¶åŠ¨æ€åŠ è½½æ¨¡å—
const moduleName = getUserPreferences() ?
  'premiumFeatures' : 'basicFeatures';

import(`./features/${moduleName}.js`)
  .then(module => module.init());</code></pre>
            </div>
          </div>

          <div class="advanced-card">
            <h3>æ¨¡å—å…ƒä¿¡æ¯</h3>
            <div class="code-block">
              <pre><code>// è·å–å½“å‰æ¨¡å—çš„URL
console.log(import.meta.url);

// åœ¨Viteä¸­è®¿é—®ç¯å¢ƒå˜é‡
console.log(import.meta.env.MODE);</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">ğŸ”</div>
        <h2>æ³¨æ„:ä»»ä½•å°†tsæˆ–è€…jsè½¬è¯‘ä¸ºASTæ ‘ä»£ç çš„å·¥å…·ï¼Œåœ¨è½¬è¯‘å‰,importè¯­å¥éƒ½å¯ä»¥ä¸å†™åœ¨é¡¶éƒ¨,<br>ä½†æ˜¯ï¼ŒåŸç”Ÿjs importè¯­å¥å¿…é¡»å†™åœ¨é¡¶éƒ¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™</h2>
      </div>
      <div class="section-content">
        <h2>è¿™æ˜¯å› ä¸ºè½¬è¯‘å‰å¯ä»¥ä¸ç®¡é¡ºåºï¼Œåæ­£è½¬è¯‘åéƒ½ä¼šå°†importæå‡åˆ°æœ€é¡¶éƒ¨</h2>
        <h2>ä¸èƒ½åœ¨æ¡ä»¶å’Œå¾ªç¯å’Œå‡½æ•°ä¸­ä½¿ç”¨ï¼Œæ˜¯å› ä¸ºåœ¨è½¬è¯‘å‰ï¼Œæ— æ³•ç¡®å®šæ¡ä»¶å’Œå¾ªç¯å’Œå‡½æ•°ä¸­æ˜¯å¦å­˜åœ¨importè¯­å¥ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼ˆè¯´ç™½äº†æ‡’å¾—å»åˆ†æï¼‰ </h2>
        <h2>åŒ…æ‹¬babelï¼Œtypescriptï¼Œesbuildï¼Œrollupï¼Œviteï¼Œwebpackç­‰å·¥å…·ï¼Œåœ¨è½¬è¯‘å‰ï¼Œimportè¯­å¥éƒ½å¯ä»¥ä¸å†™åœ¨é¡¶éƒ¨</h2>
        <div class="optimization-grid">
          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ§ </div>
              <h3>ä¸é™åˆ¶å¯¼å…¥ä½ç½®</h3>
            </div>
            <p>åœ¨è½¬è¯‘å‰ï¼ŒESæ¨¡å—çš„å¯¼å…¥è¯­å¥å¯ä»¥å‡ºç°åœ¨ä»»ä½•ä½ç½®ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡ä»¶çš„é¡¶éƒ¨ã€‚</p>
            <div class="code-block">
              <pre><code>const a = require('./a.js');
console.log(a);

import b from './b.js';
console.log(b);</code></pre>
            </div>
          </div>
          <div class="optimization-card">
            <div class="card-header">
              <div class="icon">ğŸ§ </div>
              <h3>ä½†æ˜¯ä¸èƒ½åœ¨æ¡ä»¶å’Œå¾ªç¯å’Œå‡½æ•°ä¸­ä½¿ç”¨ï¼ˆä¼šæŠ¥é”™ï¼‰</h3>
            </div>
            <p>ä¸èƒ½åœ¨æ¡ä»¶å’Œå¾ªç¯å’Œå‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
            <div class="code-block">
              <pre><code>if (condition) {
  import('./a.js');
}

for (let i = 0; i < 10; i++) {
  import('./a.js');
}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section best-practices">
      <div class="section-header">
        <div class="section-icon">â­</div>
        <h2>æœ€ä½³å®è·µ</h2>
      </div>
      <div class="section-content">
        <ul class="practices-list">
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>ä¼˜å…ˆä½¿ç”¨å‘½åå¯¼å‡º</h3>
              <p>å‘½åå¯¼å‡ºæ”¯æŒæ›´å¥½çš„Tree Shakingå’Œä»£ç æç¤º</p>
            </div>
          </li>
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>é¿å…å¾ªç¯ä¾èµ–</h3>
              <p>è™½ç„¶ESMæ”¯æŒå¾ªç¯ä¾èµ–ï¼Œä½†åº”å°½å¯èƒ½é¿å…å¤æ‚çš„å¾ªç¯å¼•ç”¨</p>
            </div>
          </li>
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>ä½¿ç”¨.jsæ‰©å±•å</h3>
              <p>åœ¨importè¯­å¥ä¸­å§‹ç»ˆåŒ…å«æ–‡ä»¶æ‰©å±•åï¼Œæé«˜å…¼å®¹æ€§</p>
            </div>
          </li>
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>æ¨¡å—èŒè´£å•ä¸€</h3>
              <p>æ¯ä¸ªæ¨¡å—åªå…³æ³¨å•ä¸€åŠŸèƒ½ï¼Œä¿æŒæ¨¡å—ç®€æ´</p>
            </div>
          </li>
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>æŒ‰åŠŸèƒ½ç»„ç»‡ç›®å½•</h3>
              <p>æŒ‰åŠŸèƒ½è€Œéç±»å‹ç»„ç»‡æ¨¡å—ç›®å½•ç»“æ„</p>
            </div>
          </li>
          <li>
            <div class="practice-icon">âœ…</div>
            <div>
              <h3>ä½¿ç”¨ç»å¯¹å¯¼å…¥è·¯å¾„</h3>
              <p>é…ç½®æ¨¡å—è§£æå™¨ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé¿å…å¤æ‚çš„ç›¸å¯¹è·¯å¾„</p>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <footer class="footer">
      <p>ES Moduleæ˜¯JavaScriptæ¨¡å—åŒ–çš„æœªæ¥ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„ä»£ç ç»„ç»‡èƒ½åŠ›å’Œæ€§èƒ½ä¼˜åŒ–ç‰¹æ€§ï¼Œæ˜¯ç°ä»£Webå¼€å‘çš„åŸºçŸ³ã€‚</p>
      <div class="resources">
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" target="_blank">MDNæ–‡æ¡£</a>
        <a href="https://exploringjs.com/es6/ch_modules.html" target="_blank">æ·±å…¥ES6æ¨¡å—</a>
        <a href="https://v8.dev/features/modules" target="_blank">V8å¼•æ“å®ç°</a>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue';

// ä¸ºæ¨¡å—åœ†ç¯ç”Ÿæˆéšæœºä½ç½®
const circleStyle = (index: number) => {
  const angle = (index / 5) * Math.PI * 2;
  const radius = 120;
  const centerX = 150;
  const centerY = 150;

  return {
    left: `${centerX + Math.cos(angle) * radius - 30}px`,
    top: `${centerY + Math.sin(angle) * radius - 30}px`,
    animationDelay: `${index * 0.2}s`
  };
};



// æ¨¡å—åŠ è½½ç»Ÿè®¡ï¼ˆæ¼”ç¤ºç”¨ï¼‰
const modulesLoaded = computed(() => Math.floor(Math.random() * 100) + 50);
</script>

<style lang="less" scoped>


// é¢œè‰²å˜é‡
@primary-color: #4361ee;
@secondary-color: #3a0ca3;
@accent-color: #4cc9f0;
@success-color: #06d6a0;
@warning-color: #ffd166;
@error-color: #ef476f;
@background: #f8f9ff;
@card-bg: #ffffff;
@text-color: #1e1b4b;
@text-secondary: #64748b;
@border-color: #e2e8f0;
@code-bg: #1e293b;

// æ··åˆå®
.box-shadow() {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
    0 2px 4px -1px rgba(0, 0, 0, 0.03);
}

.transition(@property: all, @duration: 0.3s) {
  transition: @property @duration ease;
}

// åŸºç¡€æ ·å¼
.esm-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  color: @text-color;
  background-color: @background;
}

.header {
  text-align: center;
  margin-bottom: 3rem;

  .logo-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .esm-logo {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 0 auto 2rem;

    .module-circle {
      position: absolute;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, @primary-color, @secondary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      .box-shadow();
      animation: float 3s infinite ease-in-out;
    }

    .module-circle:nth-child(1)::after {
      content: 'A';
    }

    .module-circle:nth-child(2)::after {
      content: 'B';
    }

    .module-circle:nth-child(3)::after {
      content: 'C';
    }

    .module-circle:nth-child(4)::after {
      content: 'D';
    }

    .module-circle:nth-child(5)::after {
      content: 'E';
    }
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 800;
    margin: 0 0 0.5rem 0;
    background: linear-gradient(90deg, @primary-color 0%, @secondary-color 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .subtitle {
    font-size: 1.25rem;
    color: @text-secondary;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }
}

.content-section {
  background: @card-bg;
  border-radius: 16px;
  overflow: hidden;
  .box-shadow();
  margin-bottom: 2rem;

  .section-header {
    display: flex;
    align-items: center;
    padding: 1.25rem 1.5rem;
    background: linear-gradient(90deg, @primary-color 0%, @secondary-color 100%);

    .section-icon {
      font-size: 1.8rem;
      margin-right: 1rem;
    }

    h2 {
      font-size: 1.4rem;
      font-weight: 600;
      color: white;
      margin: 0;
    }
  }

  .section-content {
    padding: 2rem;
  }
}

.concept-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.concept-card {
  background: fade(@primary-color, 5%);
  border-radius: 12px;
  padding: 1.5rem;
  border-left: 4px solid @primary-color;

  h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: @primary-color;
  }

  p,
  ul {
    margin: 0 0 1rem 0;
    color: @text-secondary;
    line-height: 1.6;
  }

  ul {
    padding-left: 1.25rem;
  }

  li {
    margin-bottom: 0.5rem;
  }

  pre.inline-code {
    background: fade(@primary-color, 10%);
    padding: 1rem;
    border-radius: 8px;
    font-family: 'Fira Code', monospace;
    font-size: 0.95rem;
    overflow-x: auto;
    margin: 1rem 0 0;
  }
}

.loading-process {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.process-step {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  position: relative;

  &::before {
    content: "";
    position: absolute;
    left: 28px;
    top: 48px;
    bottom: -20px;
    width: 2px;
    background: fade(@primary-color, 20%);
  }

  &:last-child::before {
    display: none;
  }

  .step-number {
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, @primary-color, @secondary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    font-weight: 700;
    flex-shrink: 0;
    z-index: 2;
  }

  .step-content {
    h3 {
      margin-top: 0;
      margin-bottom: 0.5rem;
      color: @primary-color;
    }

    p {
      margin: 0;
      color: @text-secondary;
      line-height: 1.6;
    }
  }
}

.comparison-table {
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid @border-color;
  margin-top: 2rem;

  .table-row {
    display: flex;

    &:nth-child(even) {
      background-color: fade(@primary-color, 3%);
    }

    &.header {
      background-color: @primary-color;

      .table-cell {
        color: white;
        font-weight: 600;
      }
    }
  }

  .table-cell {
    flex: 1;
    padding: 1rem;

    &:first-child {
      flex: 0 0 200px;
      font-weight: 500;
    }
  }
}

.optimization-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
}

.optimization-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  .box-shadow();
  border-top: 3px solid @accent-color;

  .card-header {
    display: flex;
    align-items: center;
    padding: 1.25rem;
    background: fade(@primary-color, 5%);

    .icon {
      font-size: 1.8rem;
      margin-right: 1rem;
    }

    h3 {
      margin: 0;
      color: @primary-color;
    }
  }

  p {
    padding: 0 1.25rem;
    margin: 0.5rem 0 1rem;
    color: @text-secondary;
    line-height: 1.6;
  }
}

.code-block {
  background: @code-bg;
  border-radius: 0 0 10px 10px;

  pre {
    margin: 0;
    padding: 1.25rem;
    overflow-x: auto;

    code {
      color: #cbd5e1;
      font-family: 'Fira Code', 'Source Code Pro', monospace;
      font-size: 0.95rem;
      line-height: 1.5;

      .comment {
        color: #94a3b8;
      }

      .keyword {
        color: #f472b6;
      }

      .function {
        color: #60a5fa;
      }

      .string {
        color: #34d399;
      }

      .variable {
        color: #fbbf24;
      }
    }
  }
}

.advanced-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.advanced-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  .box-shadow();

  h3 {
    background: fade(@primary-color, 5%);
    padding: 1rem 1.25rem;
    margin: 0;
    color: @primary-color;
    border-bottom: 1px solid @border-color;
  }
}

.best-practices {
  .section-content {
    padding: 2rem;
  }
}

.practices-list {
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    display: flex;
    padding: 1.25rem;
    border-bottom: 1px solid @border-color;

    &:last-child {
      border-bottom: none;
    }

    .practice-icon {
      font-size: 1.5rem;
      margin-right: 1.5rem;
      color: @success-color;
    }

    h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.2rem;
    }

    p {
      margin: 0;
      color: @text-secondary;
      line-height: 1.6;
    }
  }
}

.footer {
  text-align: center;
  padding: 2rem;
  color: @text-secondary;
  font-size: 1.05rem;
  line-height: 1.7;
  max-width: 700px;
  margin: 0 auto;

  .resources {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-top: 1.5rem;

    a {
      color: @primary-color;
      text-decoration: none;
      font-weight: 500;
      .transition();

      &:hover {
        color: darken(@primary-color, 15%);
        text-decoration: underline;
      }
    }
  }
}

// åŠ¨ç”»
@keyframes float {
  0% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }

  100% {
    transform: translateY(0);
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .esm-container {
    padding: 1.25rem;
  }

  .header {
    h1 {
      font-size: 2rem;
    }

    .subtitle {
      font-size: 1.1rem;
    }

    .esm-logo {
      width: 200px;
      height: 200px;

      .module-circle {
        width: 40px;
        height: 40px;
      }
    }
  }

  .content-section .section-content {
    padding: 1.5rem;
  }

  .process-step {
    gap: 1rem;

    .step-number {
      width: 40px;
      height: 40px;
      font-size: 1.2rem;
    }
  }
}
</style>
