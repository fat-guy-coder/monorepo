<template>
  <div class="native-methods-container">
    <header class="guide-header">
      <h1>JavaScript åŸç”Ÿæ–¹æ³•å®ç°æŒ‡å—</h1>
      <p>æ·±å…¥ç†è§£ JavaScript æ ¸å¿ƒåŸç†ï¼ŒæŒæ¡æ‰‹å†™åŸç”Ÿæ–¹æ³•çš„èƒ½åŠ›</p>
    </header>

    <div class="content-wrapper">
      <!-- å¯¼èˆª -->
      <nav class="navigation">
        <ul>
          <li v-for="section in sections" :key="section.id" @click="scrollToSection(section.id)">
            {{ section.title }}
          </li>
        </ul>
      </nav>

      <!-- å†…å®¹åŒºåŸŸ -->
      <div class="content">
        <!-- ä»‹ç»éƒ¨åˆ† -->
        <section id="introduction" class="guide-section">
          <h2>ä¸ºä»€ä¹ˆè¦æ‰‹å†™åŸç”Ÿæ–¹æ³•ï¼Ÿ</h2>
          <div class="intro-content">
            <div class="intro-card">
              <div class="intro-icon">ğŸ§ </div>
              <h3>æ·±å…¥ç†è§£åŸç†</h3>
              <p>é€šè¿‡å®ç°è¿‡ç¨‹ç†è§£ JavaScript æ ¸å¿ƒå·¥ä½œæœºåˆ¶</p>
            </div>
            <div class="intro-card">
              <div class="intro-icon">ğŸ’¡</div>
              <h3>æå‡ç¼–ç¨‹èƒ½åŠ›</h3>
              <p>é”»ç‚¼è§£å†³å¤æ‚é—®é¢˜çš„æ€ç»´å’Œç¼–ç èƒ½åŠ›</p>
            </div>
            <div class="intro-card">
              <div class="intro-icon">ğŸ”§</div>
              <h3>é¢è¯•å¿…å¤‡æŠ€èƒ½</h3>
              <p>å‰ç«¯é¢è¯•ä¸­å¸¸è§çš„æ‰‹å†™ä»£ç é¢˜ç›®</p>
            </div>
          </div>
        </section>

        <!-- æ•°ç»„æ–¹æ³• -->
        <section id="array-methods" class="guide-section">
          <h2>
            æ•°ç»„æ–¹æ³•å®ç°
            <a class="goto-link" @click="goToByRouteName('AchieveArrayMethods')">è·³è½¬</a>
          </h2>

          <div class="method-grid">
            <!-- map -->
            <div class="method-card">
              <h3>Array.prototype.map</h3>
              <p class="method-desc">
                åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>åˆ›å»ºæ–°æ•°ç»„å­˜æ”¾ç»“æœ</li>
                  <li>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒ</li>
                  <li>å°†å›è°ƒç»“æœæ”¾å…¥æ–°æ•°ç»„</li>
                  <li>è¿”å›æ–°æ•°ç»„</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myMap = function(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  const result = [];
  for (let i = 0; i < this.length; i++) {
    result.push(fn(this[i], i, this));
  }
  return result;
};</pre
              >
            </div>

            <!-- filter -->
            <div class="method-card">
              <h3>Array.prototype.filter</h3>
              <p class="method-desc">åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>åˆ›å»ºæ–°æ•°ç»„å­˜æ”¾ç»“æœ</li>
                  <li>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒ</li>
                  <li>è‹¥å›è°ƒè¿”å›çœŸå€¼ï¼Œå°†å…ƒç´ æ”¾å…¥æ–°æ•°ç»„</li>
                  <li>è¿”å›æ–°æ•°ç»„</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myFilter = function(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  const result = [];
  for (let i = 0; i < this.length; i++) {
    if (fn(this[i], i, this)) {
      result.push(this[i]);
    }
  }
  return result;
};</pre
              >
            </div>

            <!-- reduce -->
            <div class="method-card">
              <h3>Array.prototype.reduce</h3>
              <p class="method-desc">
                å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„reducerå‡½æ•°ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>å¤„ç†åˆå§‹å€¼æ˜¯å¦å­˜åœ¨</li>
                  <li>éå†æ•°ç»„ï¼Œæ‰§è¡Œreducerå‡½æ•°</li>
                  <li>æ›´æ–°ç´¯åŠ å™¨å€¼</li>
                  <li>è¿”å›æœ€ç»ˆç»“æœ</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myReduce = function(fn, initialValue) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  let accumulator = initialValue === undefined ? this[0] : initialValue;
  let startIndex = initialValue === undefined ? 1 : 0;

  for (let i = startIndex; i < this.length; i++) {
    accumulator = fn(accumulator, this[i], i, this);
  }
  return accumulator;
};</pre
              >
            </div>

            <!-- forEach -->
            <div class="method-card">
              <h3>Array.prototype.forEach</h3>
              <p class="method-desc">å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒ</li>
                  <li>æ— è¿”å›å€¼</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myForEach = function(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  for (let i = 0; i < this.length; i++) {
    fn(this[i], i, this);
  }
};</pre
              >
            </div>

            <!-- find -->
            <div class="method-card">
              <h3>Array.prototype.find</h3>
              <p class="method-desc">è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒ</li>
                  <li>è‹¥å›è°ƒè¿”å›çœŸå€¼ï¼Œè¿”å›è¯¥å…ƒç´ </li>
                  <li>è‹¥æœªæ‰¾åˆ°ï¼Œè¿”å› undefined</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myFind = function(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  for (let i = 0; i < this.length; i++) {
    if (fn(this[i], i, this)) {
      return this[i];
    }
  }
  return undefined;
};</pre
              >
            </div>

            <!-- some -->
            <div class="method-card">
              <h3>Array.prototype.some</h3>
              <p class="method-desc">æµ‹è¯•æ•°ç»„ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡äº†ç”±æä¾›çš„å‡½æ•°å®ç°çš„æµ‹è¯•</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦ä¸ºå‡½æ•°ç±»å‹</li>
                  <li>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒ</li>
                  <li>è‹¥å›è°ƒè¿”å›çœŸå€¼ï¼Œè¿”å› true</li>
                  <li>è‹¥æœªæ‰¾åˆ°ï¼Œè¿”å› false</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.mySome = function(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError(fn + ' is not a function');
  }

  for (let i = 0; i < this.length; i++) {
    if (fn(this[i], i, this)) {
      return true;
    }
  }
  return false;
};</pre
              >
            </div>

            <!-- flat -->
            <div class="method-card">
              <h3>Array.prototype.flat</h3>
              <p class="method-desc">
                æŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>å¤„ç†é»˜è®¤æ·±åº¦ä¸º1</li>
                  <li>é€’å½’å±•å¹³æ•°ç»„</li>
                  <li>æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸ºæ•°ç»„ä¸”æ·±åº¦æœªè¾¾åˆ°</li>
                  <li>é€’å½’å±•å¹³å­æ•°ç»„</li>
                </ul>
              </div>
              <pre class="code-block">
Array.prototype.myFlat = function(depth = 1) {
  const result = [];

  const flatten = (arr, currentDepth) => {
    for (const item of arr) {
      if (Array.isArray(item) && currentDepth > 0) {
        flatten(item, currentDepth - 1);
      } else {
        result.push(item);
      }
    }
  };

  flatten(this, depth);
  return result;
};</pre
              >
            </div>

            <!-- unique -->
            <div class="method-card">
              <h3>
                æ•°ç»„å»é‡ <a class="goto-link" @click="goToByRouteName('Deduplication')">è·³è½¬</a>
              </h3>
              <p class="method-desc">åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«åŸæ•°ç»„ä¸­æ‰€æœ‰ä¸é‡å¤çš„å…ƒç´ </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>ä½¿ç”¨Setæ•°æ®ç»“æ„ï¼ˆES6ï¼‰</li>
                  <li>ä½¿ç”¨å¯¹è±¡å±æ€§å”¯ä¸€æ€§</li>
                  <li>ä½¿ç”¨filterå’ŒindexOf</li>
                </ul>
              </div>
              <pre class="code-block">
// æ–¹æ³•1: ä½¿ç”¨Set
function unique1(arr) {
  return [...new Set(arr)];
}

// æ–¹æ³•2: ä½¿ç”¨å¯¹è±¡
function unique2(arr) {
  const map = {};
  return arr.filter(item =>
    map[typeof item + item] ? false : (map[typeof item + item] = true)
  );
}

// æ–¹æ³•3: ä½¿ç”¨filter
function unique3(arr) {
  return arr.filter((item, index) => arr.indexOf(item) === index);
}</pre
              >
            </div>
          </div>
        </section>

        <!-- å‡½æ•°æ–¹æ³• -->
        <section id="function-methods" class="guide-section">
          <h2>
            å‡½æ•°æ–¹æ³•å®ç°
            <a class="goto-link" @click="goToByRouteName('CallAndApplyAndBind')">è·³è½¬</a>
          </h2>

          <div class="method-grid">
            <!-- bind -->
            <div class="method-card">
              <h3>Function.prototype.bind</h3>
              <p class="method-desc">
                åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨bind()è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„thisè¢«æŒ‡å®šä¸ºbind()çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>ä¿å­˜åŸå‡½æ•°</li>
                  <li>è·å–é¢„ç½®å‚æ•°</li>
                  <li>è¿”å›æ–°å‡½æ•°</li>
                  <li>åœ¨æ–°å‡½æ•°ä¸­åˆå¹¶å‚æ•°å¹¶è°ƒç”¨åŸå‡½æ•°</li>
                  <li>å¤„ç† new æ“ä½œç¬¦æƒ…å†µ</li>
                </ul>
              </div>
              <pre class="code-block">
Function.prototype.myBind = function(context, ...args) {
  if (typeof this !== 'function') {
    throw new TypeError('Bind must be called on a function');
  }

  const self = this;

  const boundFunction = function(...innerArgs) {
    // åˆ¤æ–­æ˜¯å¦é€šè¿‡ new è°ƒç”¨
    const isNewCall = this instanceof boundFunction;
    return self.apply(
      isNewCall ? this : context,
      args.concat(innerArgs)
    );
  };

  // ç»´æŠ¤åŸå‹å…³ç³»
  if (this.prototype) {
    boundFunction.prototype = Object.create(this.prototype);
  }

  return boundFunction;
};</pre
              >
            </div>

            <!-- call -->
            <div class="method-card">
              <h3>Function.prototype.call</h3>
              <p class="method-desc">
                ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„thiså€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥è°ƒç”¨è€…æ˜¯å¦ä¸ºå‡½æ•°</li>
                  <li>åˆ›å»ºå”¯ä¸€é”®é¿å…å±æ€§è¦†ç›–</li>
                  <li>å°†å‡½æ•°ä½œä¸ºä¸Šä¸‹æ–‡å¯¹è±¡çš„æ–¹æ³•</li>
                  <li>è°ƒç”¨è¯¥æ–¹æ³•å¹¶ä¼ å…¥å‚æ•°</li>
                  <li>åˆ é™¤ä¸´æ—¶æ–¹æ³•</li>
                  <li>è¿”å›ç»“æœ</li>
                </ul>
              </div>
              <pre class="code-block">
Function.prototype.myCall = function(context, ...args) {
  if (typeof this !== 'function') {
    throw new TypeError('myCall must be called on a function');
  }

  context = context || window;
  const fnSymbol = Symbol('fn');
  context[fnSymbol] = this;

  const result = context[fnSymbol](...args);
  delete context[fnSymbol];
  return result;
};</pre
              >
            </div>

            <!-- apply -->
            <div class="method-card">
              <h3>Function.prototype.apply</h3>
              <p class="method-desc">
                è°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®šthiså€¼çš„å‡½æ•°ï¼Œä»¥åŠä»¥ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰æä¾›çš„å‚æ•°
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>ä¸callç±»ä¼¼ï¼Œä½†å‚æ•°ä¸ºæ•°ç»„</li>
                  <li>æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸ºæ•°ç»„æˆ–ç±»æ•°ç»„</li>
                  <li>å¤„ç†æ— å‚æ•°æƒ…å†µ</li>
                </ul>
              </div>
              <pre class="code-block">
Function.prototype.myApply = function(context, argsArray) {
  if (typeof this !== 'function') {
    throw new TypeError('myApply must be called on a function');
  }

  context = context || window;
  const fnSymbol = Symbol('fn');
  context[fnSymbol] = this;

  let result;
  if (argsArray && typeof argsArray === 'object' && 'length' in argsArray) {
    result = context[fnSymbol](...argsArray);
  } else {
    result = context[fnSymbol]();
  }

  delete context[fnSymbol];
  return result;
};</pre
              >
            </div>
          </div>
        </section>

        <!-- å¯¹è±¡æ–¹æ³• -->
        <section id="object-methods" class="guide-section">
          <h2>å¯¹è±¡æ–¹æ³•å®ç°</h2>

          <div class="method-grid">
            <!-- create -->
            <div class="method-card">
              <h3>Object.create</h3>
              <p class="method-desc">åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„__proto__</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>åˆ›å»ºæ–°å‡½æ•°ä½œä¸ºä¸­ä»‹</li>
                  <li>è®¾ç½®ä¸­ä»‹å‡½æ•°çš„prototypeä¸ºproto</li>
                  <li>ä½¿ç”¨newåˆ›å»ºæ–°å¯¹è±¡</li>
                  <li>å¤„ç†nullåŸå‹æƒ…å†µ</li>
                </ul>
              </div>
              <pre class="code-block">
Object.myCreate = function(proto, propertiesObject) {
  if (typeof proto !== 'object' && typeof proto !== 'null') {
    throw new TypeError('Object prototype may only be an Object or null');
  }

  function F() {}
  F.prototype = proto;
  const obj = new F();

  if (propertiesObject !== undefined) {
    Object.defineProperties(obj, propertiesObject);
  }

  if (proto === null) {
    obj.__proto__ = null;
  }

  return obj;
};</pre
              >
            </div>

            <!-- assign -->
            <div class="method-card">
              <h3>Object.assign</h3>
              <p class="method-desc">
                å°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè¿”å›ç›®æ ‡å¯¹è±¡
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>æ£€æŸ¥ç›®æ ‡å¯¹è±¡æ˜¯å¦æœ‰æ•ˆ</li>
                  <li>éå†æºå¯¹è±¡</li>
                  <li>å¤åˆ¶å¯æšä¸¾å±æ€§</li>
                  <li>å¤„ç†Symbolå±æ€§</li>
                </ul>
              </div>
              <pre class="code-block">
Object.myAssign = function(target, ...sources) {
  if (target === null || target === undefined) {
    throw new TypeError('Cannot convert undefined or null to object');
  }

  const to = Object(target);

  for (const source of sources) {
    if (source !== null && source !== undefined) {
      for (const key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          to[key] = source[key];
        }
      }

      // å¤åˆ¶Symbolå±æ€§
      const symbols = Object.getOwnPropertySymbols(source);
      for (const sym of symbols) {
        to[sym] = source[sym];
      }
    }
  }

  return to;
};</pre
              >
            </div>

            <!-- is -->
            <div class="method-card">
              <h3>Object.is</h3>
              <p class="method-desc">åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ºåŒä¸€ä¸ªå€¼</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>å¤„ç†NaNç›¸ç­‰æƒ…å†µ</li>
                  <li>å¤„ç†+0å’Œ-0ä¸ç›¸ç­‰æƒ…å†µ</li>
                  <li>å…¶ä»–æƒ…å†µä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰</li>
                </ul>
              </div>
              <pre class="code-block">
Object.myIs = function(a, b) {
  // å¤„ç† NaN çš„æƒ…å†µ
  if (a !== a && b !== b) return true;

  // å¤„ç† +0 å’Œ -0 çš„æƒ…å†µ
  if (a === 0 && b === 0) {
    return 1 / a === 1 / b;
  }

  // å…¶ä»–æƒ…å†µ
  return a === b;
};</pre
              >
            </div>
          </div>
        </section>

        <!-- å…¶ä»–æ ¸å¿ƒæ–¹æ³• -->
        <section id="other-methods" class="guide-section">
          <h2>å…¶ä»–æ ¸å¿ƒæ–¹æ³•å®ç°</h2>

          <div class="method-grid">
            <!-- new -->
            <div class="method-card">
              <h3>
                new æ“ä½œç¬¦ <a class="goto-link" @click="goToByRouteName('AchieveNew')">è·³è½¬</a>
              </h3>
              <p class="method-desc">
                åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>åˆ›å»ºæ–°å¯¹è±¡</li>
                  <li>è®¾ç½®åŸå‹é“¾</li>
                  <li>ç»‘å®šthiså¹¶æ‰§è¡Œæ„é€ å‡½æ•°</li>
                  <li>å¤„ç†è¿”å›å€¼</li>
                </ul>
              </div>
              <pre class="code-block">
function myNew(constructor, ...args) {
  // 1. åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶é“¾æ¥åˆ°æ„é€ å‡½æ•°çš„prototype
  const obj = Object.create(constructor.prototype);

  // 2. ç»‘å®šthiså¹¶æ‰§è¡Œæ„é€ å‡½æ•°
  const result = constructor.apply(obj, args);

  // 3. å¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡åˆ™è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™è¿”å›æ–°å¯¹è±¡
  return result instanceof Object ? result : obj;
}</pre
              >
            </div>

            <!-- instanceof -->
            <div class="method-card">
              <h3>
                instanceof
                <a class="goto-link" @click="goToByRouteName('AchieveInstanceof')">è·³è½¬</a>
              </h3>
              <p class="method-desc">æ£€æµ‹æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>è·å–å¯¹è±¡çš„åŸå‹</li>
                  <li>è·å–æ„é€ å‡½æ•°çš„prototype</li>
                  <li>éå†åŸå‹é“¾è¿›è¡Œæ¯”è¾ƒ</li>
                </ul>
              </div>
              <pre class="code-block">
function myInstanceof(obj, constructor) {
  // åŸºæœ¬ç±»å‹ç›´æ¥è¿”å›false
  if (obj === null || typeof obj !== 'object') return false;

  let proto = Object.getPrototypeOf(obj);
  const prototype = constructor.prototype;

  while (proto !== null) {
    if (proto === prototype) return true;
    proto = Object.getPrototypeOf(proto);
  }

  return false;
}</pre
              >
            </div>

            <!-- æ·±æ‹·è´ -->
            <div class="method-card">
              <h3>æ·±æ‹·è´ <a class="goto-link" @click="goToByRouteName('DeepCopy')">è·³è½¬</a></h3>
              <p class="method-desc">åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå®Œå…¨å¤åˆ¶åŸå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ˆåŒ…æ‹¬åµŒå¥—å¯¹è±¡ï¼‰</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>å¤„ç†åŸºæœ¬æ•°æ®ç±»å‹</li>
                  <li>å¤„ç†æ•°ç»„å’Œå¯¹è±¡</li>
                  <li>å¤„ç†å¾ªç¯å¼•ç”¨</li>
                  <li>å¤„ç†ç‰¹æ®Šå¯¹è±¡ï¼ˆDateã€RegExpç­‰ï¼‰</li>
                  <li>ä½¿ç”¨WeakMapè§£å†³å¾ªç¯å¼•ç”¨</li>
                </ul>
              </div>
              <pre class="code-block">
function deepClone(target, map = new WeakMap()) {
  // åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥è¿”å›
  if (target === null || typeof target !== 'object') {
    return target;
  }

  // å¤„ç†å¾ªç¯å¼•ç”¨
  if (map.has(target)) {
    return map.get(target);
  }

  // å¤„ç†ç‰¹æ®Šå¯¹è±¡
  if (target instanceof Date) return new Date(target);
  if (target instanceof RegExp) return new RegExp(target);

  // å¤„ç†æ•°ç»„å’Œå¯¹è±¡
  const cloneTarget = Array.isArray(target) ? [] : {};
  map.set(target, cloneTarget);

  // é€’å½’æ‹·è´æ‰€æœ‰å±æ€§
  for (const key in target) {
    if (target.hasOwnProperty(key)) {
      cloneTarget[key] = deepClone(target[key], map);
    }
  }

  // å¤„ç†Symbolå±æ€§
  const symbols = Object.getOwnPropertySymbols(target);
  for (const sym of symbols) {
    cloneTarget[sym] = deepClone(target[sym], map);
  }

  return cloneTarget;
}</pre
              >
            </div>

            <!-- Promise -->
            <div class="method-card">
              <h3>
                Promise (ç®€åŒ–ç‰ˆ)
                <a class="goto-link" @click="goToByRouteName('PromiseImplementation')">è·³è½¬</a>
              </h3>
              <p class="method-desc">è¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœå€¼</p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>å®šä¹‰ä¸‰ç§çŠ¶æ€</li>
                  <li>å®ç°thenæ–¹æ³•é“¾å¼è°ƒç”¨</li>
                  <li>å¤„ç†å¼‚æ­¥æ“ä½œ</li>
                  <li>å®ç°resolveå’Œreject</li>
                  <li>å¤„ç†é“¾å¼è°ƒç”¨ä¸­çš„å€¼ä¼ é€’</li>
                </ul>
              </div>
              <pre class="code-block">
class MyPromise {
  static PENDING = 'pending';
  static FULFILLED = 'fulfilled';
  static REJECTED = 'rejected';

  constructor(executor) {
    this.state = MyPromise.PENDING;
    this.value = null;
    this.callbacks = [];

    const resolve = value => {
      if (this.state !== MyPromise.PENDING) return;
      this.state = MyPromise.FULFILLED;
      this.value = value;
      this.callbacks.forEach(cb => this.handle(cb));
    };

    const reject = reason => {
      if (this.state !== MyPromise.PENDING) return;
      this.state = MyPromise.REJECTED;
      this.value = reason;
      this.callbacks.forEach(cb => this.handle(cb));
    };

    try {
      executor(resolve, reject);
    } catch (error) {
      reject(error);
    }
  }

  handle(callback) {
    if (this.state === MyPromise.PENDING) {
      this.callbacks.push(callback);
      return;
    }

    const cb = this.state === MyPromise.FULFILLED
      ? callback.onFulfilled
      : callback.onRejected;

    if (!cb) {
      const handler = this.state === MyPromise.FULFILLED
        ? callback.resolve
        : callback.reject;
      handler(this.value);
      return;
    }

    try {
      const result = cb(this.value);
      callback.resolve(result);
    } catch (error) {
      callback.reject(error);
    }
  }

  then(onFulfilled, onRejected) {
    return new MyPromise((resolve, reject) => {
      this.handle({
        onFulfilled: typeof onFulfilled === 'function' ? onFulfilled : null,
        onRejected: typeof onRejected === 'function' ? onRejected : null,
        resolve,
        reject
      });
    });
  }

  catch(onRejected) {
    return this.then(null, onRejected);
  }
}</pre
              >
            </div>

            <!-- é˜²æŠ– -->
            <div class="method-card">
              <h3>
                é˜²æŠ– (debounce)
                <a class="goto-link" @click="goToByRouteName('DebounceThrottle')">è·³è½¬</a>
              </h3>
              <p class="method-desc">
                åœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>ä½¿ç”¨å®šæ—¶å™¨å»¶è¿Ÿæ‰§è¡Œ</li>
                  <li>æ¯æ¬¡è°ƒç”¨æ¸…é™¤å‰ä¸€ä¸ªå®šæ—¶å™¨</li>
                  <li>æ”¯æŒç«‹å³æ‰§è¡Œé€‰é¡¹</li>
                  <li>è¿”å›ç»“æœå¤„ç†</li>
                </ul>
              </div>
              <pre class="code-block">
function debounce(fn, delay, immediate = false) {
  let timer = null;
  let isInvoked = false;
  let result;

  const debounced = function(...args) {
    const context = this;

    if (timer) clearTimeout(timer);

    if (immediate && !isInvoked) {
      result = fn.apply(context, args);
      isInvoked = true;
    }

    timer = setTimeout(() => {
      if (!immediate) {
        result = fn.apply(context, args);
      }
      timer = null;
      isInvoked = false;
    }, delay);

    return result;
  };

  // å–æ¶ˆåŠŸèƒ½
  debounced.cancel = function() {
    if (timer) {
      clearTimeout(timer);
      timer = null;
      isInvoked = false;
    }
  };

  return debounced;
}</pre
              >
            </div>

            <!-- èŠ‚æµ -->
            <div class="method-card">
              <h3>
                èŠ‚æµ (throttle)
                <a class="goto-link" @click="goToByRouteName('DebounceThrottle')">è·³è½¬</a>
              </h3>
              <p class="method-desc">
                è§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ
              </p>
              <div class="implementation">
                <h4>å®ç°æ€è·¯</h4>
                <ul>
                  <li>ä½¿ç”¨æ—¶é—´æˆ³æˆ–å®šæ—¶å™¨</li>
                  <li>è®°å½•ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´</li>
                  <li>æ”¯æŒç«‹å³æ‰§è¡Œå’Œå°¾éƒ¨æ‰§è¡Œé€‰é¡¹</li>
                </ul>
              </div>
              <pre class="code-block">
function throttle(fn, delay, options = {}) {
  let timer = null;
  let lastTime = 0;
  const { leading = true, trailing = true } = options;

  const throttled = function(...args) {
    const context = this;
    const now = Date.now();

    // ç¬¬ä¸€æ¬¡ä¸æ‰§è¡Œï¼ˆleadingä¸ºfalseï¼‰
    if (!lastTime && !leading) lastTime = now;

    const remaining = delay - (now - lastTime);

    if (remaining <= 0 || remaining > delay) {
      if (timer) {
        clearTimeout(timer);
        timer = null;
      }

      lastTime = now;
      fn.apply(context, args);
    } else if (!timer && trailing) {
      timer = setTimeout(() => {
        lastTime = leading ? Date.now() : 0;
        timer = null;
        fn.apply(context, args);
      }, remaining);
    }
  };

  // å–æ¶ˆåŠŸèƒ½
  throttled.cancel = function() {
    if (timer) {
      clearTimeout(timer);
      timer = null;
      lastTime = 0;
    }
  };

  return throttled;
}</pre
              >
            </div>
          </div>
        </section>

        <!-- æ€»ç»“ -->
        <section id="conclusion" class="guide-section">
          <h2>æ€»ç»“ä¸å»ºè®®</h2>
          <div class="conclusion-content">
            <div class="key-points">
              <h3>å…³é”®å­¦ä¹ ç‚¹</h3>
              <ul>
                <li>ç†è§£ JavaScript æ ¸å¿ƒåŸç†å’Œè¿è¡Œæœºåˆ¶</li>
                <li>æŒæ¡é—­åŒ…ã€åŸå‹é“¾ã€ä½œç”¨åŸŸç­‰æ ¸å¿ƒæ¦‚å¿µ</li>
                <li>ç†Ÿæ‚‰å„ç§æ•°æ®ç»“æ„å’Œç®—æ³•åº”ç”¨</li>
                <li>å­¦ä¼šå¤„ç†è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸</li>
              </ul>
            </div>

            <div class="practice-tips">
              <h3>ç»ƒä¹ å»ºè®®</h3>
              <ul>
                <li>ä»ç®€å•æ–¹æ³•å¼€å§‹ï¼Œé€æ­¥æŒ‘æˆ˜æ›´å¤æ‚çš„å®ç°</li>
                <li>ç¼–å†™æµ‹è¯•ç”¨ä¾‹éªŒè¯å®ç°çš„æ­£ç¡®æ€§</li>
                <li>æ¯”è¾ƒè‡ªå·±çš„å®ç°ä¸åŸç”Ÿæ–¹æ³•çš„å·®å¼‚</li>
                <li>å°è¯•ä¼˜åŒ–å®ç°çš„æ€§èƒ½</li>
                <li>é˜…è¯» JavaScript å¼•æ“æºç ï¼ˆå¦‚V8ï¼‰åŠ æ·±ç†è§£</li>
              </ul>
            </div>

            <div class="final-note">
              <p>
                æ‰‹å†™åŸç”Ÿæ–¹æ³•æ˜¯æ·±å…¥ç†è§£ JavaScript çš„ç»ä½³é€”å¾„ã€‚é€šè¿‡å®ç°è¿™äº›æ ¸å¿ƒåŠŸèƒ½ï¼Œ
                ä½ ä¸ä»…èƒ½æå‡ç¼–ç¨‹èƒ½åŠ›ï¼Œè¿˜èƒ½åœ¨å‰ç«¯é¢è¯•ä¸­è„±é¢–è€Œå‡ºã€‚ ä¸æ–­ç»ƒä¹ å’Œæ€è€ƒï¼Œä½ ä¼šå¯¹ JavaScript
                æœ‰æ›´æ·±å±‚æ¬¡çš„è®¤è¯†ï¼
              </p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, defineEmits } from 'vue'

const emit = defineEmits(['goToByRouteName'])

const goToByRouteName = (routeName: string) => {
  emit('goToByRouteName', routeName)
}

// å¯¼èˆªéƒ¨åˆ†
const sections = ref([
  { id: 'introduction', title: 'ä»‹ç»' },
  { id: 'array-methods', title: 'æ•°ç»„æ–¹æ³•' },
  { id: 'function-methods', title: 'å‡½æ•°æ–¹æ³•' },
  { id: 'object-methods', title: 'å¯¹è±¡æ–¹æ³•' },
  { id: 'other-methods', title: 'å…¶ä»–æ–¹æ³•' },
  { id: 'conclusion', title: 'æ€»ç»“' },
])

// æ»šåŠ¨åˆ°æŒ‡å®šéƒ¨åˆ†
const scrollToSection = (id: string) => {
  const element = document.getElementById(id)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}
</script>

<style scoped lang="less">
@primary-color: #4a7bf7;
@secondary-color: #6c5ce7;
@text-color: #2d3436;
@light-bg: #f8f9fa;
@border-color: #e0e0e0;
@card-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
@code-bg: #2d3436;
@code-color: #f1f2f6;

.goto-link {
  color: @primary-color;
  cursor: pointer;
  text-decoration: underline;
  margin-left: 10px;
}

.native-methods-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: @text-color;
  background-color: #fff;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
  border-radius: 8px;
}

.guide-header {
  text-align: center;
  margin-bottom: 2.5rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid @border-color;

  h1 {
    color: @primary-color;
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }

  p {
    font-size: 1.1rem;
    color: lighten(@text-color, 20%);
  }
}

.content-wrapper {
  display: flex;
  gap: 2rem;
}

.navigation {
  flex: 0 0 200px;
  position: sticky;
  top: 2rem;
  height: fit-content;
  background: @light-bg;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: @card-shadow;

  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      padding: 0.8rem 1rem;
      margin-bottom: 0.5rem;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;

      &:hover {
        background: lighten(@primary-color, 40%);
        color: @primary-color;
      }

      &:active {
        transform: translateY(1px);
      }
    }
  }
}

.content {
  flex: 1;
}

.guide-section {
  margin-bottom: 3rem;

  h2 {
    color: @secondary-color;
    font-size: 1.8rem;
    margin-top: 0;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid lighten(@secondary-color, 40%);
  }
}

.intro-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.intro-card {
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  text-align: center;
  box-shadow: @card-shadow;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }

  .intro-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  h3 {
    margin: 0.5rem 0 1rem;
    color: @primary-color;
  }
}

.method-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.method-card {
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: @card-shadow;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
  }

  h3 {
    margin-top: 0;
    color: @primary-color;
    border-bottom: 1px solid @border-color;
    padding-bottom: 0.5rem;
  }
}

.method-desc {
  color: lighten(@text-color, 20%);
  font-size: 0.95rem;
  margin: 0.5rem 0 1rem;
  min-height: 3rem;
}

.implementation {
  background: lighten(@light-bg, 1%);
  border-radius: 6px;
  padding: 1rem;
  margin-bottom: 1rem;

  h4 {
    margin-top: 0;
    color: @secondary-color;
  }

  ul {
    padding-left: 1.5rem;
    margin: 0.5rem 0;

    li {
      margin-bottom: 0.3rem;
      font-size: 0.9rem;
      line-height: 1.4;
    }
  }
}

.code-block {
  display: block;
  background: @code-bg;
  color: @code-color;
  border-radius: 6px;
  padding: 1.2rem;
  font-family: 'Fira Code', 'Consolas', monospace;
  font-size: 0.95rem;
  overflow-x: auto;
  margin: 1rem 0 0;
  line-height: 1.5;
  border-left: 3px solid @primary-color;
}

.conclusion-content {
  background: lighten(@light-bg, 1%);
  border-radius: 8px;
  padding: 1.5rem;

  .key-points,
  .practice-tips {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: @card-shadow;

    h3 {
      margin-top: 0;
      color: @primary-color;
      border-bottom: 1px solid @border-color;
      padding-bottom: 0.5rem;
    }

    ul {
      padding-left: 1.5rem;

      li {
        margin-bottom: 0.5rem;
      }
    }
  }

  .final-note {
    background: lighten(@primary-color, 48%);
    border-left: 4px solid @primary-color;
    border-radius: 0 8px 8px 0;
    padding: 1.5rem;
    margin-top: 1.5rem;

    p {
      margin: 0;
      line-height: 1.6;
    }
  }
}

@media (max-width: 768px) {
  .content-wrapper {
    flex-direction: column;
  }

  .navigation {
    position: static;
    margin-bottom: 1.5rem;
  }

  .method-grid {
    grid-template-columns: 1fr;
  }
}
</style>
