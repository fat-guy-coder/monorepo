<template>
  <div class="float-container">
    <header class="header">
      <div class="title-container">
        <h1>JavaScript æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜è§£æ</h1>
        <p class="subtitle">ä¸ºä»€ä¹ˆ 0.1 + 0.2 â‰  0.3ï¼Ÿæ·±å…¥ç†è§£ä¸è§£å†³æ–¹æ¡ˆ</p>
      </div>
      <div class="problem-example">
        <div class="code-block">
          <pre><code>console.log(0.1 + 0.2);
// è¾“å‡º: 0.30000000000000004</code></pre>
        </div>
      </div>
    </header>

    <div class="content-container">
      <nav class="sidebar">
        <div class="section-title">å†…å®¹å¯¼èˆª</div>
        <ul>
          <li v-for="item in navItems" :key="item.id" :class="{ active: activeSection === item.id }"
            @click="activeSection = item.id">
            <span>{{ item.title }}</span>
          </li>
        </ul>
      </nav>

      <main class="main-content">
        <!-- é—®é¢˜ç°è±¡ -->
        <section v-show="activeSection === 'problem'" class="section">
          <div class="section-header">
            <h2>æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ç°è±¡</h2>
            <div class="tag">ä»¤äººå›°æƒ‘çš„ç»“æœ</div>
          </div>

          <div class="card">
            <div class="problem-grid">
              <div class="problem-card">
                <div class="problem-icon">ğŸ¤”</div>
                <h3>ç›´è§‚çš„æ•°å­¦é”™è¯¯</h3>
                <p>åœ¨ JavaScript ä¸­æ‰§è¡ŒåŸºæœ¬çš„æ•°å­¦è¿ç®—æ—¶ï¼Œæœ‰æ—¶ä¼šå¾—åˆ°ä¸ç¬¦åˆé¢„æœŸçš„ç»“æœ</p>
                <div class="code-block">
                  <pre><code>0.1 + 0.2 === 0.3; // false
0.1 + 0.2; // 0.30000000000000004</code></pre>
                </div>
              </div>

              <div class="problem-card">
                <div class="problem-icon">ğŸ”</div>
                <h3>æ›´å¤šé—®é¢˜ç¤ºä¾‹</h3>
                <p>è¿™äº›ä¸æ˜¯ä¸ªä¾‹ï¼Œè€Œæ˜¯æµ®ç‚¹æ•°è¡¨ç¤ºæ³•çš„ç³»ç»Ÿæ€§é—®é¢˜</p>
                <div class="code-block">
                  <pre><code>0.7 * 10; // 6.999999999999999
0.1 + 0.4; // 0.5 (æ­£ç¡®)
0.15 * 0.15; // 0.022500000000000003
1.005 * 100; // 100.49999999999999</code></pre>
                </div>
              </div>
            </div>

            <div class="consequences">
              <h3>ç²¾åº¦é—®é¢˜å¸¦æ¥çš„åæœ</h3>
              <div class="consequence-list">
                <div class="consequence">
                  <div class="icon">ğŸ’°</div>
                  <div>
                    <h4>è´¢åŠ¡è®¡ç®—é”™è¯¯</h4>
                    <p>åœ¨é‡‘èåº”ç”¨ä¸­å¯èƒ½å¯¼è‡´ä¸¥é‡çš„è®¡ç®—é”™è¯¯</p>
                  </div>
                </div>
                <div class="consequence">
                  <div class="icon">ğŸ“Š</div>
                  <div>
                    <h4>æ•°æ®ä¸ä¸€è‡´</h4>
                    <p>æ¯”è¾ƒæ“ä½œå¯èƒ½å¤±è´¥ï¼Œå¯¼è‡´é€»è¾‘é”™è¯¯</p>
                  </div>
                </div>
                <div class="consequence">
                  <div class="icon">ğŸ“‰</div>
                  <div>
                    <h4>ç§‘å­¦è®¡ç®—åå·®</h4>
                    <p>åœ¨ç§‘å­¦è®¡ç®—ä¸­ç´¯ç§¯è¯¯å·®å¯èƒ½å½±å“æœ€ç»ˆç»“æœ</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- é—®é¢˜åŸç† -->
        <section v-show="activeSection === 'principle'" class="section">
          <div class="section-header">
            <h2>é—®é¢˜åŸç†åˆ†æ</h2>
            <div class="tag">IEEE 754 æ ‡å‡†</div>
          </div>

          <div class="card">
            <div class="ieee754">
              <h3>IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°æ ¼å¼</h3>
              <div class="float-representation">
                <div class="sign-bit">
                  <div class="bit">1 bit</div>
                  <div class="label">ç¬¦å·ä½ (Sign)</div>
                </div>
                <div class="exponent">
                  <div class="bit">11 bits</div>
                  <div class="label">æŒ‡æ•°éƒ¨åˆ† (Exponent)</div>
                </div>
                <div class="mantissa">
                  <div class="bit">52 bits</div>
                  <div class="label">å°¾æ•°éƒ¨åˆ† (Mantissa)</div>
                </div>
              </div>
              <div class="total-bits">64 bits æ€»é•¿åº¦</div>

              <div class="explanation">
                <p>JavaScript ä½¿ç”¨ IEEE 754 æ ‡å‡†çš„ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°è¡¨ç¤ºæ‰€æœ‰æ•°å­—ï¼š</p>
                <ul>
                  <li><strong>ç¬¦å·ä½ (1 bit)</strong>ï¼šå†³å®šæ•°å­—çš„æ­£è´Ÿ</li>
                  <li><strong>æŒ‡æ•°éƒ¨åˆ† (11 bits)</strong>ï¼šè¡¨ç¤ºæ•°å­—çš„è§„æ¨¡</li>
                  <li><strong>å°¾æ•°éƒ¨åˆ† (52 bits)</strong>ï¼šè¡¨ç¤ºæ•°å­—çš„ç²¾åº¦</li>
                </ul>
              </div>
            </div>

            <div class="binary-problem">
              <h3>äºŒè¿›åˆ¶è¡¨ç¤ºé—®é¢˜</h3>
              <div class="problem-steps">
                <div class="step">
                  <div class="step-number">1</div>
                  <div class="step-content">
                    <h3>ç§‘å­¦è®¡æ•°æ³• 1.234 * 10^3 ===> äºŒè¿›åˆ¶ 0(ç¬¦å·ä½) 10000000011(æŒ‡æ•°ä½) 1.00101011100(å°¾æ•°ä½)</h3>
                    <h3>æ•´æ•°6äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 1110 é‚£ä¹ˆ6.1 äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 1110.1å— </h3>
                    <h3>æŒ‰ç…§è¿›åˆ¶åº”è¯¥æ˜¯8(1) 4(1) 2(1) 1(1) 0 0.5(1) 0.25(1) 0.125(1) 0.0625(1) ä½†æ˜¯è¿™æ ·è¡¨ç¤ºä¸äº†0.1</h3>
                    <h3>æ‰€ä»¥0.1 åªèƒ½ä¸å°æ•°ç‚¹å·¦è¾¹çš„è®¡ç®—æ–¹å¼ç›¸å(å‘å³è¿›ä½) 0.1*2=>0.2*2=>0.4*2=>0.8 ç›¸å½“äº0.001(å¹¶ä¸”è¿™ä¸ªå€¼è¿˜æ˜¯ä¸º0.8å¹¶ä¸æ˜¯1) ç»§ç»­åˆ‡å‰²0.8*2 = 1.6
                      1.6-1=0.6
                      è¿™ä¸ª0.6åˆè¦ç»§ç»­*2ç„¶ååˆ‡å‰²ä½†æ˜¯è¿™æ ·å°±æ— é™å¾ªç¯äº†</h3>
                    <h3>æ‰€ä»¥æœ€ç»ˆ0.1 è¡¨ç¤ºä¸º 0.0001100110011001100110011001100110011001100110011001101</h3>
                    <h3>æ‰€ä»¥è®¡ç®—æœºå­˜å‚¨æ—¶å¤ªé•¿åªèƒ½å­˜å‚¨è¿‘ä¼¼å€¼æˆ–è€…ç›´æ¥æˆªå–ï¼Œæ‰€ä»¥ä¸€æ¥äºŒå»å°±ä¸¢å¤±äº†ç²¾åº¦</h3>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">2</div>
                  <div class="step-content">
                    <h4>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h4>
                    <p>0.1 åœ¨äºŒè¿›åˆ¶ä¸­æ˜¯æ— é™å¾ªç¯å°æ•°ï¼š0.0001100110011...</p>
                    <div class="binary">0.1<sub>10</sub> = 0.0001100110011...<sub>2</sub></div>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">3</div>
                  <div class="step-content">
                    <h4>å­˜å‚¨é™åˆ¶</h4>
                    <p>64 ä½æµ®ç‚¹æ•°åªèƒ½å­˜å‚¨ 52 ä½å°¾æ•°ï¼Œå¿…é¡»è¿›è¡Œèˆå…¥</p>
                    <div class="binary">å­˜å‚¨ä¸º: 0.0001100110011001100110011001100110011001100110011001101<sub>2</sub></div>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">4</div>
                  <div class="step-content">
                    <h4>ç²¾åº¦æŸå¤±</h4>
                    <p>èˆå…¥å¯¼è‡´ç²¾åº¦æŸå¤±ï¼Œå­˜å‚¨çš„å€¼æ˜¯è¿‘ä¼¼å€¼è€Œéç²¾ç¡®å€¼</p>
                    <div class="binary">å®é™…å­˜å‚¨å€¼: 0.1000000000000000055511151231257827</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="visualization">
              <h3>ç²¾åº¦æŸå¤±å¯è§†åŒ–</h3>
              <div class="precision-loss">
                <div class="real-value">å®é™…å€¼: 0.1</div>
                <div class="arrow">â†“</div>
                <div class="stored-value">å­˜å‚¨å€¼: 0.1000000000000000055511151231257827</div>
                <div class="arrow">â†“</div>
                <div class="difference">ç²¾åº¦æŸå¤±: 0.0000000000000000055511151231257827</div>
              </div>
              <div class="note">æ³¨ï¼šè¿™ç§ç²¾åº¦æŸå¤±åœ¨å¤šæ¬¡è¿ç®—ä¸­ä¼šç´¯ç§¯æ”¾å¤§</div>
            </div>
          </div>
        </section>

        <!-- è§£å†³æ–¹æ¡ˆ -->
        <section v-show="activeSection === 'solutions'" class="section">
          <div class="section-header">
            <h2>è§£å†³æ–¹æ¡ˆä¸æœ€ä½³å®è·µ</h2>
            <div class="tag">åº”å¯¹ç²¾åº¦é—®é¢˜</div>
          </div>

          <div class="card">
            <div class="solution-methods">
              <div class="method">
                <div class="method-header">
                  <div class="method-icon">ğŸ”¢</div>
                  <h3>è½¬æ¢ä¸ºæ•´æ•°è®¡ç®—</h3>
                </div>
                <div class="method-desc">
                  <p>å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°è¿›è¡Œè®¡ç®—ï¼Œç„¶åå†è½¬æ¢å›æµ®ç‚¹æ•°</p>
                  <div class="code-block">
                    <pre><code>// å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°è®¡ç®—
function add(a, b) {
  const multiplier = Math.pow(10, Math.max(
    a.toString().split('.')[1]?.length || 0,
    b.toString().split('.')[1]?.length || 0
  ));

  return (a * multiplier + b * multiplier) / multiplier;
}

add(0.1, 0.2); // 0.3</code></pre>
                  </div>
                </div>
                <div class="pros-cons">
                  <div class="pros">
                    <div class="title">ä¼˜ç‚¹</div>
                    <ul>
                      <li>æ— éœ€å¤–éƒ¨åº“</li>
                      <li>ç®€å•ç›´è§‚</li>
                    </ul>
                  </div>
                  <div class="cons">
                    <div class="title">ç¼ºç‚¹</div>
                    <ul>
                      <li>å¤„ç†å¤§æ•°å¯èƒ½æº¢å‡º</li>
                      <li>éœ€è¦çŸ¥é“å°æ•°ä½æ•°</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="method">
                <div class="method-header">
                  <div class="method-icon">ğŸ“¦</div>
                  <h3>ä½¿ç”¨ä¸“ç”¨åº“</h3>
                </div>
                <div class="method-desc">
                  <p>ä½¿ç”¨ä¸“é—¨å¤„ç†ç²¾ç¡®æ•°å­¦è¿ç®—çš„åº“</p>
                  <div class="libraries">
                    <div class="library">
                      <div class="name">decimal.js</div>
                      <div class="code">
                        <pre><code>import Decimal from 'decimal.js';

new Decimal(0.1).plus(0.2).toNumber(); // 0.3</code></pre>
                      </div>
                    </div>
                    <div class="library">
                      <div class="name">big.js</div>
                      <div class="code">
                        <pre><code>import Big from 'big.js';

new Big(0.1).plus(0.2).toNumber(); // 0.3</code></pre>
                      </div>
                    </div>
                    <div class="library">
                      <div class="name">math.js</div>
                      <div class="code">
                        <pre><code>import math from 'mathjs';

math.add(0.1, 0.2); // 0.3</code></pre>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="pros-cons">
                  <div class="pros">
                    <div class="title">ä¼˜ç‚¹</div>
                    <ul>
                      <li>é«˜ç²¾åº¦è®¡ç®—</li>
                      <li>ä¸°å¯Œçš„æ•°å­¦å‡½æ•°</li>
                    </ul>
                  </div>
                  <div class="cons">
                    <div class="title">ç¼ºç‚¹</div>
                    <ul>
                      <li>å¢åŠ é¡¹ç›®ä½“ç§¯</li>
                      <li>å­¦ä¹ æˆæœ¬</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="method">
                <div class="method-header">
                  <div class="method-icon">ğŸ¯</div>
                  <h3>ä½¿ç”¨ toFixed å’Œ parseFloat</h3>
                </div>
                <div class="method-desc">
                  <p>å¯¹ç»“æœè¿›è¡Œå››èˆäº”å…¥å¤„ç†ï¼Œä½†éœ€æ³¨æ„å…¶å±€é™æ€§</p>
                  <div class="code-block">
                    <pre><code>// ä½¿ç”¨ toFixed å¤„ç†æ˜¾ç¤º
const result = 0.1 + 0.2; // 0.30000000000000004

// è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å››èˆäº”å…¥
const fixed = result.toFixed(2); // "0.30"

// è½¬æ¢å›æ•°å­—
parseFloat(fixed); // 0.3</code></pre>
                  </div>
                  <div class="warning">
                    <div class="icon">âš ï¸</div>
                    <div>
                      <strong>æ³¨æ„ï¼š</strong>
                      <p>toFixed() è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”å››èˆäº”å…¥è§„åˆ™å¯èƒ½ä¸ç¬¦åˆæ‰€æœ‰åœºæ™¯éœ€æ±‚</p>
                    </div>
                  </div>
                </div>
                <div class="pros-cons">
                  <div class="pros">
                    <div class="title">ä¼˜ç‚¹</div>
                    <ul>
                      <li>å†…ç½®æ–¹æ³•æ— éœ€ä¾èµ–</li>
                      <li>ç®€å•æ˜“ç”¨</li>
                    </ul>
                  </div>
                  <div class="cons">
                    <div class="title">ç¼ºç‚¹</div>
                    <ul>
                      <li>ä¸é€‚ç”¨äºä¸­é—´è®¡ç®—</li>
                      <li>ç²¾åº¦æ§åˆ¶æœ‰é™</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <div class="best-practices">
              <h3>æœ€ä½³å®è·µæ€»ç»“</h3>
              <div class="practices">
                <div class="practice">
                  <div class="icon">1</div>
                  <div class="content">
                    <h4>ç†è§£åº”ç”¨åœºæ™¯</h4>
                    <p>å‰ç«¯æ˜¾ç¤ºä½¿ç”¨ toFixedï¼Œé‡‘èè®¡ç®—ä½¿ç”¨ä¸“ç”¨åº“</p>
                  </div>
                </div>
                <div class="practice">
                  <div class="icon">2</div>
                  <div class="content">
                    <h4>é¿å…æµ®ç‚¹æ•°ç›¸ç­‰æ¯”è¾ƒ</h4>
                    <p>ä½¿ç”¨å®¹å·®èŒƒå›´è€Œéç›´æ¥ç›¸ç­‰æ¯”è¾ƒ</p>
                    <div class="code-block">
                      <pre><code>// é”™è¯¯çš„æ¯”è¾ƒæ–¹å¼
if (a === b) {...}

// æ­£ç¡®çš„æ¯”è¾ƒæ–¹å¼
function floatEqual(a, b, epsilon = 1e-10) {
  return Math.abs(a - b) < epsilon;
}</code></pre>
                    </div>
                  </div>
                </div>
                <div class="practice">
                  <div class="icon">3</div>
                  <div class="content">
                    <h4>ä¼˜å…ˆä½¿ç”¨æ•´æ•°</h4>
                    <p>é‡‘é¢ä»¥åˆ†ä¸ºå•ä½å­˜å‚¨ï¼Œé¿å…ä½¿ç”¨å…ƒçš„å°æ•°å½¢å¼</p>
                  </div>
                </div>
                <div class="practice">
                  <div class="icon">4</div>
                  <div class="content">
                    <h4>äº†è§£è¯­è¨€é™åˆ¶</h4>
                    <p>JavaScript æœ€å¤§å®‰å…¨æ•´æ•°ä¸º 2<sup>53</sup>-1 (9,007,199,254,740,991)</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <footer class="footer">
      <p>Â© 2023 JavaScript æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜åŸºç¡€ä»‹ç» | ç†è§£ä¸è§£å†³è®¡ç®—æœºä¸­çš„å°æ•°é—®é¢˜</p>
      <p>IEEE 754 æ˜¯æµ®ç‚¹æ•°è¡¨ç¤ºçš„å›½é™…æ ‡å‡†ï¼Œè¢«å‡ ä¹æ‰€æœ‰ç°ä»£è®¡ç®—æœºç³»ç»Ÿé‡‡ç”¨</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// å¯¼èˆªé¡¹
const navItems = ref([
  { id: 'problem', title: 'é—®é¢˜ç°è±¡' },
  { id: 'principle', title: 'é—®é¢˜åŸç†' },
  { id: 'solutions', title: 'è§£å†³æ–¹æ¡ˆ' }
]);

// å½“å‰æ´»åŠ¨éƒ¨åˆ†
const activeSection = ref('problem');
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

// é¢œè‰²å˜é‡
@background: #f8fafc;
@card-bg: #ffffff;
@text-color: #1e293b;
@text-secondary: #64748b;
@border-color: #e2e8f0;
@primary-color: #3b82f6;
@error-color: #ef4444;
@success-color: #10b981;
@header-bg: #ffffff;

// æ··åˆ
.box-shadow {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
}

// å…¨å±€æ ·å¼
.float-container {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background-color: @background;
  color: @text-color;
  min-height: 100vh;
  line-height: 1.6;
  padding: 0;
  margin: 0;
}

.header {
  background: @header-bg;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  padding: 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;

  .title-container {
    max-width: 600px;

    h1 {
      font-size: 2rem;
      font-weight: 700;
      margin: 0;
      color: @text-color;
    }

    .subtitle {
      font-size: 1.2rem;
      color: @text-secondary;
      margin: 0.5rem 0 0;
    }
  }

  .problem-example {
    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      border-radius: 8px;
      padding: 1.25rem;
      overflow-x: auto;
      font-family: 'Fira Code', monospace;
      font-size: 1.1rem;

      pre {
        margin: 0;
      }
    }
  }
}

.content-container {
  display: flex;
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
  gap: 2rem;
}

.sidebar {
  flex: 0 0 220px;
  background: @card-bg;
  border-radius: 12px;
  padding: 1.5rem 0;
  .box-shadow;

  .section-title {
    color: @text-secondary;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 0 1.5rem 0.5rem;
    margin-bottom: 0.5rem;
    border-bottom: 1px solid @border-color;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  li {
    padding: 0.8rem 1.5rem;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      background-color: lighten(@primary-color, 40%);
    }

    &.active {
      background-color: lighten(@primary-color, 35%);
      border-left: 4px solid @primary-color;
      font-weight: 600;
      color: darken(@primary-color, 20%);
    }
  }
}

.main-content {
  flex: 1;
}

.section {
  margin-bottom: 2.5rem;

  .section-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;

    h2 {
      font-size: 1.75rem;
      color: @text-color;
      margin: 0;
    }
  }
}

.tag {
  font-size: 0.85rem;
  font-weight: 600;
  padding: 0.25rem 0.75rem;
  border-radius: 6px;
  background: lighten(@primary-color, 40%);
  color: darken(@primary-color, 20%);
}

.card {
  background: @card-bg;
  border-radius: 12px;
  padding: 2rem;
  .box-shadow;
}

.problem-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .problem-card {
    background: lighten(@primary-color, 45%);
    border-radius: 10px;
    padding: 1.5rem;

    .problem-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .code-block {
      background: #f6f8fa;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      padding: 1rem;
      margin-top: 1rem;
      font-size: 0.95rem;
      overflow-x: auto;

      pre {
        margin: 0;
      }
    }
  }
}

.consequences {
  margin-top: 2rem;

  .consequence-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;

    .consequence {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.25rem;
      background: lighten(@error-color, 40%);
      border-radius: 10px;

      .icon {
        font-size: 1.75rem;
        flex-shrink: 0;
      }
    }
  }
}

.ieee754 {
  margin-bottom: 2rem;

  .float-representation {
    display: flex;
    margin: 1.5rem 0;
    border: 1px solid @border-color;
    border-radius: 8px;
    overflow: hidden;

    .sign-bit,
    .exponent,
    .mantissa {
      text-align: center;
      padding: 1rem;

      .bit {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
    }

    .sign-bit {
      background: lighten(@primary-color, 40%);
      flex: 1;
    }

    .exponent {
      background: lighten(@primary-color, 30%);
      flex: 3;
    }

    .mantissa {
      background: lighten(@primary-color, 20%);
      flex: 5;
    }
  }

  .total-bits {
    text-align: center;
    font-weight: 500;
    color: @text-secondary;
    margin-bottom: 1rem;
  }

  .explanation {
    ul {
      padding-left: 1.5rem;

      li {
        margin-bottom: 0.75rem;
      }
    }
  }
}

.binary-problem {
  margin: 2rem 0;

  .problem-steps {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1rem;

    .step {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.25rem;
      background: #f1f5f9;
      border-radius: 10px;

      .step-number {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        background: @primary-color;
        color: white;
        border-radius: 50%;
        font-weight: bold;
        flex-shrink: 0;
      }

      .binary {
        font-family: 'Fira Code', monospace;
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 0.75rem;
        border-radius: 6px;
        margin-top: 0.75rem;
        font-size: 0.9rem;
        overflow-x: auto;
      }
    }
  }
}

.visualization {
  margin-top: 2rem;
  padding: 1.5rem;
  background: lighten(@error-color, 45%);
  border-radius: 10px;

  .precision-loss {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin: 1rem 0;

    .real-value,
    .stored-value,
    .difference {
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      font-weight: 500;
    }

    .real-value {
      background: lighten(@success-color, 40%);
      border: 1px solid @success-color;
    }

    .stored-value {
      background: lighten(@primary-color, 40%);
      border: 1px solid @primary-color;
    }

    .difference {
      background: lighten(@error-color, 35%);
      border: 1px solid @error-color;
    }
  }

  .note {
    text-align: center;
    font-size: 0.9rem;
    color: @text-secondary;
    margin-top: 0.5rem;
  }
}

.solution-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .method {
    background: #f8fafc;
    border-radius: 10px;
    overflow: hidden;
    .box-shadow;

    &-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.25rem;
      background: lighten(@primary-color, 40%);

      .method-icon {
        font-size: 1.75rem;
      }
    }

    &-desc {
      padding: 1.25rem;

      .libraries {
        display: grid;
        gap: 1rem;
        margin-top: 1rem;

        .library {
          background: #f1f5f9;
          border-radius: 8px;
          padding: 1rem;

          .name {
            font-weight: 600;
            margin-bottom: 0.5rem;
          }

          .code {
            background: #2d2d2d;
            color: #f8f8f2;
            border-radius: 6px;
            padding: 0.75rem;
            font-size: 0.85rem;
            overflow-x: auto;

            pre {
              margin: 0;
            }
          }
        }
      }

      .warning {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        background: lighten(@error-color, 45%);
        border-left: 4px solid @error-color;
        border-radius: 0 4px 4px 0;
        padding: 1rem;
        margin-top: 1rem;

        .icon {
          font-size: 1.25rem;
        }
      }
    }

    .pros-cons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      border-top: 1px solid @border-color;

      .pros,
      .cons {
        padding: 1rem;

        .title {
          font-weight: 600;
          margin-bottom: 0.5rem;
        }

        ul {
          padding-left: 1.25rem;
          margin: 0;
        }
      }

      .pros {
        background: lighten(@success-color, 50%);
      }

      .cons {
        background: lighten(@error-color, 45%);
      }
    }
  }
}

.best-practices {
  margin-top: 2rem;

  .practices {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;

    .practice {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.25rem;
      background: #f1f5f9;
      border-radius: 10px;

      .icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        background: @primary-color;
        color: white;
        border-radius: 50%;
        font-weight: bold;
        flex-shrink: 0;
      }

      .code-block {
        background: #f6f8fa;
        border: 1px solid #e1e4e8;
        border-radius: 6px;
        padding: 1rem;
        margin-top: 0.75rem;
        font-size: 0.9rem;
      }
    }
  }
}

.footer {
  text-align: center;
  padding: 2rem 1rem;
  margin-top: 3rem;
  background: @header-bg;
  color: @text-secondary;
  font-size: 0.85rem;
  border-top: 1px solid @border-color;

  p {
    margin: 0.25rem 0;
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 992px) {
  .content-container {
    flex-direction: column;
  }

  .header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1.5rem;

    .problem-example {
      width: 100%;
      margin-top: 1rem;
    }
  }
}

@media (max-width: 768px) {
  .header {
    padding: 1.5rem;

    h1 {
      font-size: 1.6rem;
    }

    .subtitle {
      font-size: 1rem;
    }
  }

  .content-container {
    padding: 1rem;
  }

  .problem-grid {
    grid-template-columns: 1fr;
  }

  .solution-methods {
    grid-template-columns: 1fr;
  }
}
</style>
