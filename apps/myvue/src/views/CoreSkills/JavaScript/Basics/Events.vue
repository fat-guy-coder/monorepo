<template>
  <div class="event-doc">
    <!-- å¤´éƒ¨ -->
    <header class="doc-header">
      <h1 class="title">ğŸ® JavaScript äº‹ä»¶ç³»ç»ŸåŸºæœ¬æŒ‡å—</h1>
      <p class="subtitle">äº¤äº’ç¼–ç¨‹çš„æ ¸å¿ƒæœºåˆ¶</p>
      <div class="header-wave"></div>
    </header>

    <h3>
      JavaScript äº‹ä»¶ç³»ç»Ÿæ˜¯ç½‘é¡µå¼€å‘ä¸­è‡³å…³é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚å®ƒä½¿å¾—ç½‘é¡µèƒ½å¤Ÿå“åº”ç”¨æˆ·çš„æ“ä½œï¼Œå¦‚ç‚¹å‡»ã€é”®ç›˜è¾“å…¥ã€é¼ æ ‡ç§»åŠ¨ç­‰ã€‚è¿™äº›æ“ä½œè§¦å‘äº‹ä»¶ï¼Œè€Œäº‹ä»¶ç³»ç»Ÿåˆ™è´Ÿè´£ç®¡ç†è¿™äº›æ“ä½œçš„æ•è·ã€ä¼ æ’­ä»¥åŠå“åº”è¿‡ç¨‹ã€‚
      JavaScript äº‹ä»¶å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š
      <ul>
        <li><strong>é¼ æ ‡äº‹ä»¶ï¼š</strong>å¦‚ clickã€dblclickã€mouseenterã€mouseleave ç­‰ï¼Œå¸¸ç”¨äºå¤„ç†ç”¨æˆ·çš„ç‚¹å‡»ã€æ‚¬åœç­‰åŠ¨ä½œã€‚</li>
        <li><strong>é”®ç›˜äº‹ä»¶ï¼š</strong>å¦‚ keydownã€keyupã€keypress ç­‰ï¼Œç”¨äºå¤„ç†é”®ç›˜è¾“å…¥çš„äº‹ä»¶ã€‚</li>
        <li><strong>è¡¨å•äº‹ä»¶ï¼š</strong>å¦‚ submitã€changeã€inputã€focus/blur ç­‰ï¼Œå¸¸è§äºè¡¨å•æ“ä½œã€‚</li>
      </ul>
      JavaScript æä¾›äº†ä¸‰ç§ä¸»è¦çš„äº‹ä»¶ç»‘å®šæ–¹å¼ï¼šHTMLäº‹ä»¶å±æ€§ã€DOM0çº§äº‹ä»¶å’ŒDOM2çº§äº‹ä»¶ã€‚äº‹ä»¶ä¹Ÿæœ‰ä¸‰ç§ä¼ æ’­æ–¹å¼ï¼šæ•è·ã€ç›®æ ‡å’Œå†’æ³¡ï¼Œæ¯ç§æ–¹å¼çš„äº‹ä»¶å¤„ç†æ—¶æœºæœ‰æ‰€ä¸åŒã€‚
      é€šè¿‡ç†è§£äº‹ä»¶çš„å·¥ä½œåŸç†å’ŒæµåŠ¨æœºåˆ¶ï¼Œå¼€å‘è€…å¯ä»¥ç¼–å†™æ›´é«˜æ•ˆã€æ›´çµæ´»çš„ä»£ç ã€‚
    </h3>

    <!-- å†…å®¹ä¸»ä½“ -->
    <main class="doc-content">
      <!-- äº‹ä»¶ç»‘å®š -->
      <section class="section binding">
        <h2 class="section-title">ğŸ”— äº‹ä»¶ç»‘å®šæ–¹å¼</h2>
        <div class="binding-grid">
          <div class="method-card">
            <div class="method-header">
              <span class="icon">ğŸ–¥ï¸</span>
              <h3>HTMLäº‹ä»¶å±æ€§</h3>
            </div>
            <pre class="code-block"><code>&lt;button onclick="handleClick()"&gt;
    Click me
  &lt;/button&gt;</code></pre>
            <h4>ä¼˜ç‚¹:</h4>
            <ul>
              <li>ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå°å‹é¡¹ç›®ã€‚</li>
            </ul>
            <h4>ç¼ºç‚¹:</h4>
            <ul>
              <li>ä¸æ˜“ç»´æŠ¤ï¼Œä»£ç æ··æ‚åœ¨HTMLä¸­ã€‚</li>
              <li>æ— æ³•ä½¿ç”¨äº‹ä»¶å¯¹è±¡ã€‚</li>
            </ul>
          </div>

          <div class="method-card">
            <div class="method-header">
              <span class="icon">ğŸšï¸</span>
              <h3>DOM0çº§äº‹ä»¶</h3>
            </div>
            <pre class="code-block"><code>btn.onclick = function() {
    console.log('Clicked!');
  };</code></pre>
            <h4>ä¼˜ç‚¹:</h4>
            <ul>
              <li>ç®€å•ç›´æ¥ï¼Œæ˜“äºç†è§£ã€‚</li>
            </ul>
            <h4>ç¼ºç‚¹:</h4>
            <ul>
              <li>åªèƒ½ç»‘å®šä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œåç»‘å®šçš„ä¼šè¦†ç›–å‰ä¸€ä¸ªã€‚</li>
            </ul>
          </div>

          <div class="method-card">
            <div class="method-header">
              <span class="icon">ğŸ“¡</span>
              <h3>DOM2çº§äº‹ä»¶</h3>
            </div>
            <pre class="code-block"><code>btn.addEventListener(
    'click',
    handler,
    { capture: true, once: true ,passive: true,preventDefault: true,stopPropagation: true}
    // capture: true è¡¨ç¤ºäº‹ä»¶åœ¨æ•è·é˜¶æ®µè§¦å‘
    // preventDefault: true è¡¨ç¤ºäº‹ä»¶å¤„ç†å‡½æ•°ä¼šè°ƒç”¨ preventDefault() æ–¹æ³•
    // stopPropagation: true è¡¨ç¤ºäº‹ä»¶å¤„ç†å‡½æ•°ä¼šè°ƒç”¨ stopPropagation() æ–¹æ³•
    // passive: true è¡¨ç¤ºäº‹ä»¶å¤„ç†å‡½æ•°ä¸ä¼šè°ƒç”¨ preventDefault() æ–¹æ³•
    // once: true è¡¨ç¤ºäº‹ä»¶å¤„ç†å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡
  );</code></pre>
            <h4>ä¼˜ç‚¹:</h4>
            <ul>
              <li>å¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ã€‚</li>
              <li>æ”¯æŒäº‹ä»¶æ•è·å’Œå†’æ³¡ã€‚</li>
            </ul>
            <h4>ç¼ºç‚¹:</h4>
            <ul>
              <li>æ²¡å•¥ç¼ºç‚¹</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- äº‹ä»¶å¯¹è±¡ -->
      <section class="section event-object">
        <h2 class="section-title">ğŸ§‘â€ğŸ’» äº‹ä»¶å¯¹è±¡</h2>
        <p>
          JavaScript ä¸­çš„äº‹ä»¶å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡æä¾›äº†è¯¦ç»†çš„äº‹ä»¶æ•°æ®ï¼ŒåŒ…æ‹¬äº‹ä»¶çš„ç±»å‹ã€ç›®æ ‡å…ƒç´ ã€é¼ æ ‡ä½ç½®ã€æŒ‰é”®çŠ¶æ€ç­‰ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡äº‹ä»¶å¤„ç†å‡½æ•°çš„å‚æ•°è®¿é—®è¯¥å¯¹è±¡ã€‚
        </p>
        <h4>å¸¸è§å±æ€§:</h4>
        <ul>
          <li><strong>target</strong>: äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œé€šå¸¸æ˜¯è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚</li>
          <li><strong>type</strong>: äº‹ä»¶çš„ç±»å‹ï¼Œå¦‚ "click", "keydown" ç­‰ã€‚</li>
          <li><strong>clientX</strong> å’Œ <strong>clientY</strong>: é¼ æ ‡ç‚¹å‡»çš„æ¨ªçºµåæ ‡ï¼ˆç›¸å¯¹äºæµè§ˆå™¨çª—å£ï¼‰ã€‚</li>
          <li><strong>key</strong>: æŒ‰ä¸‹çš„é”®å€¼ï¼ˆå¯¹äºé”®ç›˜äº‹ä»¶ï¼‰ã€‚</li>
        </ul>
        <h4>ç¤ºä¾‹:</h4>
        <pre class="code-block"><code>document.querySelector('button').addEventListener('click', (event) => {
          console.log('äº‹ä»¶ç±»å‹:', event.type);
          console.log('äº‹ä»¶ç›®æ ‡:', event.target);
          console.log('é¼ æ ‡åæ ‡:', event.clientX, event.clientY);
        });</code></pre>
      </section>

      <!-- é¼ æ ‡äº‹ä»¶åæ ‡ -->
      <section class="section mouse-coordinates">
        <h2 class="section-title">ğŸ–±ï¸ é¼ æ ‡äº‹ä»¶åæ ‡ç³»ç»Ÿ</h2>
        <p>åœ¨å¤„ç†é¼ æ ‡äº‹ä»¶æ—¶,JavaScriptæä¾›äº†å¤šç§ä¸åŒçš„åæ ‡å±æ€§,æ¯ç§åæ ‡éƒ½æœ‰å…¶ç‰¹å®šçš„å‚è€ƒç‚¹:</p>

        <div class="coordinates-grid">
          <div class="coordinate-card">
            <h3>clientX/clientY</h3>
            <p>ç›¸å¯¹äºæµè§ˆå™¨çª—å£å¯è§†åŒºåŸŸçš„åæ ‡</p>
            <ul>
              <li>å‚è€ƒç‚¹: æµè§ˆå™¨çª—å£å·¦ä¸Šè§’</li>
              <li>ä¸å—é¡µé¢æ»šåŠ¨å½±å“</li>
            </ul>
          </div>

          <div class="coordinate-card">
            <h3>pageX/pageY</h3>
            <p>ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£çš„åæ ‡</p>
            <ul>
              <li>å‚è€ƒç‚¹: æ–‡æ¡£å·¦ä¸Šè§’</li>
              <li>ä¼šè®¡ç®—é¡µé¢æ»šåŠ¨è·ç¦»</li>
            </ul>
          </div>

          <div class="coordinate-card">
            <h3>screenX/screenY</h3>
            <p>ç›¸å¯¹äºç”¨æˆ·å±å¹•çš„åæ ‡</p>
            <ul>
              <li>å‚è€ƒç‚¹: å±å¹•å·¦ä¸Šè§’</li>
              <li>åŒ…å«æµè§ˆå™¨ç•Œé¢å’Œæ“ä½œç³»ç»Ÿç•Œé¢</li>
            </ul>
          </div>

          <div class="coordinate-card">
            <h3>offsetX/offsetY</h3>
            <p>ç›¸å¯¹äºç›®æ ‡å…ƒç´ çš„åæ ‡</p>
            <ul>
              <li>å‚è€ƒç‚¹: å…ƒç´ çš„å†…è¾¹è·è¾¹ç•Œ</li>
              <li>ä»…è®¡ç®—å…ƒç´ å†…éƒ¨çš„åç§»é‡</li>
            </ul>
          </div>
        </div>

        <div class="code-example">
          <pre class="code-block"><code>element.addEventListener('mousemove', (event) => {
  console.log('Client:', event.clientX, event.clientY);
  console.log('Page:', event.pageX, event.pageY);
  console.log('Screen:', event.screenX, event.screenY);
  console.log('Offset:', event.offsetX, event.offsetY);
});</code></pre>
        </div>
      </section>

      <h3>
        åœ¨æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶ä¼ æ’­æœ‰ä¸‰ä¸ªé˜¶æ®µï¼š
        <ol>
          <li>æ•è·é˜¶æ®µï¼šäº‹ä»¶ä»æ ¹å…ƒç´ å¼€å§‹ï¼Œå‘ç›®æ ‡å…ƒç´ ä¼ æ’­ã€‚</li>
          <li>ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚</li>
          <li>å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘æ ¹å…ƒç´ ä¼ æ’­ã€‚</li>
        </ol>
      </h3>

      <!-- äº‹ä»¶æµ -->
      <section class="section flow">
        <h2 class="section-title">ğŸŒŠ äº‹ä»¶ä¼ æ’­æµç¨‹</h2>
        <div class="flow-container">
          <div class="flow-visual">
            <div class="phase capture">
              <div class="label">æ•è·é˜¶æ®µ</div>
              <div class="arrow">â†“</div>
            </div>
            <div class="target-phase">
              <div class="circle">ğŸ¯</div>
              <div class="label">ç›®æ ‡é˜¶æ®µ</div>
            </div>
            <div class="phase bubble">
              <div class="arrow">â†‘</div>
              <div class="label">å†’æ³¡é˜¶æ®µ</div>
            </div>
          </div>
          <div class="flow-code">
            <pre class="code-block"><code>document.addEventListener('click', () => {
    console.log('Documentæ•è·');
  }, true);

  document.addEventListener('click', () => {
    console.log('Documentå†’æ³¡');
  });</code></pre>
          </div>
        </div>
      </section>

      <!-- äº‹ä»¶ä»£ç† -->
      <section class="section delegation">
        <h2 class="section-title">ğŸ‘¥ äº‹ä»¶ä»£ç†ï¼ˆå§”æ´¾ï¼‰</h2>
        <div class="delegation-example">
          <div class="code-column">
            <pre class="code-block"><code>// ä¼ ç»Ÿæ–¹å¼
  document.querySelectorAll('li')
    .forEach(li => {
    li.addEventListener('click', handleClick);
    });

  // äº‹ä»¶ä»£ç†
  document.querySelector('ul')
    .addEventListener('click', (e) => {
    if(e.target.tagName === 'LI') {
      handleClick(e);
    }
    });</code></pre>
          </div>
          <div class="benefits">
            <div class="benefit-card">
              <div class="icon">âš¡</div>
              <h4>æ€§èƒ½ä¼˜åŒ–</h4>
              <p>å‡å°‘äº‹ä»¶ç›‘å¬å™¨æ•°é‡</p>
            </div>
            <div class="benefit-card">
              <div class="icon">ğŸ”„</div>
              <h4>åŠ¨æ€å…ƒç´ æ”¯æŒ</h4>
              <p>è‡ªåŠ¨å¤„ç†æ–°å¢å…ƒç´ äº‹ä»¶</p>
            </div>
          </div>
        </div>
      </section>

      <!-- å¸¸è§äº‹ä»¶ -->
      <section class="section common-events">
        <h2 class="section-title">ğŸ“Œ å¸¸è§äº‹ä»¶ç±»å‹</h2>
        <div class="event-grid">
          <div class="event-card">
            <h3>é¼ æ ‡äº‹ä»¶</h3>
            <ul>
              <li>click(ç‚¹å‡»)</li>
              <li>dblclick(åŒå‡»)</li>
              <li>mouseenter(é¼ æ ‡è¿›å…¥)</li>
              <li>mouseleave(é¼ æ ‡ç¦»å¼€)</li>
              <li>mousemove(é¼ æ ‡ç§»åŠ¨)</li>
              <li>mouseover(é¼ æ ‡æ‚¬åœ)</li>
              <li>mouseout(é¼ æ ‡ç¦»å¼€)</li>
              <li>mousedown(é¼ æ ‡æŒ‰ä¸‹)</li>
              <li>mouseup(é¼ æ ‡é‡Šæ”¾)</li>
            </ul>
          </div>
          <div class="event-card">
            <h3>é”®ç›˜äº‹ä»¶</h3>
            <ul>
              <li>keydown(é”®ç›˜æŒ‰ä¸‹)</li>
              <li>keyup(é”®ç›˜é‡Šæ”¾)</li>
              <li>keypress(é”®ç›˜æŒ‰ä¸‹)</li>

            </ul>
          </div>
          <div class="event-card">
            <h3>è¡¨å•äº‹ä»¶</h3>
            <ul>
              <li>submit(æäº¤)</li>
              <li>change(æ”¹å˜)</li>
              <li>input(è¾“å…¥)</li>
              <li>focus/blur(èšç„¦/å¤±å»ç„¦ç‚¹)</li>
              <li>reset(é‡ç½®)</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <footer class="doc-footer">
      <div class="notice-board">
        <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
        <div class="notice-list">
          <div class="notice-item">
            <div class="warning-icon">â—</div>
            <p>åŠæ—¶ç§»é™¤ä¸éœ€è¦çš„äº‹ä»¶ç›‘å¬</p>
          </div>
          <div class="notice-item">
            <div class="warning-icon">â—</div>
            <p>æ³¨æ„äº‹ä»¶å¯¹è±¡çš„å…¼å®¹æ€§é—®é¢˜</p>
          </div>
          <div class="notice-item">
            <div class="warning-icon">â—</div>
            <p>åˆç†ä½¿ç”¨stopPropagation</p>
          </div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script lang="ts" setup></script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code&display=swap');

.event-doc {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 2rem 3rem;
  background: linear-gradient(145deg, #f8fafb 0%, #ffffff 100%);
  border-radius: 16px;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.06);
  font-family: 'Inter', sans-serif;

  .doc-header {
    text-align: center;
    margin-bottom: 3rem;

    .title {
      color: #6c5ce7;
      font-size: 2.8rem;
      margin: 1rem 0;
      text-shadow: 2px 2px 4px rgba(108, 92, 231, 0.1);
    }

    .subtitle {
      color: #636e72;
      font-size: 1.4rem;
      letter-spacing: 0.05em;
    }

    .header-wave {
      width: 120px;
      height: 8px;
      background: repeating-linear-gradient(90deg,
          #6c5ce7 0px,
          #6c5ce7 10px,
          transparent 10px,
          transparent 20px);
      margin: 1.5rem auto;
    }
  }

  .doc-content {
    .section {
      margin-bottom: 3rem;
      padding: 2rem;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
      transition: transform 0.3s ease;

      &:hover {
        transform: translateY(-3px);
      }

      .section-title {
        color: #2d3436;
        font-size: 2rem;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #eee;
      }

      .binding-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;

        .method-card {
          border: 1px solid #eee;
          border-radius: 8px;
          overflow: hidden;

          .method-header {
            padding: 1.5rem;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            gap: 1rem;

            .icon {
              font-size: 2rem;
            }
          }
        }
      }

      .flow-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        align-items: center;

        .flow-visual {
          padding: 2rem;
          background: #f8f9fa;
          border-radius: 8px;

          .phase {
            padding: 1rem;
            text-align: center;

            &.capture {
              color: #6c5ce7;
            }

            &.bubble {
              color: #00b894;
            }

            .arrow {
              font-size: 2rem;
              margin: 1rem 0;
            }
          }

          .target-phase {
            text-align: center;
            margin: 2rem 0;

            .circle {
              font-size: 2.5rem;
            }
          }
        }
      }

      .delegation-example {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;

        .benefits {
          display: grid;
          gap: 1.5rem;

          .benefit-card {
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            text-align: center;

            .icon {
              font-size: 2rem;
              margin-bottom: 1rem;
            }
          }
        }
      }

      .event-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;

        .event-card {
          padding: 1.5rem;
          border: 1px solid #eee;
          border-radius: 8px;

          h3 {
            color: #6c5ce7;
            margin-bottom: 1rem;
          }

          ul {
            list-style: none;
            padding-left: 1.5rem;

            li {
              position: relative;
              padding: 0.3rem 0;

              &::before {
                content: 'â–¹';
                position: absolute;
                left: -1.5rem;
                color: #6c5ce7;
              }
            }
          }
        }
      }
    }

    .code-block {
      background: #2d3436;
      color: #dfe6e9;
      padding: 1rem;
      border-radius: 6px;
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
  }

  .doc-footer {
    .notice-board {
      background: #ffeaa7;
      padding: 2rem;
      border-radius: 8px;
      border-left: 4px solid #fdcb6e;

      h3 {
        color: #d63031;
        margin-bottom: 1rem;
      }

      .notice-list {
        .notice-item {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin: 1rem 0;

          .warning-icon {
            font-size: 1.5rem;
            color: #d63031;
          }
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .event-doc {
    padding: 1rem;
    margin: 1rem;

    .doc-header .title {
      font-size: 2rem;
    }

    .binding-grid,
    .flow-container,
    .delegation-example,
    .event-grid {
      grid-template-columns: 1fr !important;
    }
  }
}
</style>
