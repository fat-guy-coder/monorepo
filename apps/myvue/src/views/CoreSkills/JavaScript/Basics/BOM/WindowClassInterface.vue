<template>
  <div class="window-api-container">
    <header class="header">
      <h1>JavaScript Window å…¨å±€ç±»æ¥å£æŒ‡å—</h1>
      <p>åŸºæœ¬æŒ‡å—æµè§ˆå™¨ç¯å¢ƒä¸­çš„æ ¸å¿ƒ API</p>
    </header>

    <div class="stats-bar">
      <div class="stat-card">
        <div class="stat-value">100+</div>
        <div class="stat-label">å…¨å±€æ¥å£</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">12</div>
        <div class="stat-label">æ ¸å¿ƒç±»åˆ«</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">95%</div>
        <div class="stat-label">ç°ä»£æµè§ˆå™¨æ”¯æŒ</div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="icon">ğŸŒ</div>
        <h2>ç½‘ç»œè¯·æ±‚ç›¸å…³</h2>
      </div>

      <div class="api-grid">
        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸš€</div>
            <h3>Fetch API</h3>
            <div class="popularity high">é«˜é¢‘</div>
          </div>
          <div class="api-content">
            <p>ç°ä»£ç½‘ç»œè¯·æ±‚APIï¼Œæ›¿ä»£ä¼ ç»Ÿçš„XMLHttpRequest</p>
            <div class="code-example">
              <pre><code>fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong> ç»“åˆAbortControllerå®ç°è¯·æ±‚å–æ¶ˆ</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">â¹ï¸</div>
            <h3>AbortController</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>ç”¨äºä¸­æ­¢ä¸€ä¸ªæˆ–å¤šä¸ªWebè¯·æ±‚</p>
            <div class="code-example">
              <pre><code>const controller = new AbortController();
const signal = controller.signal;

fetch(url, { signal })
  .then(response => { /*...*/ })
  .catch(err => {
    if (err.name === 'AbortError') {
      console.log('Fetch aborted');
    }
  });

// å–æ¶ˆè¯·æ±‚
controller.abort();</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ç»„ä»¶å¸è½½æ—¶å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“¦</div>
            <h3>Headers</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>æ“ä½œHTTPè¯·æ±‚å’Œå“åº”å¤´ä¿¡æ¯</p>
            <div class="code-example">
              <pre><code>const headers = new Headers();
headers.append('Content-Type', 'application/json');
headers.append('Authorization', 'Bearer token123');

// è·å–å¤´ä¿¡æ¯
const contentType = headers.get('Content-Type');
console.log(contentType); // 'application/json'</code></pre>
            </div>
            <div class="usage-tip"><strong>æ³¨æ„ï¼š</strong> å¤´éƒ¨åç§°ä¸åŒºåˆ†å¤§å°å†™</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“„</div>
            <h3>FormData</h3>
            <div class="popularity high">é«˜é¢‘</div>
          </div>
          <div class="api-content">
            <p>å¤„ç†è¡¨å•æ•°æ®ï¼Œç‰¹åˆ«é€‚ç”¨äºæ–‡ä»¶ä¸Šä¼ </p>
            <div class="code-example">
              <pre><code>const formData = new FormData();
formData.append('username', 'john_doe');
formData.append('avatar', fileInput.files[0]);

fetch('/api/user', {
  method: 'POST',
  body: formData
});</code></pre>
            </div>
            <div class="usage-tip"><strong>ç‰¹ç‚¹ï¼š</strong> è‡ªåŠ¨è®¾ç½®multipart/form-dataå†…å®¹ç±»å‹</div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="icon">ğŸ’¾</div>
        <h2>æ–‡ä»¶ä¸æ•°æ®å¤„ç†</h2>
      </div>

      <div class="api-grid">
        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“–</div>
            <h3>FileReader</h3>
            <div class="popularity high">é«˜é¢‘</div>
          </div>
          <div class="api-content">
            <p>è¯»å–æ–‡ä»¶å†…å®¹åˆ°å†…å­˜ä¸­</p>
            <div class="code-example">
              <pre><code>const reader = new FileReader();
reader.onload = function(event) {
  const content = event.target.result;
  console.log('File content:', content);
};
reader.onerror = function(error) {
  console.error('Error reading file:', error);
};
reader.readAsText(file);</code></pre>
            </div>
            <div class="usage-tip">
              <strong>è¯»å–æ–¹æ³•ï¼š</strong> readAsText, readAsDataURL, readAsArrayBuffer
            </div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ”¢</div>
            <h3>Blob</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>è¡¨ç¤ºä¸å¯å˜çš„åŸå§‹æ•°æ®å¯¹è±¡</p>
            <div class="code-example">
              <pre><code>// åˆ›å»ºBlob
const blob = new Blob(['Hello, world!'], { type: 'text/plain' });

// åˆ›å»ºURL
const url = URL.createObjectURL(blob);

// ä¸‹è½½æ–‡ä»¶
const a = document.createElement('a');
a.href = url;
a.download = 'hello.txt';
a.click();

// é‡Šæ”¾èµ„æº
URL.revokeObjectURL(url);</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ã€ç”Ÿæˆæ–‡ä»¶ä¸‹è½½</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ”—</div>
            <h3>URL & URLSearchParams</h3>
            <div class="popularity high">é«˜é¢‘</div>
          </div>
          <div class="api-content">
            <p>è§£æã€æ„é€ å’Œæ“ä½œURL</p>
            <div class="code-example">
              <pre><code>// è§£æURL
const url = new URL('https://example.com/path?name=John&age=30');
console.log(url.pathname); // '/path'

// æ“ä½œæŸ¥è¯¢å‚æ•°
const params = new URLSearchParams(url.search);
params.append('city', 'New York');
console.log(params.toString()); // 'name=John&age=30&city=New+York'

// æ„å»ºæ–°URL
url.search = params.toString();
console.log(url.href);</code></pre>
            </div>
            <div class="usage-tip"><strong>æ³¨æ„ï¼š</strong> è‡ªåŠ¨ç¼–ç /è§£ç URLå‚æ•°</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“Š</div>
            <h3>TextEncoder & TextDecoder</h3>
            <div class="popularity low">ä½é¢‘</div>
          </div>
          <div class="api-content">
            <p>å¤„ç†æ–‡æœ¬ç¼–ç å’Œè§£ç </p>
            <div class="code-example">
              <pre><code>// ç¼–ç æ–‡æœ¬
const encoder = new TextEncoder();
const encoded = encoder.encode('Hello ä¸–ç•Œ');

// è§£ç æ–‡æœ¬
const decoder = new TextDecoder('utf-8');
const decoded = decoder.decode(encoded);
console.log(decoded); // 'Hello ä¸–ç•Œ'</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> å¤„ç†äºŒè¿›åˆ¶æ•°æ®ä¸­çš„æ–‡æœ¬</div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="icon">ğŸ‘€</div>
        <h2>DOM è§‚å¯Ÿå™¨</h2>
      </div>

      <div class="api-grid">
        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ”</div>
            <h3>MutationObserver</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>ç›‘è§†DOMæ ‘çš„å˜åŒ–</p>
            <div class="code-example">
              <pre><code>const target = document.getElementById('target');
const observer = new MutationObserver(mutations => {
  mutations.forEach(mutation => {
    console.log('DOM changed:', mutation.type);
  });
});

observer.observe(target, {
  attributes: true,
  childList: true,
  subtree: true
});

// åœæ­¢è§‚å¯Ÿ
// observer.disconnect();</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ç¬¬ä¸‰æ–¹ç»„ä»¶é›†æˆã€åŠ¨æ€å†…å®¹ç›‘æ§</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“</div>
            <h3>ResizeObserver</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>ç›‘å¬å…ƒç´ å°ºå¯¸å˜åŒ–</p>
            <div class="code-example">
              <pre><code>const ro = new ResizeObserver(entries => {
  for (let entry of entries) {
    const { width, height } = entry.contentRect;
    console.log(`Size: ${width}x${height}`);
  }
});

ro.observe(document.getElementById('resizable'));

// åœæ­¢è§‚å¯Ÿ
// ro.unobserve(element);</code></pre>
            </div>
            <div class="usage-tip"><strong>æ›¿ä»£æ–¹æ¡ˆï¼š</strong> æ›¿ä»£window.resizeäº‹ä»¶ï¼Œæ€§èƒ½æ›´ä¼˜</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ”„</div>
            <h3>IntersectionObserver</h3>
            <div class="popularity high">é«˜é¢‘</div>
          </div>
          <div class="api-content">
            <p>æ£€æµ‹å…ƒç´ æ˜¯å¦è¿›å…¥è§†å£</p>
            <div class="code-example">
              <pre><code>const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      console.log('Element is visible');
      // å›¾ç‰‡æ‡’åŠ è½½
      entry.target.src = entry.target.dataset.src;
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.lazy-img').forEach(img => {
  observer.observe(img);
});</code></pre>
            </div>
            <div class="usage-tip"><strong>å…¸å‹åº”ç”¨ï¼š</strong> å›¾ç‰‡æ‡’åŠ è½½ã€æ— é™æ»šåŠ¨</div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="icon">ğŸ’¬</div>
        <h2>é€šä¿¡ä¸å­˜å‚¨</h2>
      </div>

      <div class="api-grid">
        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“¡</div>
            <h3>BroadcastChannel</h3>
            <div class="popularity low">ä½é¢‘</div>
          </div>
          <div class="api-content">
            <p>åŒæºæµè§ˆå™¨ä¸Šä¸‹æ–‡é—´é€šä¿¡</p>
            <div class="code-example">
              <pre><code>// é¡µé¢A
const channel = new BroadcastChannel('app_channel');
channel.postMessage({ type: 'update', data: 'Hello' });

// é¡µé¢B
const channel = new BroadcastChannel('app_channel');
channel.onmessage = (event) => {
  console.log('Received:', event.data);
};

// å…³é—­é€šé“
// channel.close();</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> å¤šæ ‡ç­¾é¡µåº”ç”¨çŠ¶æ€åŒæ­¥</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“</div>
            <h3>CustomEvent</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>åˆ›å»ºå’Œåˆ†å‘è‡ªå®šä¹‰äº‹ä»¶</p>
            <div class="code-example">
              <pre><code>// åˆ›å»ºäº‹ä»¶
const event = new CustomEvent('myEvent', {
  detail: { message: 'Hello from custom event' },
  bubbles: true,
  cancelable: true
});

// ç›‘å¬äº‹ä»¶
document.addEventListener('myEvent', (e) => {
  console.log(e.detail.message);
});

// è§¦å‘äº‹ä»¶
document.dispatchEvent(event);</code></pre>
            </div>
            <div class="usage-tip"><strong>ä¼˜åŠ¿ï¼š</strong> æ¯”ç›´æ¥å›è°ƒæ›´è§£è€¦çš„ç»„ä»¶é€šä¿¡æ–¹å¼</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ—ƒï¸</div>
            <h3>IndexedDB</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®</p>
            <div class="code-example">
              <pre><code>const request = indexedDB.open('myDatabase', 1);

request.onupgradeneeded = (event) => {
  const db = event.target.result;
  const store = db.createObjectStore('books', { keyPath: 'id' });
};

request.onsuccess = (event) => {
  const db = event.target.result;
  const tx = db.transaction('books', 'readwrite');
  const store = tx.objectStore('books');

  store.add({ id: 1, title: 'JavaScript Guide' });

  tx.oncomplete = () => console.log('Transaction completed');
};</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ç¦»çº¿åº”ç”¨ã€å¤§æ•°æ®ç¼“å­˜</div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-section">
      <div class="section-header">
        <div class="icon">âš™ï¸</div>
        <h2>å…¶ä»–é‡è¦æ¥å£</h2>
      </div>

      <div class="api-grid">
        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“‹</div>
            <h3>Clipboard</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>è¯»å†™ç³»ç»Ÿå‰ªè´´æ¿å†…å®¹</p>
            <div class="code-example">
              <pre><code>// å†™å…¥å‰ªè´´æ¿
navigator.clipboard.writeText('Copied text')
  .then(() => console.log('Text copied'))
  .catch(err => console.error('Failed to copy:', err));

// è¯»å–å‰ªè´´æ¿
navigator.clipboard.readText()
  .then(text => console.log('Clipboard content:', text));</code></pre>
            </div>
            <div class="usage-tip"><strong>æ³¨æ„ï¼š</strong> éœ€è¦ç”¨æˆ·æˆæƒï¼Œå®‰å…¨ä¸Šä¸‹æ–‡(HTTPS)</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ§­</div>
            <h3>Geolocation</h3>
            <div class="popularity low">ä½é¢‘</div>
          </div>
          <div class="api-content">
            <p>è·å–è®¾å¤‡åœ°ç†ä½ç½®ä¿¡æ¯</p>
            <div class="code-example">
              <pre><code>navigator.geolocation.getCurrentPosition(
  position => {
    const { latitude, longitude } = position.coords;
    console.log(`Lat: ${latitude}, Long: ${longitude}`);
  },
  error => {
    console.error('Geolocation error:', error.message);
  },
  {
    enableHighAccuracy: true,
    timeout: 5000,
    maximumAge: 0
  }
);</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> åœ°å›¾åº”ç”¨ã€ä½ç½®æœåŠ¡</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ”Š</div>
            <h3>Web Speech API</h3>
            <div class="popularity low">ä½é¢‘</div>
          </div>
          <div class="api-content">
            <p>è¯­éŸ³è¯†åˆ«ä¸åˆæˆ</p>
            <div class="code-example">
              <pre><code>// è¯­éŸ³åˆæˆ
const synth = window.speechSynthesis;
const utterance = new SpeechSynthesisUtterance('Hello World');
synth.speak(utterance);

// è¯­éŸ³è¯†åˆ«
const recognition = new (window.SpeechRecognition ||
                      window.webkitSpeechRecognition)();
recognition.lang = 'en-US';
recognition.onresult = event => {
  const transcript = event.results[0][0].transcript;
  console.log('Recognized:', transcript);
};
recognition.start();</code></pre>
            </div>
            <div class="usage-tip"><strong>æ³¨æ„ï¼š</strong> æµè§ˆå™¨å‰ç¼€å…¼å®¹å¤„ç†</div>
          </div>
        </div>

        <div class="api-card">
          <div class="api-header">
            <div class="api-icon">ğŸ“ˆ</div>
            <h3>Performance API</h3>
            <div class="popularity medium">ä¸­é¢‘</div>
          </div>
          <div class="api-content">
            <p>æµ‹é‡ç½‘é¡µæ€§èƒ½æŒ‡æ ‡</p>
            <div class="code-example">
              <pre><code>// æµ‹é‡ä»£ç æ‰§è¡Œæ—¶é—´
performance.mark('start');

// æ‰§è¡Œä»£ç ...
for (let i = 0; i < 1000000; i++) {}

performance.mark('end');
performance.measure('loop', 'start', 'end');

const measure = performance.getEntriesByName('loop')[0];
console.log('Duration:', measure.duration, 'ms');

// è·å–é‡è¦æŒ‡æ ‡
const [navigation] = performance.getEntriesByType('navigation');
console.log('DOMContentLoaded:', navigation.domContentLoadedEventEnd);
console.log('Load event:', navigation.loadEventEnd);</code></pre>
            </div>
            <div class="usage-tip"><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> æ€§èƒ½ç›‘æ§ã€ä¼˜åŒ–åˆ†æ</div>
          </div>
        </div>
      </div>
    </div>

    <div class="compatibility-section">
      <div class="section-header">
        <div class="icon">âœ…</div>
        <h2>æµè§ˆå™¨å…¼å®¹æ€§æ¦‚è§ˆ</h2>
      </div>

      <div class="compatibility-table">
        <table>
          <thead>
            <tr>
              <th>æ¥å£åç§°</th>
              <th>Chrome</th>
              <th>Firefox</th>
              <th>Safari</th>
              <th>Edge</th>
              <th>ç§»åŠ¨æ”¯æŒ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Fetch API</td>
              <td class="supported">42+</td>
              <td class="supported">39+</td>
              <td class="supported">10.1+</td>
              <td class="supported">14+</td>
              <td class="supported">ä¼˜ç§€</td>
            </tr>
            <tr>
              <td>AbortController</td>
              <td class="supported">66+</td>
              <td class="supported">57+</td>
              <td class="supported">12.1+</td>
              <td class="supported">16+</td>
              <td class="supported">è‰¯å¥½</td>
            </tr>
            <tr>
              <td>FileReader</td>
              <td class="supported">7+</td>
              <td class="supported">3.6+</td>
              <td class="supported">6+</td>
              <td class="supported">10+</td>
              <td class="supported">ä¼˜ç§€</td>
            </tr>
            <tr>
              <td>IntersectionObserver</td>
              <td class="supported">51+</td>
              <td class="supported">55+</td>
              <td class="supported">12.1+</td>
              <td class="supported">15+</td>
              <td class="supported">è‰¯å¥½</td>
            </tr>
            <tr>
              <td>Clipboard API</td>
              <td class="supported">66+</td>
              <td class="supported">63+</td>
              <td class="partial">éƒ¨åˆ†</td>
              <td class="supported">79+</td>
              <td class="partial">éƒ¨åˆ†</td>
            </tr>
            <tr>
              <td>Web Speech API</td>
              <td class="supported">33+</td>
              <td class="partial">éƒ¨åˆ†</td>
              <td class="partial">7+</td>
              <td class="supported">14+</td>
              <td class="partial">æœ‰é™</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="compatibility-note">
        æ³¨ï¼šå®Œæ•´å…¼å®¹æ€§æ•°æ®è¯·å‚è€ƒ <a href="https://caniuse.com" target="_blank">caniuse.com</a>
      </div>
    </div>

    <footer class="footer">
      <p>JavaScript Window å…¨å±€ç±»æ¥å£å‚è€ƒæŒ‡å— | ä½¿ç”¨ Vue 3 + TypeScript æ„å»º</p>
      <p>Â© 2023 ç°ä»£ Web å¼€å‘æŠ€æœ¯æ ˆ</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
// è¿™é‡Œå¯ä»¥æ·»åŠ ç»„ä»¶é€»è¾‘
</script>

<style lang="less" scoped>
@primary-color: #3498db;
@secondary-color: #2ecc71;
@text-color: #2c3e50;
@light-bg: #f8f9fa;
@card-bg: #ffffff;
@border-color: #e0e0e0;
@success-color: #27ae60;
@warning-color: #e74c3c;
@header-gradient: linear-gradient(135deg, @primary-color, #8e44ad);

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.window-api-container {
  font-family: 'Segoe UI', 'Roboto', sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  color: @text-color;
  background-color: @light-bg;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 30px;
  padding: 50px 20px;
  background: @header-gradient;
  color: white;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);

  h1 {
    font-size: 2.8rem;
    margin-bottom: 15px;
    font-weight: 700;
  }

  p {
    font-size: 1.4rem;
    opacity: 0.9;
    font-weight: 300;
  }
}

.stats-bar {
  display: flex;
  justify-content: space-around;
  margin: 30px 0;
  gap: 20px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: center;
  }
}

.stat-card {
  background: white;
  border-radius: 12px;
  padding: 25px 15px;
  text-align: center;
  flex: 1;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }
}

.stat-value {
  font-size: 2.5rem;
  font-weight: 700;
  color: @primary-color;
  margin-bottom: 8px;
}

.stat-label {
  font-size: 1.1rem;
  color: #7f8c8d;
}

.content-section,
.compatibility-section {
  background: @card-bg;
  border-radius: 15px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
}

.section-header {
  display: flex;
  align-items: center;
  margin-bottom: 30px;
  padding-bottom: 15px;
  border-bottom: 2px solid @border-color;

  .icon {
    font-size: 2rem;
    margin-right: 15px;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  h2 {
    font-size: 1.9rem;
    color: @text-color;
  }
}

.api-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
  gap: 25px;

  @media (max-width: 1000px) {
    grid-template-columns: 1fr;
  }
}

.api-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  border-left: 4px solid @primary-color;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
}

.api-header {
  display: flex;
  align-items: center;
  padding: 20px;
  background: rgba(52, 152, 219, 0.05);
  border-bottom: 1px solid @border-color;

  .api-icon {
    font-size: 2rem;
    margin-right: 15px;
  }

  h3 {
    font-size: 1.5rem;
    color: @text-color;
    flex: 1;
  }
}

.popularity {
  padding: 5px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;

  &.high {
    background: lighten(@warning-color, 40%);
    color: darken(@warning-color, 20%);
  }

  &.medium {
    background: lighten(#f39c12, 40%);
    color: darken(#f39c12, 20%);
  }

  &.low {
    background: lighten(@primary-color, 40%);
    color: darken(@primary-color, 20%);
  }
}

.api-content {
  padding: 20px;

  p {
    margin-bottom: 15px;
    line-height: 1.7;
    font-size: 1.1rem;
  }
}

.code-example {
  background: #2d2d2d;
  border-radius: 8px;
  padding: 18px;
  margin: 15px 0;
  overflow-x: auto;

  pre {
    margin: 0;

    code {
      color: #f8f8f2;
      font-family: 'Fira Code', monospace;
      font-size: 0.95rem;
      line-height: 1.5;
    }
  }
}

.usage-tip {
  background: rgba(39, 174, 96, 0.08);
  border-radius: 8px;
  padding: 15px;
  margin-top: 15px;
  font-size: 0.95rem;

  strong {
    color: darken(@success-color, 10%);
  }
}

.compatibility-table {
  overflow-x: auto;
  margin-bottom: 20px;
  border-radius: 10px;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);

  table {
    width: 100%;
    border-collapse: collapse;
    min-width: 700px;

    th,
    td {
      padding: 16px 20px;
      text-align: center;
      border-bottom: 1px solid @border-color;
    }

    th {
      background: #f1f5f9;
      font-weight: 600;
      color: @text-color;
    }

    tbody tr {
      &:nth-child(odd) {
        background: rgba(240, 244, 248, 0.5);
      }

      &:hover {
        background: rgba(52, 152, 219, 0.08);
      }
    }

    td:first-child {
      text-align: left;
      font-weight: 500;
    }
  }
}

.supported {
  background: rgba(39, 174, 96, 0.15);
  color: darken(@success-color, 20%);
  font-weight: 500;
}

.partial {
  background: rgba(243, 156, 18, 0.15);
  color: darken(#f39c12, 20%);
  font-weight: 500;
}

.compatibility-note {
  text-align: center;
  font-size: 0.95rem;
  color: #7f8c8d;

  a {
    color: @primary-color;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
}

.footer {
  text-align: center;
  margin-top: 50px;
  padding: 30px;
  color: #7f8c8d;
  font-size: 1rem;
  border-top: 1px solid @border-color;

  p:first-child {
    margin-bottom: 8px;
    font-weight: 500;
  }
}

@media (max-width: 768px) {
  .header {
    padding: 30px 15px;

    h1 {
      font-size: 2.2rem;
    }

    p {
      font-size: 1.1rem;
    }
  }

  .api-grid {
    grid-template-columns: 1fr;
  }
}
</style>
