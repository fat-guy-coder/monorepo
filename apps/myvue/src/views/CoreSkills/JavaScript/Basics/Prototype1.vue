<template>
  <div class="prototype-guide">
    <h1 class="main-title">ğŸ”— JavaScript åŸå‹ä¸åŸå‹é“¾ä»‹ç»</h1>

    <div>

    </div>
    <div class="prototype-description">
      <h2>ğŸ” åŸå‹ä¸åŸå‹é“¾ç®€ä»‹</h2>
      <h3>
        åœ¨JavaScriptä¸­ï¼ŒåŸå‹æ˜¯å¯¹è±¡çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§[[Prototype]]ï¼ŒæŒ‡å‘å…¶åŸå‹å¯¹è±¡ã€‚åŸå‹é“¾æ˜¯ç”±å¤šä¸ªå¯¹è±¡é€šè¿‡åŸå‹å…³ç³»è¿æ¥è€Œæˆçš„é“¾æ¡ã€‚å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ŒJavaScriptä¼šé¦–å…ˆåœ¨è¯¥å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§æˆ–æ–¹æ³•æˆ–åˆ°è¾¾é“¾çš„æœ«ç«¯ï¼ˆå³nullï¼‰ã€‚
      </h3>
      <h3>
        åŸå‹çš„ä½¿ç”¨ä½¿å¾—æ–¹æ³•å’Œå±æ€§å¯ä»¥åœ¨å¤šä¸ªå¯¹è±¡ä¹‹é—´<b>å…±äº«</b>ï¼Œä»è€ŒèŠ‚çœå†…å­˜å¹¶æé«˜æ€§èƒ½ã€‚<b>é€šè¿‡åŸå‹ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç»§æ‰¿ï¼Œä½¿å¾—å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„æ–¹æ³•å’Œå±æ€§</b>ã€‚è¿™ç§æœºåˆ¶æ˜¯JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒã€‚
      </h3>
    </div>

    <div>
      <img :src="img" loading="lazy" alt="">
    </div>

    <!-- åŸå‹é“¾å¯è§†åŒ– -->
    <div class="prototype-chain">
      <div class="chain-item instance">
        <span class="title">å®ä¾‹å¯¹è±¡</span>
        <div class="props">
          <div>name: 'å°æ˜'</div>
          <div class="proto-line">__proto__</div>
        </div>
      </div>

      <div class="chain-arrow">â¤</div>

      <div class="chain-item prototype">
        <span class="title">Person.prototype</span>
        <div class="props">
          <div>constructor: Person</div>
          <div>sayHello()</div>
          <div class="proto-line">__proto__</div>
        </div>
      </div>

      <div class="chain-arrow">â¤</div>

      <div class="chain-item object">
        <span class="title">Object.prototype</span>
        <div class="props">
          <div>toString()</div>
          <div>hasOwnProperty()</div>
          <div class="proto-line">__proto__</div>
        </div>
      </div>

      <div class="chain-arrow">â¤</div>

      <div class="chain-item null">null</div>
    </div>

    <!-- æ ¸å¿ƒæ¦‚å¿µ -->
    <div class="concept-grid">
      <div class="concept-card">
        <h2>ğŸ“Œ åŸå‹ä½¿ç”¨æ–¹å¼</h2>
        <pre><code>function Person(name) {
  this.name = name;
}

// åŸå‹æ–¹æ³•
Person.prototype.sayHello = function() {
  console.log(`Hello, ${this.name}!`);
};

const person = new Person('å°æ˜');
person.sayHello(); // é€šè¿‡åŸå‹é“¾è°ƒç”¨</code></pre>
      </div>

      <div class="concept-card">
        <h2>ğŸ’¡ ä½¿ç”¨åœºæ™¯</h2>
        <ul>
          <li>å®ç°æ–¹æ³•å¤ç”¨ï¼ŒèŠ‚çœå†…å­˜</li>
          <li>åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡ç±»å‹</li>
          <li>å®ç°ç»§æ‰¿æœºåˆ¶</li>
          <li>æ‰©å±•å†…ç½®å¯¹è±¡åŠŸèƒ½</li>
        </ul>
      </div>
    </div>

    <!-- ç»§æ‰¿ç¤ºä¾‹ -->
    <div class="inheritance-example">
      <h2>ğŸ§¬ åŸå‹ç»§æ‰¿ç¤ºä¾‹</h2>
      <pre><code>function Student(name, major) {
  Person.call(this, name);
  this.major = major;
}

Student.prototype = Object.create(Person.prototype);
Student.prototype.constructor = Student;

Student.prototype.study = function() {
  console.log(`${this.name} is studying ${this.major}`);
};</code></pre>
    </div>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <div class="notice-section">
      <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
      <div class="notices">
        <div class="notice">
          <div class="icon">âŒ</div>
          <p>ä¸è¦ç›´æ¥ä¿®æ”¹å†…ç½®å¯¹è±¡çš„åŸå‹</p>
        </div>
        <div class="notice">
          <div class="icon">ğŸ“Œ</div>
          <p>é¿å…åˆ›å»ºè¿‡é•¿çš„åŸå‹é“¾å½±å“æ€§èƒ½</p>
        </div>
        <div class="notice">
          <div class="icon">ğŸ”</div>
          <p>hasOwnProperty å’Œ in æ“ä½œç¬¦çš„åŒºåˆ«</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import img from '@/assets/js/prototype-chain.png'
// ç¤ºä¾‹ä»£ç é€»è¾‘å¯æ ¹æ®éœ€è¦æ·»åŠ 
class Person {
  public name: string
  constructor(name: string) {
    this.name = name
  }
  say() { }
}
// const Peter = new Person('Peter')


</script>

<style scoped>
div,
span {
  color: #000;
}

.prototype-guide {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', system-ui;
}

.main-title {
  text-align: center;
  color: #2c3e50;
  margin-bottom: 2rem;
  font-size: 2.5rem;
  background: linear-gradient(135deg, #667eea, #4ecdc4);
  /* -webkit-background-clip: text; */
  -webkit-text-fill-color: #fff;
}

.prototype-chain {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin: 4rem 0;
  position: relative;
}

.chain-item {
  padding: 1.5rem;
  border-radius: 12px;
  min-width: 200px;
  text-align: center;
  position: relative;
  transition: transform 0.3s ease;
}

.chain-item:hover {
  transform: translateY(-5px);
}

.instance {
  background: #ffe082;
  border: 2px solid #ffca28;
}

.prototype {
  background: #c8e6c9;
  border: 2px solid #66bb6a;
}

.object {
  background: #b3e5fc;
  border: 2px solid #29b6f6;
}

.null {
  background: #ef9a9a;
  border: 2px solid #ef5350;
  padding: 1rem 2rem;
}

.chain-arrow {
  font-size: 2rem;
  color: #666;
  animation: arrowPulse 1.5s infinite;
}

@keyframes arrowPulse {

  0%,
  100% {
    opacity: 0.5;
    transform: translateX(0);
  }

  50% {
    opacity: 1;
    transform: translateX(5px);
  }
}

.props {
  margin-top: 1rem;
  text-align: left;
  background: rgba(255, 255, 255, 0.8);
  padding: 0.8rem;
  border-radius: 8px;
}

.proto-line {
  color: #666;
  font-weight: bold;
  margin: 0.5rem 0;
  position: relative;
}

.proto-line::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: currentColor;
}

.concept-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 3rem 0;
}

.concept-card {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

pre {
  background: #1e1e1e;
  color: #dcdcdc;
  padding: 1.5rem;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
}

.inheritance-example {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  margin: 2rem 0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.notice-section {
  background: #fff3e0;
  padding: 2rem;
  border-radius: 12px;
  margin-top: 3rem;
}

.notices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-top: 1.5rem;
}

.notice {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 1rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.notice .icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}
</style>
