<template>
  <div class="spread-operator-container">
    <h1 class="main-title">ES6å±•å¼€è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä»‹ç»</h1>

    <div class="card concept">
      <h2>æ¦‚å¿µä¸å®šä¹‰</h2>
      <p>
        å±•å¼€è¿ç®—ç¬¦ï¼ˆSpread
        Operatorï¼‰æ˜¯ES6å¼•å…¥çš„ä¸€ç§è¯­æ³•ï¼Œä½¿ç”¨ä¸‰ä¸ªè¿ç»­çš„ç‚¹ï¼ˆ<code>...</code>ï¼‰è¡¨ç¤ºã€‚å®ƒå…è®¸åœ¨éœ€è¦å¤šä¸ªå…ƒç´ çš„åœ°æ–¹å±•å¼€å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€Mapã€Setç­‰ï¼‰æˆ–å¯¹è±¡å­—é¢é‡ã€‚
      </p>
      <div class="highlight-box">
        <pre><code>// åŸºæœ¬è¯­æ³•
const newArray = [...iterable];
const newObj = { ...object };</code></pre>
      </div>
    </div>

    <div class="usage-grid">
      <div class="card">
        <h2>æ•°ç»„æ“ä½œ</h2>
        <div class="code-block">
          <h3>å¤åˆ¶æ•°ç»„</h3>
          <pre><code>const arr1 = [1, 2, 3];
const arr2 = [...arr1]; // [1, 2, 3]</code></pre>
        </div>

        <div class="code-block">
          <h3>åˆå¹¶æ•°ç»„</h3>
          <pre><code>const arr1 = [1, 2];
const arr2 = [3, 4];
const combined = [...arr1, ...arr2]; // [1, 2, 3, 4]</code></pre>
        </div>

        <div class="code-block">
          <h3>æ·»åŠ å…ƒç´ </h3>
          <pre><code>const newArr = [0, ...arr1, 3]; // [0, 1, 2, 3]</code></pre>
        </div>

        <div class="code-block">
          <h3>å­—ç¬¦ä¸²è½¬æ•°ç»„</h3>
          <pre><code>const str = "hello";
const chars = [...str]; // ['h','e','l','l','o']</code></pre>
        </div>
      </div>

      <div class="card">
        <h2>å¯¹è±¡æ“ä½œ</h2>
        <div class="code-block">
          <h3>å¤åˆ¶å¯¹è±¡</h3>
          <pre><code>const obj1 = { a: 1, b: 2 };
const obj2 = { ...obj1 }; // { a: 1, b: 2 }</code></pre>
        </div>

        <div class="code-block">
          <h3>åˆå¹¶å¯¹è±¡</h3>
          <pre><code>const obj1 = { a: 1 };
const obj2 = { b: 2 };
const merged = { ...obj1, ...obj2 }; // { a: 1, b: 2 }</code></pre>
        </div>

        <div class="code-block">
          <h3>å±æ€§è¦†ç›–</h3>
          <pre><code>const obj = { a: 1, b: 2 };
const updated = { ...obj, b: 3 }; // { a: 1, b: 3 }</code></pre>
        </div>

        <div class="code-block">
          <h3>æ·»åŠ æ–°å±æ€§</h3>
          <pre><code>const newObj = { ...obj, c: 3 }; // { a:1, b:2, c:3 }</code></pre>
        </div>
      </div>

      <div class="card">
        <h2>å‡½æ•°å‚æ•°</h2>
        <div class="code-block">
          <h3>æ›¿ä»£apply</h3>
          <pre><code>// ES5
Math.max.apply(null, [1, 2, 3]);

// ES6
Math.max(...[1, 2, 3]); // 3</code></pre>
        </div>

        <div class="code-block">
          <h3>å¯å˜å‚æ•°</h3>
          <pre><code>function sum(...numbers) {
  return numbers.reduce((a, b) => a + b);
}
sum(1, 2, 3); // 6</code></pre>
        </div>

        <div class="code-block">
          <h3>ç»„åˆä½¿ç”¨</h3>
          <pre><code>const numbers = [1, 2, 3];
sum(...numbers); // 6</code></pre>
        </div>
      </div>
    </div>

    <div class="card scenarios">
      <h2>é€‚ç”¨åœºæ™¯</h2>
      <div class="scenario-grid">
        <div class="scenario-item">
          <div class="icon">ğŸ“‹</div>
          <h3>ä¸å¯å˜æ•°æ®æ“ä½œ</h3>
          <p>åœ¨React/Vueä¸­åˆ›å»ºæ–°çŠ¶æ€è€Œä¸ä¿®æ”¹åŸçŠ¶æ€</p>
        </div>

        <div class="scenario-item">
          <div class="icon">ğŸ”€</div>
          <h3>æ•°ç»„/å¯¹è±¡ç»„åˆ</h3>
          <p>è½»æ¾åˆå¹¶å¤šä¸ªæ•°ç»„æˆ–å¯¹è±¡</p>
        </div>

        <div class="scenario-item">
          <div class="icon">ğŸ¯</div>
          <h3>å‡½æ•°å‚æ•°å¤„ç†</h3>
          <p>å°†æ•°ç»„å…ƒç´ ä½œä¸ºç‹¬ç«‹å‚æ•°ä¼ é€’</p>
        </div>

        <div class="scenario-item">
          <div class="icon">ğŸ”„</div>
          <h3>çŠ¶æ€æ›´æ–°</h3>
          <p>åœ¨Redux/Vuexä¸­åˆ›å»ºæ–°çŠ¶æ€</p>
        </div>

        <div class="scenario-item">
          <div class="icon">ğŸ§©</div>
          <h3>è§£æ„èµ‹å€¼</h3>
          <p>æå–éƒ¨åˆ†å…ƒç´ ï¼Œä¿ç•™å‰©ä½™å…ƒç´ </p>
        </div>

        <div class="scenario-item">
          <div class="icon">ğŸ“¤</div>
          <h3>APIæ•°æ®å¤„ç†</h3>
          <p>å°†APIå“åº”åˆå¹¶åˆ°ç°æœ‰æ•°æ®</p>
        </div>
      </div>
    </div>

    <div class="pros-cons">
      <div class="card pros">
        <h2>ä¼˜ç‚¹</h2>
        <ul>
          <li><span class="highlight">ç®€æ´è¯­æ³•</span>ï¼šç®€åŒ–æ•°ç»„/å¯¹è±¡æ“ä½œ</li>
          <li><span class="highlight">ä¸å¯å˜æ€§</span>ï¼šæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼</li>
          <li><span class="highlight">ä»£ç å¯è¯»æ€§</span>ï¼šæ¯”concat/Object.assignæ›´ç›´è§‚</li>
          <li><span class="highlight">çµæ´»æ€§</span>ï¼šå¯åœ¨ä»»æ„ä½ç½®ä½¿ç”¨</li>
          <li><span class="highlight">æ€§èƒ½ä¼˜åŒ–</span>ï¼šç°ä»£JSå¼•æ“é«˜åº¦ä¼˜åŒ–</li>
          <li><span class="highlight">é€šç”¨æ€§</span>ï¼šæ”¯æŒæ‰€æœ‰å¯è¿­ä»£å¯¹è±¡</li>
        </ul>
      </div>

      <div class="card cons">
        <h2>ç¼ºç‚¹</h2>
        <ul>
          <li><span class="highlight">æµ…æ‹·è´</span>ï¼šåªå¤åˆ¶ç¬¬ä¸€å±‚ï¼ŒåµŒå¥—å¯¹è±¡ä»æ˜¯å¼•ç”¨</li>
          <li><span class="highlight">å…¼å®¹æ€§</span>ï¼šæ—§æµè§ˆå™¨éœ€è¦polyfillï¼ˆå¦‚IEï¼‰</li>
          <li><span class="highlight">æ€§èƒ½é—®é¢˜</span>ï¼šå¤§æ•°ç»„/å¯¹è±¡å¯èƒ½å½±å“æ€§èƒ½</li>
          <li><span class="highlight">å±æ€§è¦†ç›–</span>ï¼šå¯¹è±¡åˆå¹¶æ—¶åŒåå±æ€§ä¼šè¢«è¦†ç›–</li>
          <li><span class="highlight">å¯è¯»æ€§é™·é˜±</span>ï¼šè¿‡åº¦ä½¿ç”¨å¯èƒ½é™ä½å¯è¯»æ€§</li>
        </ul>
      </div>
    </div>

    <div class="card summary">
      <h2>æœ€ä½³å®è·µæ€»ç»“</h2>
      <div class="tips">
        <div class="tip">
          <div class="tip-icon">âœ…</div>
          <p>ä¼˜å…ˆä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ä»£æ›¿concat/slice/Object.assign</p>
        </div>
        <div class="tip">
          <div class="tip-icon">âœ…</div>
          <p>å¤„ç†åµŒå¥—å¯¹è±¡æ—¶ç»“åˆJSONæ–¹æ³•æˆ–æ·±æ‹·è´åº“</p>
        </div>
        <div class="tip">
          <div class="tip-icon">âœ…</div>
          <p>åœ¨React/VueçŠ¶æ€æ›´æ–°ä¸­åˆ›å»ºæ–°å¼•ç”¨</p>
        </div>
        <div class="tip">
          <div class="tip-icon">âœ…</div>
          <p>æ³¨æ„å¯¹è±¡åˆå¹¶æ—¶çš„å±æ€§é¡ºåº</p>
        </div>
        <div class="tip">
          <div class="tip-icon">â›”</div>
          <p>é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨å¤§æ•°ç»„å±•å¼€æ“ä½œ</p>
        </div>
        <div class="tip">
          <div class="tip-icon">â›”</div>
          <p>ä¸è¦ç”¨äºä¸å¯è¿­ä»£å¯¹è±¡</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
// æ­¤ç»„ä»¶ä»…ç”¨äºå±•ç¤ºï¼Œæ— é€»è¾‘
</script>

<style lang="less" scoped>
.spread-operator-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
  font-family:
    'Inter',
    -apple-system,
    BlinkMacSystemFont,
    sans-serif;
  color: #333;
  background: #f8fafc;
  line-height: 1.6;

  .main-title {
    text-align: center;
    color: #2563eb;
    margin-bottom: 32px;
    font-weight: 600;
    font-size: 2.2rem;
    border-bottom: 2px solid #dbeafe;
    padding-bottom: 16px;
  }

  .card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    padding: 24px;
    margin-bottom: 24px;
    transition:
      transform 0.2s,
      box-shadow 0.2s;

    &:hover {
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      transform: translateY(-2px);
    }

    h2 {
      color: #1e40af;
      font-size: 1.6rem;
      margin-top: 0;
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 1px solid #dbeafe;
    }
  }

  .concept {
    p {
      font-size: 1.1rem;
      margin-bottom: 16px;
    }
  }

  .highlight-box {
    background: #eff6ff;
    border-left: 4px solid #3b82f6;
    padding: 16px;
    border-radius: 0 4px 4px 0;
    margin-top: 16px;
    overflow-x: auto;

    pre {
      margin: 0;
    }
  }

  .usage-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 24px;
    margin-bottom: 24px;

    .card {
      margin-bottom: 0;
    }

    .code-block {
      margin-bottom: 20px;
      padding: 16px;
      background: #f8fafc;
      border-radius: 8px;

      h3 {
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 1.1rem;
        color: #1e3a8a;
      }

      pre {
        background: #e0e7ff;
        padding: 12px;
        border-radius: 6px;
        overflow-x: auto;
        font-size: 0.95rem;
        margin: 0;

        code {
          font-family: 'Fira Code', monospace;
          color: #1e40af;
        }
      }

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  .scenarios {
    .scenario-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .scenario-item {
      background: #f0f9ff;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      transition: transform 0.2s;

      &:hover {
        transform: translateY(-3px);
        background: #e0f2fe;
      }

      .icon {
        font-size: 2.5rem;
        margin-bottom: 12px;
      }

      h3 {
        margin-top: 0;
        margin-bottom: 8px;
        color: #0369a1;
      }

      p {
        margin: 0;
        color: #64748b;
        font-size: 0.95rem;
      }
    }
  }

  .pros-cons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }

    .pros,
    .cons {
      ul {
        padding-left: 20px;
        margin: 0;

        li {
          margin-bottom: 12px;
          padding-left: 8px;
        }
      }
    }

    .pros {
      .highlight {
        color: #065f46;
        background: #d1fae5;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 500;
      }
    }

    .cons {
      .highlight {
        color: #b91c1c;
        background: #fee2e2;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 500;
      }
    }
  }

  .summary {
    .tips {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
    }

    .tip {
      display: flex;
      align-items: flex-start;
      background: #f0fdf4;
      padding: 16px;
      border-radius: 8px;
      border-left: 4px solid #10b981;

      &-icon {
        font-size: 1.4rem;
        margin-right: 12px;
      }

      p {
        margin: 0;
        flex: 1;
      }
    }
  }
}
</style>
