<template>
  <div class="page-container">
    <div class="content-wrapper">
      <!-- é¡µé¢å¤´éƒ¨ -->
      <header class="page-header">
        <h1 class="page-title">
          <span class="card-icon">ğŸ§®</span>
          JavaScript BigInt åŸºæœ¬æŒ‡å—
        </h1>
        <p class="page-subtitle">å¤§æ•´æ•°è¿ç®—è§£å†³æ–¹æ¡ˆ</p>
      </header>

      <!-- åŸºæœ¬ç”¨æ³• -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ”§</span>
            åŸºæœ¬ä½¿ç”¨æ–¹æ³•
          </h2>
        </div>
        <div class="usage-grid">
          <div class="usage-card">
            <div class="card-header">
              <span class="icon">ğŸ”¢</span>
              <h3>åˆ›å»ºæ–¹å¼</h3>
            </div>
            <pre class="code-block"><code>const big1 = 12345678901234567890n; // å­—é¢é‡
const big2 = BigInt("9007199254740993"); // æ„é€ å‡½æ•°
const hex = 0x1fffffffffffffn; // åå…­è¿›åˆ¶
const binary = 0b10111111111111111n; // äºŒè¿›åˆ¶</code></pre>
          </div>

          <div class="usage-card">
            <div class="card-header">
              <span class="icon">âš¡</span>
              <h3>åŸºæœ¬è¿ç®—</h3>
            </div>
            <pre class="code-block"><code>const a = 10n;
const b = 20n;

console.log(a + b); // 30n
console.log(b / a); // 2n
console.log(a ** 3n); // 1000n
console.log(5n % 2n); // 1n</code></pre>
          </div>
        </div>
      </div>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ’¼</span>
            å…¸å‹ä½¿ç”¨åœºæ™¯
          </h2>
        </div>
        <div class="case-grid">
          <div class="case-card">
            <div class="case-icon">ğŸ¦</div>
            <h3>é‡‘èè®¡ç®—</h3>
            <p>é«˜ç²¾åº¦è´§å¸è®¡ç®—ï¼Œé¿å…æµ®ç‚¹è¯¯å·®</p>
            <pre class="code-block"><code>const cents = 12345678901234567890n; // ä»¥åˆ†ä¸ºå•ä½</code></pre>
          </div>

          <div class="case-card">
            <div class="case-icon">â±ï¸</div>
            <h3>æ—¶é—´æˆ³å¤„ç†</h3>
            <p>å¤„ç†å¾®ç§’çº§æ—¶é—´æˆ³è®¡ç®—</p>
            <pre class="code-block"><code>const timestamp = 1640995200000000n;</code></pre>
          </div>

          <div class="case-card">
            <div class="case-icon">ğŸ”</div>
            <h3>å¯†ç å­¦è¿ç®—</h3>
            <p>å¤§ç´ æ•°è®¡ç®—å’ŒåŠ å¯†ç®—æ³•</p>
            <pre class="code-block"><code>const prime = 957496696762772407663n;</code></pre>
          </div>
        </div>
      </div>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">âš ï¸</span>
            é‡è¦æ³¨æ„äº‹é¡¹
          </h2>
        </div>
        <div class="notice-grid">
          <div class="notice-card warning">
            <div class="notice-header">
              <span class="icon">ğŸš«</span>
              <h3>ç±»å‹æ··åˆ</h3>
            </div>
            <p>ä¸èƒ½ä¸ Number ç›´æ¥è¿ç®—</p>
            <pre class="code-block"><code>// é”™è¯¯ç¤ºä¾‹
console.log(1n + 2);
// TypeError: Cannot mix BigInt and other types</code></pre>
          </div>

          <div class="notice-card warning">
            <div class="notice-header">
              <span class="icon">ğŸ“¦</span>
              <h3>JSON åºåˆ—åŒ–</h3>
            </div>
            <p>é»˜è®¤æ— æ³•åºåˆ—åŒ–ï¼Œéœ€è¦è‡ªå®šä¹‰è½¬æ¢</p>
            <pre class="code-block"><code>const data = { value: 123n };
JSON.stringify(data);
// TypeError: Do not know how to serialize...</code></pre>
          </div>

          <div class="notice-card warning">
            <div class="notice-header">
              <span class="icon">ğŸ”</span>
              <h3>ç±»å‹æ£€æµ‹</h3>
            </div>
            <p>ä½¿ç”¨ typeof æ£€æµ‹ç±»å‹</p>
            <pre class="code-block"><code>typeof 1n; // "bigint"
Number.isInteger(1n); // false</code></pre>
          </div>
        </div>
      </div>

      <!-- è½¬æ¢æ–¹æ³• -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ”„</span>
            ç±»å‹è½¬æ¢æ–¹æ³•
          </h2>
        </div>
        <div class="conversion-table">
          <table>
            <thead>
              <tr>
                <th>è½¬æ¢ç±»å‹</th>
                <th>æ–¹æ³•ç¤ºä¾‹</th>
                <th>ç»“æœ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>è½¬ Number</td>
                <td>Number(123n)</td>
                <td>123ï¼ˆå¯èƒ½ä¸¢å¤±ç²¾åº¦ï¼‰</td>
              </tr>
              <tr>
                <td>è½¬ String</td>
                <td>String(123n)</td>
                <td>"123"</td>
              </tr>
              <tr>
                <td>è½¬ Boolean</td>
                <td>Boolean(0n)</td>
                <td>false</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- æœ€ä½³å®è·µ -->
      <div class="card">
        <div class="card-body">
          <h3 class="text-lg font-semibold mb-md">ğŸ† æœ€ä½³å®è·µå»ºè®®</h3>
          <div class="practice-list">
            <div class="practice-item">
              <div class="icon">âœ…</div>
              <p>åœ¨æ•°å­—è¶…è¿‡ 2^53 æ—¶ä½¿ç”¨ BigInt</p>
            </div>
            <div class="practice-item">
              <div class="icon">âœ…</div>
              <p>ç»Ÿä¸€ä½¿ç”¨ BigInt ç±»å‹è¿›è¡Œè®¡ç®—</p>
            </div>
            <div class="practice-item">
              <div class="icon">âœ…</div>
              <p>ä¼˜å…ˆä½¿ç”¨å­—é¢é‡åç¼€ n è¯­æ³•</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import '@/assets/css/unified-styles.css';
</script>

<style scoped>
/* ç»„ä»¶ç‰¹å®šæ ·å¼ */
.usage-grid,
.case-grid,
.notice-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-lg);
}

.usage-card,
.case-card,
.notice-card {
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  background: var(--bg-secondary);
  border: 1px solid var(--border-light);
}

.card-header,
.notice-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.card-header .icon,
.notice-header .icon {
  font-size: 2rem;
}

.notice-card.warning {
  border-left: 4px solid var(--error-color);
}

.case-icon {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-md);
}

.conversion-table {
  overflow-x: auto;
}

.conversion-table table {
  width: 100%;
  border-collapse: collapse;
}

.conversion-table th,
.conversion-table td {
  padding: var(--spacing-md);
  text-align: left;
  border-bottom: 1px solid var(--border-light);
}

.conversion-table th {
  background: var(--primary-color);
  color: white;
}

.conversion-table tr:nth-child(even) {
  background: var(--bg-secondary);
}

.code-block {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  padding: var(--spacing-md);
  border-radius: var(--radius-lg);
  font-family: var(--font-mono);
  font-size: 0.9rem;
  overflow-x: auto;
  margin: var(--spacing-md) 0;
  border: 1px solid var(--border-light);
}

.practice-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.practice-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-light);
}

.practice-item .icon {
  font-size: 1.5rem;
  color: var(--success-color);
}

.practice-item p {
  margin: 0;
  color: var(--text-secondary);
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {

  .usage-grid,
  .case-grid,
  .notice-grid {
    grid-template-columns: 1fr !important;
  }
}
</style>
