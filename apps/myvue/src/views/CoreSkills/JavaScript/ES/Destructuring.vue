// DestructuringDocument.vue

<template>
  <div class="page-container">
    <div class="content-wrapper">
      <!-- é¡µé¢å¤´éƒ¨ -->
      <header class="page-header">
        <h1 class="page-title">
          <span class="card-icon">ğŸ</span>
          ES6 è§£æ„èµ‹å€¼åŸºæœ¬æŒ‡å—
        </h1>
        <p class="page-subtitle">ä¼˜é›…çš„æ•°æ®æå–è‰ºæœ¯</p>
      </header>

      <!-- æ¦‚è¿° -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸŒŸ</span>
            æ ¸å¿ƒæ¦‚å¿µ
          </h2>
        </div>
        <div class="concept-cards">
          <div class="concept-card">
            <div class="icon">ğŸ“¦</div>
            <h3>æ•°æ®è§£åŒ…</h3>
            <p>ä»æ•°ç»„/å¯¹è±¡ä¸­æå–å€¼åˆ°å˜é‡</p>
          </div>
          <div class="concept-card">
            <div class="icon">âš¡</div>
            <h3>è¯­æ³•ç³–</h3>
            <p>ç®€åŒ–æ•°æ®è®¿é—®çš„è¯­æ³•å½¢å¼</p>
          </div>
          <div class="concept-card">
            <div class="icon">ğŸ¯</div>
            <h3>æ¨¡å¼åŒ¹é…</h3>
            <p>å·¦ä¾§å®šä¹‰åŒ¹é…æ¨¡å¼</p>
          </div>
        </div>
      </div>
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ’</span>
            ç‰¹æ€§
          </h2>
        </div>
        <div class="features-grid">
          <div class="feature-card">
            <div class="icon-box">ğŸ”€</div>
            <h3>é»˜è®¤å€¼</h3>
            <pre class="code-example">const { name = 'Anonymous' } = {};</pre>
          </div>
          <div class="feature-card">
            <div class="icon-box">ğŸ­</div>
            <h3>é‡å‘½å</h3>
            <pre class="code-example">const { name: userName } = user;</pre>
          </div>
          <div class="feature-card">
            <div class="icon-box">ğŸ¯</div>
            <h3>åµŒå¥—è§£æ„</h3>
            <pre class="code-example">const { addr: { city } } = user;</pre>
          </div>
          <div class="feature-card">
            <div class="icon-box">ğŸ”„</div>
            <h3>å˜é‡äº¤æ¢</h3>
            <pre class="code-example">[a, b] = [b, a];</pre>
          </div>
        </div>
      </div>

      <!-- æ•°ç»„è§£æ„ -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ“‹</span>
            æ•°ç»„è§£æ„
          </h2>
        </div>
        <div class="two-column">
          <div class="code-example">
            <pre class="code-block"><code>// åŸºç¡€è§£æ„
const [a, b] = [1, 2];
console.log(a); // 1

// è·³è¿‡å…ƒç´ 
const [,,c] = [1, 2, 3];

// é»˜è®¤å€¼
const [d=5] = [];

// å‰©ä½™é¡¹
const [head, ...tail] = [1,2,3,4];</code></pre>
          </div>
          <div class="feature-list">
            <h3>ğŸ’¡ ç‰¹ç‚¹</h3>
            <ul>
              <li>æŒ‰ç´¢å¼•ä½ç½®åŒ¹é…</li>
              <li>æ”¯æŒåµŒå¥—è§£æ„</li>
              <li>æ”¯æŒé»˜è®¤å€¼</li>
              <li>å¯ä¸å‰©ä½™å‚æ•°é…åˆ</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- å¯¹è±¡è§£æ„ -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ“Œ</span>
            å¯¹è±¡è§£æ„
          </h2>
        </div>
        <div class="two-column reverse">
          <div class="code-example">
            <pre class="code-block"><code>interface User {
  name: string;
  age: number;
  email?: string;
}

const user: User = {
  name: 'Alice',
  age: 25
};

// åŸºç¡€è§£æ„
const { name, age } = user;

// åˆ«å
const { name: userName } = user;

// é»˜è®¤å€¼
const { email = 'N/A' } = user;

// åµŒå¥—è§£æ„
const { addr: { city } } = { addr: { city: 'BJ' } };</code></pre>
          </div>
          <div class="feature-list">
            <h3>ğŸ’¡ ç‰¹ç‚¹</h3>
            <ul>
              <li>æŒ‰å±æ€§ååŒ¹é…</li>
              <li>æ”¯æŒåˆ«å</li>
              <li>é»˜è®¤å€¼å¤„ç†</li>
              <li>æ·±å±‚åµŒå¥—æ”¯æŒ</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- æ··åˆè§£æ„ -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ”€</span>
            æ··åˆè§£æ„
          </h2>
        </div>
        <div class="code-example wide">
          <pre class="code-block"><code>const config = {
  server: ['127.0.0.1', 8080],
  db: {
    type: 'mysql',
    credentials: {
      user: 'root',
      password: 'secret'
    }
  }
};

const {
  server: [host, port],
  db: {
    type,
    credentials: { user }
  }
} = config;</code></pre>
        </div>
      </div>

      <!-- å‡½æ•°å‚æ•° -->
      <div class="card mb-xl">
        <div class="card-header">
          <h2 class="card-title">
            <span class="card-icon">ğŸ¯</span>
            å‡½æ•°å‚æ•°è§£æ„
          </h2>
        </div>
        <div class="comparison">
          <div class="before">
            <h3>ä¼ ç»Ÿå†™æ³•</h3>
            <pre class="code-block"><code>function showMenu(title, width, height) {
  // ...
}</code></pre>
          </div>
          <div class="arrow">â‡’</div>
          <div class="after">
            <h3>è§£æ„å†™æ³•</h3>
            <pre class="code-block"><code>function showMenu({
  title = 'Untitled',
  width: w = 100,
  height: h = 200
}) {
  // ä½¿ç”¨ w, h
}</code></pre>
          </div>
        </div>
      </div>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <div class="card">
        <div class="card-body">
          <h3 class="text-lg font-semibold mb-md">âš ï¸ æ³¨æ„äº‹é¡¹</h3>
          <ul class="feature-list">
            <li>è§£æ„<span class="hl">null/undefined</span>ä¼šæŠ¥é”™</li>
            <li>é»˜è®¤å€¼åœ¨<span class="hl">undefined</span>æ—¶ç”Ÿæ•ˆ</li>
            <li>åˆ«åè¯­æ³•å®¹æ˜“ä¸ç±»å‹å£°æ˜æ··æ·†</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import '@/assets/css/unified-styles.css';
</script>

<style scoped>
/* ç»„ä»¶ç‰¹å®šæ ·å¼ */
.concept-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-lg);
}

.concept-card {
  text-align: center;
  padding: var(--spacing-lg);
  background: var(--bg-secondary);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-light);
  transition: all 0.3s ease;
}

.concept-card:hover {
  background: var(--primary-bg);
}

.concept-card .icon {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-md);
}

.concept-card h3 {
  color: var(--primary-color);
  margin-bottom: var(--spacing-sm);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: var(--spacing-lg);
}

.feature-card {
  text-align: center;
  padding: var(--spacing-lg);
  background: var(--bg-secondary);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-light);
  transition: transform 0.2s;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.icon-box {
  font-size: 2rem;
  margin-bottom: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--bg-primary);
  border-radius: 50%;
  display: inline-block;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.two-column {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-lg);
  align-items: center;
}

.two-column.reverse {
  grid-template-columns: 1fr 1fr;
  direction: rtl;
}

.two-column.reverse>* {
  direction: ltr;
}

.feature-list h3 {
  color: var(--primary-color);
  margin-bottom: var(--spacing-md);
}

.feature-list ul {
  list-style: none;
  padding-left: var(--spacing-lg);
}

.feature-list li {
  position: relative;
  padding: var(--spacing-sm) 0;
  color: var(--text-secondary);
}

.feature-list li::before {
  content: 'âœ“';
  color: var(--success-color);
  position: absolute;
  left: -1.5rem;
}

.code-example {
  background: var(--bg-tertiary);
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid var(--border-light);
}

.code-example.wide {
  grid-column: span 2;
}

.code-block {
  color: var(--text-primary);
  font-family: var(--font-mono);
  padding: var(--spacing-lg);
  font-size: 0.95rem;
  line-height: 1.6;
  overflow-x: auto;
}

.comparison {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: var(--spacing-lg);
  align-items: center;
}

.arrow {
  font-size: 2rem;
  color: var(--primary-color);
  padding: 0 var(--spacing-md);
}

.before .code-block,
.after .code-block {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.feature-list {
  list-style: none;
  padding-left: var(--spacing-md);
}

.feature-list li {
  padding: var(--spacing-sm) 0;
  border-bottom: 1px solid var(--border-light);
  color: var(--text-secondary);
}

.feature-list li:last-child {
  border-bottom: none;
}

.hl {
  color: var(--error-color);
  font-weight: bold;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {

  .concept-cards,
  .two-column {
    grid-template-columns: 1fr !important;
  }

  .comparison {
    grid-template-columns: 1fr !important;
  }

  .comparison .arrow {
    display: none;
  }
}
</style>
