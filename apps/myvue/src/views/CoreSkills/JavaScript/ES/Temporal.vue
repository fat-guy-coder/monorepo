<template>
  <div class="temporal-container">
    <!-- æ ‡é¢˜éƒ¨åˆ† -->
    <header class="header">
      <h1>â³ ECMAScript Temporal</h1>
      <p class="subtitle">ä¸‹ä¸€ä»£æ—¥æœŸæ—¶é—´å¤„ç†æ–¹æ¡ˆ</p>
      <div class="proposal-status">Stage 3 Proposal</div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <!-- æ ¸å¿ƒæ¦‚å¿µ -->
      <section class="concept-section">
        <h2 class="section-title">
          <span class="icon">ğŸŒŸ</span>
          æ ¸å¿ƒç‰¹æ€§
        </h2>
        <div class="feature-grid">
          <div v-for="(feature, index) in features" :key="index" class="feature-card">
            <div class="feature-header">
              <span class="feature-icon">{{ feature.icon }}</span>
              <h3>{{ feature.title }}</h3>
            </div>
            <p class="feature-desc">{{ feature.description }}</p>
            <pre class="code-sample">{{ feature.syntax }}</pre>
          </div>
        </div>
      </section>

      <!-- ä¸»è¦ç±»å‹ -->
      <section class="type-section">
        <h2 class="section-title">
          <span class="icon">ğŸ“¦</span>
          æ ¸å¿ƒç±»å‹ä½“ç³»
        </h2>
        <div class="type-grid">
          <div v-for="(type, index) in temporalTypes" :key="index" class="type-card">
            <div class="type-header">
              <h4>{{ type.name }}</h4>
              <span class="type-duration">{{ type.duration }}</span>
            </div>
            <ul class="type-props">
              <li v-for="(prop, pIndex) in type.properties" :key="pIndex">{{ prop }}</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="scenario-section">
        <h2 class="section-title">
          <span class="icon">ğŸ¯</span>
          å…¸å‹åº”ç”¨åœºæ™¯
        </h2>
        <div class="scenario-grid">
          <div v-for="(scene, index) in scenarios" :key="index" class="scene-card">
            <div class="scene-icon">{{ scene.icon }}</div>
            <h4>{{ scene.title }}</h4>
            <ul class="scene-points">
              <li v-for="(point, pIndex) in scene.points" :key="pIndex">{{ point }}</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <div class="notice-section">
        <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
        <ul>
          <li v-for="(note, index) in importantNotes" :key="index">{{ note }}</li>
        </ul>
      </div>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
interface TemporalFeature {
  icon: string;
  title: string;
  description: string;
  syntax: string;
}

interface TemporalType {
  name: string;
  duration: string;
  properties: string[];
}

interface Scenario {
  icon: string;
  title: string;
  points: string[];
}

const features = ref<TemporalFeature[]>([
  {
    icon: "ğŸ”’",
    title: "ä¸å¯å˜æ€§",
    description: "æ‰€æœ‰Temporalå¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„",
    syntax: "const date = Temporal.Now.plainDateISO();\nconst newDate = date.add({ days: 1 });"
  },
  {
    icon: "ğŸŒ",
    title: "æ—¶åŒºæ”¯æŒ",
    description: "åŸç”Ÿæ”¯æŒæ—¶åŒºè½¬æ¢å’Œå¤ä»¤æ—¶å¤„ç†",
    syntax: "Temporal.ZonedDateTime.from('2024-01-01T12:00[Asia/Shanghai]');"
  },
  {
    icon: "â±ï¸",
    title: "ç²¾ç¡®æ—¶é—´",
    description: "æ”¯æŒçº³ç§’çº§ç²¾åº¦æ—¶é—´è®¡ç®—",
    syntax: "const instant = Temporal.Instant.from('2024-01-01T00:00:00Z');"
  }
]);

const temporalTypes = ref<TemporalType[]>([
  {
    name: "Temporal.Instant",
    duration: "æ—¶é—´ç‚¹",
    properties: ["è¡¨ç¤ºç»å¯¹æ—¶é—´", "UTCæ—¶åŒº", "é€‚åˆå­˜å‚¨æ—¶é—´æˆ³"]
  },
  {
    name: "Temporal.ZonedDateTime",
    duration: "æ—¶åŒºæ—¶é—´",
    properties: ["å¸¦æ—¶åŒºä¿¡æ¯", "è‡ªåŠ¨å¤„ç†å¤ä»¤æ—¶", "é€‚åˆæ˜¾ç¤ºæœ¬åœ°æ—¶é—´"]
  },
  {
    name: "Temporal.PlainDate",
    duration: "æ—¥å†æ—¥æœŸ",
    properties: ["æ— æ—¶é—´ä¿¡æ¯", "æ— æ—¶åŒºä¿¡æ¯", "é€‚åˆç”Ÿæ—¥ç­‰æ—¥æœŸ"]
  }
]);

const scenarios = ref<Scenario[]>([
  {
    icon: "ğŸ’¹",
    title: "é‡‘èè®¡ç®—",
    points: ["åˆ©æ¯è®¡ç®—", "äº¤æ˜“æ—¶é—´ç²¾ç¡®å¤„ç†", "è·¨æ—¶åŒºç»“ç®—"]
  },
  {
    icon: "ğŸŒ",
    title: "å›½é™…åŒ–åº”ç”¨",
    points: ["å¤šæ—¶åŒºè½¬æ¢", "æœ¬åœ°åŒ–æ—¶é—´æ˜¾ç¤º", "èŠ‚å‡æ—¥è®¡ç®—"]
  },
  {
    icon: "ğŸ“…",
    title: "æ—¥å†ç³»ç»Ÿ",
    points: ["é‡å¤äº‹ä»¶å¤„ç†", "ä¼šè®®å®‰æ’", "æ—¶åŒºæ•æ„Ÿæé†’"]
  }
]);

const importantNotes = ref([
  'å½“å‰ä¸ºStage 3ææ¡ˆï¼ŒAPIå¯èƒ½å‘ç”Ÿå˜åŒ–',
  'éœ€è¦polyfillæ”¯æŒï¼ˆ@js-temporal/polyfillï¼‰',
  'æš‚æœªæ­£å¼çº³å…¥ECMAScriptæ ‡å‡†',
  'å¤„ç†å†å²æ—¥æœŸæ—¶éœ€æ³¨æ„å†æ³•å˜æ›´'
]);
</script>

<style scoped lang="less">
.temporal-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  background: linear-gradient(145deg, #f8f9fa, #e9ecef);

  .header {
    text-align: center;
    margin-bottom: 3rem;
    position: relative;

    h1 {
      font-size: 2.5rem;
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: #7f8c8d;
      font-size: 1.1rem;
    }

    .proposal-status {
      position: absolute;
      top: -1rem;
      right: -1rem;
      background: #ff9800;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transform: rotate(5deg);
    }
  }

  .concept-section {
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;

      .feature-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

        .feature-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1rem;

          .feature-icon {
            font-size: 1.8rem;
          }
        }

        .code-sample {
          background: #2c3e50;
          color: white;
          padding: 1rem;
          border-radius: 8px;
          font-family: 'Fira Code', monospace;
          white-space: pre-wrap;
          margin-top: 1rem;
        }
      }
    }
  }

  .type-section {
    margin: 3rem 0;

    .type-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;

      .type-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

        .type-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;

          .type-duration {
            font-size: 0.8rem;
            background: #e3f2fd;
            padding: 0.3rem 0.7rem;
            border-radius: 4px;
          }
        }

        .type-props {
          list-style: none;
          padding-left: 1rem;

          li {
            padding: 0.3rem 0;
            position: relative;

            &::before {
              content: "â€¢";
              color: #2196F3;
              position: absolute;
              left: -1rem;
            }
          }
        }
      }
    }
  }

  .scenario-section {
    .scenario-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;

      .scene-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        text-align: center;

        .scene-icon {
          font-size: 2rem;
          margin-bottom: 1rem;
        }

        .scene-points {
          list-style: none;
          padding-left: 0;

          li {
            padding: 0.3rem 0;
          }
        }
      }
    }
  }

  .notice-section {
    background: #fff3e0;
    border-radius: 12px;
    padding: 2rem;
    margin-top: 2rem;

    ul {
      list-style: none;
      padding-left: 1rem;

      li {
        padding: 0.5rem 0;
        position: relative;

        &::before {
          content: "â€¢";
          color: #e53935;
          position: absolute;
          left: -1rem;
        }
      }
    }
  }
}
</style>
