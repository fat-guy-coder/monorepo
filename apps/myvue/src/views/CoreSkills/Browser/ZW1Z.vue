<template>
  <div class="document-container">
    <h1 class="title gradient-text">æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶ï¼šé‡ç»˜ä¸å›æµ</h1>

    <section class="content-section">
      <h2 class="section-title">ğŸ¯ åŸºæœ¬æ¦‚å¿µ</h2>
      <div class="concept-card">
        <h3 class="concept-title">å›æµ (Reflow)</h3>
        <p class="concept-desc">
          å½“å…ƒç´ çš„å¸ƒå±€å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´æµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ å‡ ä½•å±æ€§å¹¶é‡æ–°æ’åˆ—å¸ƒå±€çš„è¿‡ç¨‹ã€‚
          å±äº<strong class="highlight">é«˜å¼€é”€</strong>æ“ä½œã€‚
        </p>
      </div>

      <div class="concept-card">
        <h3 class="concept-title">é‡ç»˜ (Repaint)</h3>
        <p class="concept-desc">
          å½“å…ƒç´ çš„å¤–è§‚æ ·å¼å‘ç”Ÿæ”¹å˜ä½†ä¸å½±å“å¸ƒå±€æ—¶ï¼ˆå¦‚é¢œè‰²å˜åŒ–ï¼‰ï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç»˜åˆ¶å…ƒç´ ã€‚ å¼€é”€<strong class="highlight">ç›¸å¯¹è¾ƒå°</strong>ã€‚
        </p>
      </div>
    </section>

    <section class="content-section">
      <h2 class="section-title">âš¡ å¸¸è§è§¦å‘åœºæ™¯</h2>

      <div class="grid-container">
        <div class="trigger-card danger">
          <h3>å›æµè§¦å‘åœºæ™¯</h3>
          <ul>
            <li>è°ƒæ•´çª—å£å¤§å°</li>
            <li>å¢åˆ DOMå…ƒç´ </li>
            <li>ä¿®æ”¹ç›’æ¨¡å‹å±æ€§ï¼ˆwidth/height/paddingç­‰ï¼‰</li>
            <li>è¯»å–offset*ã€scroll*ç­‰å¸ƒå±€å±æ€§</li>
            <li>æ¿€æ´»CSSä¼ªç±»ï¼ˆå¦‚:hoverï¼‰</li>
          </ul>
        </div>

        <div class="trigger-card warning">
          <h3>é‡ç»˜è§¦å‘åœºæ™¯</h3>
          <ul>
            <li>ä¿®æ”¹é¢œè‰²ç›¸å…³å±æ€§</li>
            <li>ä¿®æ”¹èƒŒæ™¯å›¾ç‰‡</li>
            <li>ä¿®æ”¹è¾¹æ¡†æ ·å¼</li>
            <li>ä¿®æ”¹visibilityå±æ€§</li>
            <li>ä¿®æ”¹æ–‡æœ¬é˜´å½±</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="pro-tips">
      <h2>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h2>
      <ul class="advices">
        <li>ä½¿ç”¨transformæ›¿ä»£top/leftåŠ¨ç”»</li>
        <li>ä½¿ç”¨visibilityä»£æ›¿display:none</li>
        <li>é¿å…é¢‘ç¹çš„DOMæŸ¥è¯¢ï¼Œå°½é‡ç¼“å­˜DOMå…ƒç´ </li>
        <li>ä½¿ç”¨DocumentFragmentå¤„ç†æ‰¹é‡DOMæ“ä½œ</li>
        <li>å¤æ‚åŠ¨ç”»è€ƒè™‘ä½¿ç”¨requestAnimationFrame</li>
        <li>å°½é‡å‡å°‘ä½¿ç”¨inline styleï¼Œä¼˜å…ˆä½¿ç”¨class</li>
        <li>æ‰¹é‡æ›´æ–°DOMæ—¶ä½¿ç”¨requestIdleCallback</li>
        <li>é¿å…ä½¿ç”¨è¿‡å¤šçš„setTimeout/setIntervalï¼Œè€ƒè™‘ä½¿ç”¨IntersectionObserver</li>
        <li>ä½¿ç”¨æ‡’åŠ è½½æŠ€æœ¯ä¼˜åŒ–å›¾ç‰‡å’Œèµ„æºåŠ è½½</li>
        <li>åˆç†ä½¿ç”¨keep-aliveç¼“å­˜ç»„ä»¶çŠ¶æ€</li>
      </ul>
    </section>
  </div>
</template>

<script setup lang="ts">
// ç±»å‹å£°æ˜ç¤ºä¾‹
interface LayoutElement extends HTMLElement {
  cachedWidth?: number
}
</script>

<style scoped>
.document-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Segoe UI', system-ui;
}

.title {
  text-align: center;
  margin-bottom: 2rem;
}

.gradient-text {
  background: linear-gradient(45deg, #42b883, #35495e);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.content-section {
  margin: 2rem 0;
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.grid-container {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

.trigger-card {
  padding: 1rem;
  border-radius: 8px;
  color: white;
}

.trigger-card.danger {
  background: linear-gradient(135deg, #ff6b6b, #ff4757);
}

.trigger-card.warning {
  background: linear-gradient(135deg, #ffd93d, #ffb347);
}

.code-block {
  background: #282c34;
  color: #abb2bf;
  padding: 1rem;
  border-radius: 6px;
  overflow-x: auto;
}

.optimize-card {
  margin: 1rem 0;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.pro-tips {
  background: #e3f2fd;
  padding: 1.5rem;
  border-radius: 12px;
  margin-top: 2rem;

  .advices {
    list-style: none;

    li {
      margin: 1rem 0;
    }
  }
}

.highlight {
  color: #42b883;
  font-weight: 600;
}
</style>
