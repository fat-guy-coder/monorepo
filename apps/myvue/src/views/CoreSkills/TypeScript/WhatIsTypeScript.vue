<template>
  <div class="typescript-guide">
    <header class="guide-header">
      <h1 class="title">TypeScript åŸºæœ¬ä»‹ç»</h1>
      <p class="subtitle">JavaScriptçš„è¶…é›†ï¼Œé™æ€ç±»å‹æ£€æŸ¥çš„å¼ºå¤§å·¥å…·</p>
    </header>

    <div class="content-grid">
      <!-- ç®€ä»‹éƒ¨åˆ† -->
      <section class="intro-section">
        <h2 class="section-title">ğŸŒŸ TypeScript æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
        <div class="intro-card">
          <p>TypeScriptæ˜¯ç”±å¾®è½¯å¼€å‘çš„å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯JavaScriptçš„è¶…é›†ï¼Œé€šè¿‡æ·»åŠ <strong>é™æ€ç±»å‹å®šä¹‰</strong>ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿåœ¨ä»£ç è¿è¡Œå‰å‘ç°é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</p>
          <div class="highlight-box">
            <div class="highlight-item">
              <div class="icon">ğŸ”„</div>
              <p>ç¼–è¯‘ä¸ºçº¯JavaScript</p>
            </div>
            <div class="highlight-item">
              <div class="icon">ğŸ§ </div>
              <p>å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿ</p>
            </div>
            <div class="highlight-item">
              <div class="icon">âš¡</div>
              <p>æ¸è¿›å¼é‡‡ç”¨</p>
            </div>
          </div>
        </div>
      </section>

      <!-- é…ç½®æŒ‡å— -->
      <section class="config-section">
        <h2 class="section-title">âš™ï¸ é¡¹ç›®é…ç½®æŒ‡å—</h2>
        <div class="config-steps">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>å®‰è£…TypeScript</h3>
              <pre class="code-block"><code>npm install -D typescript</code></pre>
            </div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>åˆå§‹åŒ–tsconfig.json</h3>
              <pre class="code-block"><code>npx tsc --init</code></pre>
            </div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>Vueé¡¹ç›®é›†æˆ</h3>
              <pre class="code-block"><code>// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()]
})</code></pre>
            </div>
          </div>
          <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>æ¨ètsconfigé…ç½®</h3>
              <pre class="code-block"><code>{
  "compilerOptions": {
    "target": "ESNext",
    "module": "ESNext",
    "strict": true,
    "jsx": "preserve",
    "moduleResolution": "node",
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- æ ¸å¿ƒä¼˜åŠ¿ -->
      <section class="benefits-section">
        <h2 class="section-title">âœ¨ TypeScript æ ¸å¿ƒä¼˜åŠ¿</h2>
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">ğŸš¨</div>
            <h3>æ—©æœŸé”™è¯¯æ£€æµ‹</h3>
            <p>åœ¨ç¼–è¯‘é˜¶æ®µæ•è·ç±»å‹é”™è¯¯ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯</p>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">ğŸ“</div>
            <h3>ä»£ç å³æ–‡æ¡£</h3>
            <p>ç±»å‹å®šä¹‰æœ¬èº«å°±æ˜¯æœ€å¥½çš„ä»£ç æ–‡æ¡£</p>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">ğŸ§©</div>
            <h3>æ›´å¥½çš„ä»£ç è¡¥å…¨</h3>
            <p>IDEåŸºäºç±»å‹ç³»ç»Ÿæä¾›æ™ºèƒ½æç¤º</p>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">ğŸ”§</div>
            <h3>é‡æ„å®‰å…¨</h3>
            <p>å¤§è§„æ¨¡é‡æ„æ—¶ä¿æŒä»£ç ä¸€è‡´æ€§</p>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">ğŸŒ</div>
            <h3>ç”Ÿæ€ç³»ç»Ÿæ”¯æŒ</h3>
            <p>ä¸»æµæ¡†æ¶å’Œåº“éƒ½æä¾›ç±»å‹å®šä¹‰</p>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">âš¡</div>
            <h3>æ¸è¿›å¼é‡‡ç”¨</h3>
            <p>å¯ä»¥é€æ­¥å°†JavaScripté¡¹ç›®è¿ç§»åˆ°TypeScript</p>
          </div>
        </div>
      </section>

      <!-- åŸºç¡€ç¤ºä¾‹ -->
      <section class="examples-section">
        <h2 class="section-title">ğŸ’¡ åŸºç¡€ç±»å‹ç¤ºä¾‹</h2>
        <div class="example-tabs">
          <div class="example-tab" :class="{ active: activeTab === 'interface' }" @click="activeTab = 'interface'">æ¥å£
          </div>
          <div class="example-tab" :class="{ active: activeTab === 'type' }" @click="activeTab = 'type'">ç±»å‹åˆ«å</div>
          <div class="example-tab" :class="{ active: activeTab === 'generic' }" @click="activeTab = 'generic'">æ³›å‹</div>
        </div>
        <div class="example-content">
          <pre v-if="activeTab === 'interface'" class="code-block"><code>interface User {
  id: number
  name: string
  email?: string  // å¯é€‰å±æ€§
  readonly createdAt: Date  // åªè¯»å±æ€§
}

function printUser(user: User) {
  console.log(user.name)
}</code></pre>
          <pre v-if="activeTab === 'type'" class="code-block"><code>type Point = {
  x: number
  y: number
}

type ID = number | string  // è”åˆç±»å‹

type Callback&lt;T&gt; = (data: T) => void  // æ³›å‹ç±»å‹åˆ«å</code></pre>
          <pre v-if="activeTab === 'generic'" class="code-block"><code>function identity&lt;T&gt;(arg: T): T {
  return arg
}

interface ApiResponse&lt;T&gt; {
  data: T
  status: number
}

class Queue&lt;T&gt; {
  private data: T[] = []
  push(item: T) { this.data.push(item) }
  pop(): T | undefined { return this.data.shift() }
}</code></pre>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const activeTab = ref('interface')
</script>

<style lang="less" scoped>
.typescript-guide {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', system-ui, sans-serif;
  color: #2d3748;
  line-height: 1.6;
}

.guide-header {
  text-align: center;
  margin-bottom: 3rem;

  .title {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: #2d3748;
    font-weight: 800;
    background: linear-gradient(90deg, #3178c6, #4d82c9);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .subtitle {
    font-size: 1.2rem;
    color: #64748b;
    font-weight: 400;
  }
}

.content-grid {
  display: grid;
  gap: 3rem;
}

.section-title {
  font-size: 1.8rem;
  color: #2d3748;
  margin-top: 0;
  margin-bottom: 1.5rem;
  position: relative;
  padding-bottom: 0.5rem;

  &::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 60px;
    height: 4px;
    background: linear-gradient(90deg, #3178c6, #4d82c9);
    border-radius: 2px;
  }
}

.intro-card {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

  p {
    font-size: 1.1rem;
    color: #475569;
    margin-top: 0;
  }
}

.highlight-box {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
}

.highlight-item {
  background: #f8fafc;
  border-radius: 0.5rem;
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 0.8rem;

  .icon {
    font-size: 1.5rem;
  }

  p {
    margin: 0;
    font-weight: 500;
    color: #334155;
  }
}

.config-steps {
  display: grid;
  gap: 1.5rem;
}

.step {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.step-number {
  width: 32px;
  height: 32px;
  background: #3178c6;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.step-content {
  flex: 1;

  h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
    color: #1e40af;
  }
}

.code-block {
  background: #1e293b;
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 0;

  code {
    font-family: 'Fira Code', monospace;
    font-size: 0.85rem;
    color: #f8fafc;
    line-height: 1.5;
    white-space: pre;
  }
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.benefit-card {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-3px);
  }

  .benefit-icon {
    font-size: 2rem;
    color: #3178c6;
    margin-bottom: 1rem;
  }

  h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
    color: #1e40af;
  }

  p {
    margin: 0;
    color: #475569;
    font-size: 0.95rem;
  }
}

.example-tabs {
  display: flex;
  border-bottom: 1px solid #e2e8f0;
  margin-bottom: 1.5rem;
}

.example-tab {
  padding: 0.5rem 1rem;
  cursor: pointer;
  margin-right: 0.5rem;
  border-bottom: 3px solid transparent;
  font-weight: 500;
  color: #64748b;

  &.active {
    color: #1e40af;
    border-bottom-color: #3178c6;
  }

  &:hover {
    color: #1e40af;
  }
}

.example-content {
  background: #1e293b;
  border-radius: 0.5rem;
  overflow: hidden;
}
</style>