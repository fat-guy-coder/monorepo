<template>
  <div class="event-delegation">
    <header class="header">
      <div class="header-content">
        <h1>ğŸ¯ JavaScript äº‹ä»¶å§”æ‰˜</h1>
        <p>é«˜æ•ˆå¤„ç† DOM äº‹ä»¶çš„å¼ºå¤§æŠ€æœ¯</p>
      </div>
      <div class="visualization">
        <div class="delegation-flow">
          <div class="flow-item">äº‹ä»¶è§¦å‘</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item">äº‹ä»¶å†’æ³¡</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item">çˆ¶å…ƒç´ æ•è·</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item">å§”æ‰˜å¤„ç†</div>
        </div>
      </div>
    </header>

    <div class="content-container">
      <!-- æ¦‚å¿µéƒ¨åˆ† -->
      <section class="concept-section">
        <div class="section-header">
          <div class="section-icon">ğŸ“š</div>
          <h2>äº‹ä»¶å§”æ‰˜æ¦‚å¿µ</h2>
        </div>
        <div class="concept-content">
          <div class="definition-card">
            <p>
              <strong>äº‹ä»¶å§”æ‰˜</strong>æ˜¯ä¸€ç§åˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶çš„æŠ€æœ¯ï¼Œå®ƒå°†äº‹ä»¶ç›‘å¬å™¨æ·»åŠ åˆ°çˆ¶å…ƒç´ è€Œä¸æ˜¯æ¯ä¸ªå­å…ƒç´ ä¸Šã€‚
              å½“å­å…ƒç´ è§¦å‘äº‹ä»¶æ—¶ï¼Œäº‹ä»¶ä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ ï¼Œçˆ¶å…ƒç´ ä¸Šçš„ç›‘å¬å™¨é€šè¿‡ <code>event.target</code> è¯†åˆ«äº‹ä»¶æºå¹¶è¿›è¡Œå¤„ç†ã€‚
            </p>
          </div>

          <div class="bubbling-example">
            <h3>äº‹ä»¶å†’æ³¡æœºåˆ¶</h3>
            <div class="bubbling-container">
              <div class="element grandparent" @click="handleClick('ç¥–å…ƒç´ ')">
                <div class="label">document</div>
                <div class="element parent" @click="handleClick('çˆ¶å…ƒç´ ')">
                  <div class="label">ul (å§”æ‰˜å…ƒç´ )</div>
                  <div class="element child" @click="handleClick('å­å…ƒç´ 1')">
                    <div class="label">li 1</div>
                  </div>
                  <div class="element child" @click="handleClick('å­å…ƒç´ 2')">
                    <div class="label">li 2</div>
                  </div>
                  <div class="element child" @click="handleClick('å­å…ƒç´ 3')">
                    <div class="label">li 3</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="bubbling-result">
              <p v-if="clickResult">ç‚¹å‡»äº†: {{ clickResult }}</p>
              <p v-else>ç‚¹å‡»ä¸Šé¢çš„å…ƒç´ æŸ¥çœ‹äº‹ä»¶å†’æ³¡è·¯å¾„</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ä»£ç ç¤ºä¾‹ -->
      <section class="code-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’»</div>
          <h2>ä»£ç ç¤ºä¾‹</h2>
        </div>

        <div class="code-tabs">
          <button v-for="(tab, index) in codeTabs" :key="index"
            :class="['tab-button', { active: activeCodeTab === index }]" @click="activeCodeTab = index">
            {{ tab }}
          </button>
        </div>

        <div class="code-content">
          <div v-show="activeCodeTab === 0" class="code-example">
            <h3>ä¼ ç»Ÿäº‹ä»¶å¤„ç†æ–¹å¼</h3>
            <pre><code>// ä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
const items = document.querySelectorAll('#list li');

items.forEach(item => {
  item.addEventListener('click', function() {
    console.log('ç‚¹å‡»äº†:', this.textContent);
    this.classList.add('active');
  });
});

// é—®é¢˜ï¼š
// 1. æ¯ä¸ªå…ƒç´ éƒ½æœ‰ç‹¬ç«‹çš„äº‹ä»¶ç›‘å¬å™¨
// 2. å†…å­˜å ç”¨è¾ƒé«˜
// 3. åŠ¨æ€æ·»åŠ çš„å…ƒç´ éœ€è¦å•ç‹¬ç»‘å®šäº‹ä»¶</code></pre>

            <div class="performance-comparison">
              <div class="performance-card">
                <div class="performance-title">5ä¸ªå…ƒç´ </div>
                <div class="performance-value">5ä¸ªç›‘å¬å™¨</div>
              </div>
              <div class="performance-card">
                <div class="performance-title">50ä¸ªå…ƒç´ </div>
                <div class="performance-value">50ä¸ªç›‘å¬å™¨</div>
              </div>
              <div class="performance-card">
                <div class="performance-title">500ä¸ªå…ƒç´ </div>
                <div class="performance-value">500ä¸ªç›‘å¬å™¨</div>
              </div>
            </div>
          </div>

          <div v-show="activeCodeTab === 1" class="code-example">
            <h3>äº‹ä»¶å§”æ‰˜æ–¹å¼</h3>
            <pre><code>// åªéœ€ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨åœ¨çˆ¶å…ƒç´ ä¸Š
const list = document.getElementById('list');

list.addEventListener('click', function(event) {
  // æ£€æŸ¥äº‹ä»¶æºæ˜¯å¦æ˜¯åˆ—è¡¨é¡¹
  if (event.target.tagName === 'LI') {
    console.log('ç‚¹å‡»äº†:', event.target.textContent);
    event.target.classList.add('active');
  }

  // æˆ–è€…ä½¿ç”¨æ›´ç²¾ç»†çš„é€‰æ‹©å™¨åŒ¹é…
  if (event.target.matches('.item')) {
    // å¤„ç†ç‰¹å®šç±»åçš„å…ƒç´ 
  }
});

// ä¼˜ç‚¹ï¼š
// 1. åªéœ€ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨
// 2. è‡ªåŠ¨å¤„ç†åŠ¨æ€æ·»åŠ çš„å…ƒç´ 
// 3. å†…å­˜ä½¿ç”¨æ›´é«˜æ•ˆ</code></pre>

            <div class="performance-comparison">
              <div class="performance-card efficient">
                <div class="performance-title">5ä¸ªå…ƒç´ </div>
                <div class="performance-value">1ä¸ªç›‘å¬å™¨</div>
              </div>
              <div class="performance-card efficient">
                <div class="performance-title">50ä¸ªå…ƒç´ </div>
                <div class="performance-value">1ä¸ªç›‘å¬å™¨</div>
              </div>
              <div class="performance-card efficient">
                <div class="performance-title">500ä¸ªå…ƒç´ </div>
                <div class="performance-value">1ä¸ªç›‘å¬å™¨</div>
              </div>
            </div>
          </div>

          <div v-show="activeCodeTab === 2" class="code-example">
            <h3>äº‹ä»¶å§”æ‰˜å®é™…åº”ç”¨</h3>
            <pre><code>// è¡¨æ ¼è¡Œç‚¹å‡»å¤„ç†
document.querySelector('#data-table').addEventListener('click', e => {
  const row = e.target.closest('tr');
  if (!row) return;

  console.log('è¡Œç‚¹å‡»:', row.rowIndex);

  // æ ¹æ®ç‰¹å®šæŒ‰é’®å¤„ç†
  if (e.target.matches('.delete-btn')) {
    deleteItem(row.dataset.id);
  }

  if (e.target.matches('.edit-btn')) {
    editItem(row.dataset.id);
  }
});

// åŠ¨æ€å†…å®¹å¤„ç†
const container = document.getElementById('dynamic-content');

container.addEventListener('click', e => {
  if (e.target.matches('.new-item')) {
    // å¤„ç†åŠ¨æ€æ·»åŠ çš„å…ƒç´ 
  }
});

// äº‹ä»¶å§”æ‰˜ç§»é™¤äº‹ä»¶
function setupHandler() {
  container.addEventListener('click', clickHandler);
}

function removeHandler() {
  container.removeEventListener('click', clickHandler);
}

function clickHandler(e) {
  // äº‹ä»¶å¤„ç†é€»è¾‘
}</code></pre>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="usage-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’¡</div>
          <h2>ä½¿ç”¨åœºæ™¯</h2>
        </div>

        <div class="usage-grid">
          <div class="usage-card">
            <div class="usage-icon">ğŸ“‹</div>
            <h3>å¤§å‹åˆ—è¡¨/è¡¨æ ¼</h3>
            <p>å¤„ç†åŒ…å«å¤§é‡é¡¹ç›®çš„åˆ—è¡¨æˆ–è¡¨æ ¼è¡Œç‚¹å‡»äº‹ä»¶</p>
          </div>
          <div class="usage-card">
            <div class="usage-icon">ğŸ”„</div>
            <h3>åŠ¨æ€å†…å®¹</h3>
            <p>ä¸ºåŠ¨æ€æ·»åŠ çš„å…ƒç´ æä¾›äº‹ä»¶å¤„ç†</p>
          </div>
          <div class="usage-card">
            <div class="usage-icon">ğŸ“Š</div>
            <h3>æ€§èƒ½ä¼˜åŒ–</h3>
            <p>å‡å°‘å†…å­˜ä½¿ç”¨ï¼Œæé«˜é¡µé¢æ€§èƒ½</p>
          </div>
          <div class="usage-card">
            <div class="usage-icon">ğŸ§©</div>
            <h3>ç»„ä»¶å¼€å‘</h3>
            <p>åœ¨UIæ¡†æ¶ä¸­å¤„ç†å¤æ‚ç»„ä»¶äº‹ä»¶</p>
          </div>
        </div>

        <div class="advanced-usage">
          <h3>é«˜çº§ä½¿ç”¨åœºæ™¯</h3>
          <div class="advanced-grid">
            <div class="advanced-card">
              <div class="advanced-icon">ğŸ”—</div>
              <div>
                <h4>äº‹ä»¶ä»£ç†åº“</h4>
                <p>ä½¿ç”¨ç±»ä¼¼ jQuery çš„ on() æ–¹æ³•å®ç°å§”æ‰˜</p>
              </div>
            </div>
            <div class="advanced-card">
              <div class="advanced-icon">ğŸ¯</div>
              <div>
                <h4>ç²¾ç¡®äº‹ä»¶åŒ¹é…</h4>
                <p>ä½¿ç”¨ event.target.matches() ç²¾ç¡®é€‰æ‹©å…ƒç´ </p>
              </div>
            </div>
            <div class="advanced-card">
              <div class="advanced-icon">ğŸš«</div>
              <div>
                <h4>é˜»æ­¢ä¸å¿…è¦å¤„ç†</h4>
                <p>é€šè¿‡ event.stopPropagation() æ§åˆ¶äº‹ä»¶æµ</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- äº‹ä»¶ç§»é™¤ -->
      <section class="removal-section">
        <div class="section-header">
          <div class="section-icon">ğŸ—‘ï¸</div>
          <h2>ç§»é™¤äº‹ä»¶ç›‘å¬å™¨</h2>
        </div>

        <div class="removal-content">
          <div class="removal-description">
            <p>
              <code>removeEventListener()</code> ç”¨äºä»å…ƒç´ ä¸Šç§»é™¤å…ˆå‰æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚
              æ­£ç¡®ç§»é™¤ä¸å†éœ€è¦çš„äº‹ä»¶ç›‘å¬å™¨å¯¹äºé¿å…å†…å­˜æ³„æ¼å’Œä¼˜åŒ–æ€§èƒ½è‡³å…³é‡è¦ã€‚
            </p>

            <div class="syntax-card">
              <h3>è¯­æ³•</h3>
              <pre>element.removeEventListener(type, listener[, options]);
element.removeEventListener(type, listener[, useCapture]);</pre>
            </div>

            <div class="removal-reasons">
              <h3>ä¸ºä»€ä¹ˆéœ€è¦ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ï¼Ÿ</h3>
              <ul>
                <li v-for="(reason, index) in removalReasons" :key="index">
                  <div class="reason-icon">âš ï¸</div>
                  <div>{{ reason }}</div>
                </li>
              </ul>
            </div>
          </div>

          <div class="removal-examples">
            <h3>ä½¿ç”¨ç¤ºä¾‹</h3>
            <div class="example-card">
              <h4>åŸºæœ¬ç”¨æ³•</h4>
              <pre><code>// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
const button = document.getElementById('myButton');
const handleClick = () => console.log('æŒ‰é’®è¢«ç‚¹å‡»');

button.addEventListener('click', handleClick);

// ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
button.removeEventListener('click', handleClick);</code></pre>
            </div>

            <div class="example-card">
              <h4>äº‹ä»¶å§”æ‰˜ä¸­çš„ç§»é™¤</h4>
              <pre><code>const list = document.getElementById('myList');
const handler = (e) => {
  if (e.target.matches('li')) {
    console.log('åˆ—è¡¨é¡¹ç‚¹å‡»:', e.target.textContent);
  }
};

// æ·»åŠ å§”æ‰˜äº‹ä»¶
list.addEventListener('click', handler);

// å½“ä¸å†éœ€è¦æ—¶ç§»é™¤
function cleanup() {
  list.removeEventListener('click', handler);
  console.log('äº‹ä»¶ç›‘å¬å™¨å·²ç§»é™¤');
}</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <section class="considerations-section">
        <div class="section-header">
          <div class="section-icon">âš ï¸</div>
          <h2>æ³¨æ„äº‹é¡¹</h2>
        </div>

        <div class="considerations-grid">
          <div class="consideration-card">
            <div class="consideration-icon">ğŸ”</div>
            <h3>äº‹ä»¶ç›®æ ‡åŒ¹é…</h3>
            <p>ä½¿ç”¨ event.target æ—¶è¦å°å¿ƒï¼Œå®ƒå¯èƒ½æ˜¯åµŒå¥—å…ƒç´ </p>
            <pre>// ä½¿ç”¨ closest() æ–¹æ³•
const item = event.target.closest('.list-item');</pre>
          </div>
          <div class="consideration-card">
            <div class="consideration-icon">ğŸš«</div>
            <h3>äº‹ä»¶å†’æ³¡ä¸­æ–­</h3>
            <p>stopPropagation() ä¼šé˜»æ­¢äº‹ä»¶åˆ°è¾¾å§”æ‰˜å…ƒç´ </p>
            <pre>// é¿å…åœ¨å­å…ƒç´ ä¸­ä½¿ç”¨
event.stopPropagation();</pre>
          </div>
          <div class="consideration-card">
            <div class="consideration-icon">âš¡</div>
            <h3>æ€§èƒ½è€ƒé‡</h3>
            <p>é¿å…åœ¨å¤§å‹å§”æ‰˜ä¸­ä½¿ç”¨å¤æ‚çš„é€‰æ‹©å™¨åŒ¹é…</p>
            <pre>// ä¿æŒé€‰æ‹©å™¨ç®€å•
event.target.matches('li')</pre>
          </div>
          <div class="consideration-card">
            <div class="consideration-icon">ğŸ§ª</div>
            <h3>äº‹ä»¶å§”æ‰˜æµ‹è¯•</h3>
            <p>ç¡®ä¿ä¸ºåŠ¨æ€å†…å®¹ç¼–å†™å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹</p>
            <pre>// æµ‹è¯•äº‹ä»¶æ˜¯å¦è¢«æ­£ç¡®å¤„ç†
simulateClick(dynamicElement);</pre>
          </div>
        </div>
      </section>

      <footer class="footer">
        <div class="summary">
          <h3>äº‹ä»¶å§”æ‰˜æ€»ç»“</h3>
          <p>
            äº‹ä»¶å§”æ‰˜æ˜¯ JavaScript ä¸­å¼ºå¤§çš„äº‹ä»¶å¤„ç†æ¨¡å¼ï¼Œå®ƒåˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶åœ¨çˆ¶å…ƒç´ ä¸Šå¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ã€‚
            è¿™ç§æŠ€æœ¯æé«˜äº†æ€§èƒ½ã€å‡å°‘äº†å†…å­˜ä½¿ç”¨ï¼Œå¹¶ç®€åŒ–äº†åŠ¨æ€å†…å®¹çš„äº‹ä»¶å¤„ç†ã€‚
          </p>
        </div>
        <div class="footer-links">
          <a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Building_blocks/Events#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"
            target="_blank">MDN æ–‡æ¡£</a>
          <a href="https://javascript.info/event-delegation" target="_blank">JavaScript.info æ•™ç¨‹</a>
          <a href="https://dmitripavlutin.com/javascript-event-delegation/" target="_blank">é«˜çº§æŒ‡å—</a>
        </div>
      </footer>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const codeTabs = ['ä¼ ç»Ÿæ–¹å¼', 'äº‹ä»¶å§”æ‰˜', 'å®é™…åº”ç”¨'];
const activeCodeTab = ref(1);
const clickResult = ref('');

const removalReasons = [
  'é˜²æ­¢å†…å­˜æ³„æ¼ - é¿å…æœªä½¿ç”¨çš„ç›‘å¬å™¨å ç”¨å†…å­˜',
  'æé«˜æ€§èƒ½ - å‡å°‘ä¸å¿…è¦çš„äº‹ä»¶å¤„ç†',
  'é¿å…é‡å¤å¤„ç† - é˜²æ­¢äº‹ä»¶è¢«å¤šæ¬¡å¤„ç†',
  'ç»„ä»¶å¸è½½æ—¶æ¸…ç† - åœ¨å•é¡µåº”ç”¨ä¸­å°¤ä¸ºé‡è¦',
  'æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ - æŸäº›åœºæ™¯éœ€è¦ä¸´æ—¶ç¦ç”¨äº‹ä»¶'
];

const handleClick = (element: string) => {
  clickResult.value = element;
};
</script>

<style lang="less" scoped>


.event-delegation {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  color: #2d3748;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  min-height: 100vh;

  * {
    box-sizing: border-box;
  }
}

.header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem;
  background: linear-gradient(120deg, #3b82f6 0%, #2563eb 100%);
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
  color: white;

  .header-content {
    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }

    p {
      font-size: 1.2rem;
      color: #dbeafe;
      margin-top: 0;
    }
  }
}

.visualization {
  margin-top: 2rem;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
}

.delegation-flow {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1.5rem;
  flex-wrap: wrap;

  .flow-item {
    background: rgba(255, 255, 255, 0.9);
    color: #2563eb;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }

  .flow-arrow {
    font-size: 1.8rem;
    color: white;
    font-weight: bold;
  }
}

.content-container {
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 35px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  margin-bottom: 3rem;
}

.section-header {
  display: flex;
  align-items: center;
  padding: 1.5rem 2rem;
  background: linear-gradient(120deg, #eff6ff 0%, #dbeafe 100%);
  border-bottom: 2px solid #d1d5db;

  h2 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 600;
    color: #1d4ed8;
  }

  .section-icon {
    font-size: 1.8rem;
    margin-right: 1.2rem;
    background: #3b82f6;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }
}

.concept-section {
  .concept-content {
    padding: 2rem;
  }
}

.definition-card {
  background: #f0f9ff;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  border-left: 4px solid #3b82f6;

  p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #4b5563;
    margin: 0;

    strong {
      color: #1e40af;
    }

    code {
      background: #dbeafe;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      color: #1d4ed8;
      font-family: 'Fira Code', monospace;
    }
  }
}

.bubbling-example {
  background: #f8fafc;
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid #e2e8f0;

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1.5rem;
  }
}

.bubbling-container {
  display: flex;
  justify-content: center;
  padding: 1rem;
}

.element {
  padding: 1.5rem;
  margin: 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  text-align: center;
  min-width: 150px;

  .label {
    font-weight: 600;
    margin-top: 0.5rem;
  }

  &:hover {
    transform: scale(1.05);
  }
}

.grandparent {
  background: #93c5fd;
  border: 2px solid #3b82f6;

  .label {
    color: #1e40af;
  }
}

.parent {
  background: #bfdbfe;
  border: 2px solid #60a5fa;

  .label {
    color: #1d4ed8;
  }
}

.child {
  background: #dbeafe;
  border: 2px solid #93c5fd;
  margin: 15px 0;

  .label {
    color: #2563eb;
  }
}

.bubbling-result {
  margin-top: 1.5rem;
  padding: 1rem;
  background: #dbeafe;
  border-radius: 8px;
  text-align: center;
  font-weight: 500;
  color: #1e40af;
}

.code-section {
  .code-tabs {
    display: flex;
    padding: 0 2rem;
    background: #f1f5f9;
  }
}

.tab-button {
  padding: 1rem 1.5rem;
  background: transparent;
  border: none;
  font-size: 1rem;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;

  &:hover {
    background: #e0f2fe;
    color: #1d4ed8;
  }

  &.active {
    background: white;
    color: #1d4ed8;
    font-weight: 600;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: #3b82f6;
    }
  }
}

.code-content {
  padding: 1.5rem 2rem;
}

.code-example {
  pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1.2rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 1.5rem;

    code {
      display: block;
    }
  }
}

.performance-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.performance-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;

  &.efficient {
    border-color: #10b981;
    background: #f0fdf4;

    .performance-title,
    .performance-value {
      color: #047857;
    }
  }

  .performance-title {
    color: #4b5563;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .performance-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1d4ed8;
  }
}

.usage-section {
  .usage-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem 2rem;
  }
}

.usage-card {
  background: white;
  border-radius: 12px;
  padding: 1.8rem;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
  }

  .usage-icon {
    font-size: 2.5rem;
    margin-bottom: 1.2rem;
    color: #3b82f6;
  }

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  p {
    color: #6b7280;
    margin: 0;
    line-height: 1.6;
  }
}

.advanced-usage {
  padding: 1.5rem 2rem;

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1.5rem;
  }
}

.advanced-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.advanced-card {
  display: flex;
  padding: 1.5rem;
  background: #f0f9ff;
  border-radius: 10px;
  border-left: 4px solid #3b82f6;
  align-items: center;

  .advanced-icon {
    font-size: 1.8rem;
    margin-right: 1.5rem;
    color: #3b82f6;
    flex-shrink: 0;
  }

  h4 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  p {
    color: #4b5563;
    margin: 0;
    line-height: 1.6;
  }
}

.removal-section {
  .removal-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    padding: 1.5rem 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }
}

.removal-description {
  p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #4b5563;
    margin-bottom: 1.5rem;

    code {
      background: #dbeafe;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      color: #1d4ed8;
      font-family: 'Fira Code', monospace;
    }
  }
}

.syntax-card {
  background: #1e293b;
  color: #e2e8f0;
  padding: 1.2rem;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  margin-bottom: 1.5rem;

  h3 {
    color: #93c5fd;
    margin-top: 0;
    margin-bottom: 0.8rem;
    font-size: 1.2rem;
  }

  pre {
    margin: 0;
    overflow-x: auto;
  }
}

.removal-reasons {
  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  li {
    display: flex;
    padding: 1rem 0;
    border-bottom: 1px solid #e5e7eb;

    &:last-child {
      border-bottom: none;
    }

    .reason-icon {
      margin-right: 1rem;
      font-size: 1.2rem;
      color: #ef4444;
      flex-shrink: 0;
    }
  }
}

.removal-examples {
  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1.5rem;
  }
}

.example-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  margin-bottom: 1.5rem;
  border: 1px solid #e5e7eb;

  h4 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  pre {
    background: #f1f5f9;
    padding: 1rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', monospace;
    font-size: 0.9rem;

    code {
      display: block;
    }
  }
}

.considerations-section {
  .considerations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem 2rem;
  }
}

.consideration-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
  }

  .consideration-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
    color: #3b82f6;
  }

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  p {
    color: #6b7280;
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  pre {
    background: #f1f5f9;
    padding: 0.8rem;
    border-radius: 6px;
    font-family: 'Fira Code', monospace;
    font-size: 0.85rem;
    overflow-x: auto;
  }
}

.footer {
  background: linear-gradient(120deg, #1e293b 0%, #0f172a 100%);
  color: white;
  padding: 3rem 2rem;

  .summary {
    max-width: 800px;
    margin: 0 auto 2rem;
    text-align: center;

    h3 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: #e0f2fe;
    }

    p {
      font-size: 1.1rem;
      color: #cbd5e1;
      line-height: 1.7;
    }
  }

  .footer-links {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;

    a {
      color: #93c5fd;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      border-radius: 50px;
      border: 1px solid #334155;
      transition: all 0.3s ease;

      &:hover {
        background: #3b82f6;
        color: white;
        border-color: #3b82f6;
      }
    }
  }
}

@media (max-width: 768px) {
  .event-delegation {
    padding: 1rem;
  }

  .header {
    padding: 1.5rem;

    h1 {
      font-size: 1.8rem;
    }

    p {
      font-size: 1rem;
    }
  }

  .section-header {
    padding: 1rem;

    h2 {
      font-size: 1.5rem;
    }
  }

  .delegation-flow {
    flex-direction: column;
    gap: 0.5rem;

    .flow-arrow {
      transform: rotate(90deg);
    }
  }

  .bubbling-container {
    flex-direction: column;
    align-items: center;
  }

  .element {
    width: 100%;
    max-width: 300px;
  }
}
</style>
