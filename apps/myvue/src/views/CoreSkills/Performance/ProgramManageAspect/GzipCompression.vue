<template>
  <div class="gzip-compression-container">
    <header class="header">
      <div class="header-content">
        <h1>Gzipå‹ç¼©æŠ€æœ¯æŒ‡å—</h1>
        <p>æå‡ç½‘ç«™æ€§èƒ½çš„å…³é”®ä¼˜åŒ–æŠ€æœ¯</p>
        <div class="compression-visual">
          <div class="original">
            <div class="file-icon">ğŸ“„</div>
            <div class="file-size">100KB</div>
            <div class="file-label">åŸå§‹æ–‡ä»¶</div>
          </div>
          <div class="compression-process">
            <div class="arrow">â”</div>
            <div class="gzip-icon">ğŸ§¬</div>
            <div class="process-label">Gzipå‹ç¼©</div>
          </div>
          <div class="compressed">
            <div class="file-icon">ğŸ“¦</div>
            <div class="file-size">25KB</div>
            <div class="file-label">å‹ç¼©å</div>
          </div>
        </div>
      </div>
    </header>

    <div class="content-wrapper">
      <nav class="sidebar">
        <ul>
          <li v-for="(section, index) in sections" :key="index" :class="{ active: activeSection === section.id }"
            @click="scrollToSection(section.id)">
            <div class="section-icon">{{ section.icon }}</div>
            <span>{{ section.title }}</span>
          </li>
        </ul>
      </nav>

      <main class="main-content">
        <!-- ä»‹ç»éƒ¨åˆ† -->
        <section id="introduction" class="section-card">
          <h2>ä»€ä¹ˆæ˜¯Gzipå‹ç¼©ï¼Ÿ</h2>
          <p>Gzipæ˜¯ä¸€ç§ä½¿ç”¨DEFLATEç®—æ³•è¿›è¡Œæ•°æ®å‹ç¼©çš„æ–‡ä»¶æ ¼å¼å’Œè½¯ä»¶åº”ç”¨ã€‚åœ¨Webå¼€å‘ä¸­ï¼ŒGzipå‹ç¼©ç”¨äºå‡å°é€šè¿‡HTTPä¼ è¾“çš„æ–‡ä»¶å¤§å°ï¼Œä»è€Œæ˜¾è‘—æå‡ç½‘ç«™åŠ è½½é€Ÿåº¦ã€‚</p>

          <div class="benefits-grid">
            <div class="benefit-card">
              <div class="benefit-icon">ğŸš€</div>
              <h3>åŠ è½½é€Ÿåº¦æå‡</h3>
              <p>å‡å°‘æ–‡ä»¶ä¼ è¾“æ—¶é—´</p>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">ğŸ“‰</div>
              <h3>å¸¦å®½èŠ‚çœ</h3>
              <p>é™ä½æœåŠ¡å™¨å¸¦å®½æ¶ˆè€—</p>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">ğŸ’¾</div>
              <h3>èµ„æºä¼˜åŒ–</h3>
              <p>å‡å°é™æ€èµ„æºä½“ç§¯</p>
            </div>
            <div class="benefit-card">
              <div class="benefit-icon">ğŸŒ</div>
              <h3>å…¨çƒåŠ é€Ÿ</h3>
              <p>æ”¹å–„å…¨çƒç”¨æˆ·ä½“éªŒ</p>
            </div>
          </div>
        </section>

        <!-- å·¥ä½œåŸç†éƒ¨åˆ† -->
        <section id="how-it-works" class="section-card">
          <h2>Gzipå·¥ä½œåŸç†</h2>
          <p>Gzipå‹ç¼©é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤æ˜¾è‘—å‡å°æ–‡ä»¶å¤§å°ï¼š</p>

          <div class="workflow">
            <div class="workflow-step">
              <div class="step-number">1</div>
              <h3>é‡å¤å­—ç¬¦ä¸²æ£€æµ‹</h3>
              <p>è¯†åˆ«æ–‡ä»¶ä¸­é‡å¤å‡ºç°çš„å­—ç¬¦ä¸²åºåˆ—</p>
            </div>
            <div class="workflow-arrow">â”</div>
            <div class="workflow-step">
              <div class="step-number">2</div>
              <h3>LZ77ç®—æ³•å¤„ç†</h3>
              <p>ä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€æœ¯å°†é‡å¤åºåˆ—æ›¿æ¢ä¸ºæŒ‡é’ˆ</p>
            </div>
            <div class="workflow-arrow">â”</div>
            <div class="workflow-step">
              <div class="step-number">3</div>
              <h3>éœå¤«æ›¼ç¼–ç </h3>
              <p>ä½¿ç”¨å˜é•¿ç¼–ç è¡¨å¯¹æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥å‹ç¼©</p>
            </div>
          </div>

          <div class="compression-demo">
            <div class="original-text">
              <h4>åŸå§‹æ–‡æœ¬</h4>
              <pre>Gzip compression works by finding repeated strings in the data.
Gzip compression is very efficient for text content.
Gzip compression can reduce file size by up to 70-90%.</pre>
            </div>
            <div class="compressed-text">
              <h4>å‹ç¼©å</h4>
              <pre>Gzip compression [works by finding repeated strings] in the data.
[It is] very efficient for text content.
[It] can reduce file size by up to 70-90%.</pre>
            </div>
          </div>

          <div class="compression-ratio">
            <div class="ratio-item">
              <div class="ratio-label">HTML</div>
              <div class="ratio-bar" style="width: 70%">70-80%</div>
            </div>
            <div class="ratio-item">
              <div class="ratio-label">CSS</div>
              <div class="ratio-bar" style="width: 65%">65-75%</div>
            </div>
            <div class="ratio-item">
              <div class="ratio-label">JavaScript</div>
              <div class="ratio-bar" style="width: 60%">60-70%</div>
            </div>
            <div class="ratio-item">
              <div class="ratio-label">JSON</div>
              <div class="ratio-bar" style="width: 75%">75-85%</div>
            </div>
            <div class="ratio-item">
              <div class="ratio-label">SVG/XML</div>
              <div class="ratio-bar" style="width: 80%">80-90%</div>
            </div>
          </div>
        </section>

        <!-- æœåŠ¡å™¨é…ç½®éƒ¨åˆ† -->
        <section id="configuration" class="section-card">
          <h2>æœåŠ¡å™¨é…ç½®æŒ‡å—</h2>
          <p>ä¸‹é¢æ˜¯åœ¨å¸¸è§æœåŠ¡å™¨ç¯å¢ƒä¸­å¯ç”¨Gzipå‹ç¼©çš„é…ç½®æ–¹æ³•ï¼š</p>

          <div class="server-tabs">
            <div class="tabs-header">
              <button v-for="(server, index) in servers" :key="index" :class="{ active: activeServer === server.id }"
                @click="activeServer = server.id">
                {{ server.name }}
              </button>
            </div>

            <div class="tabs-content">
              <!-- Nginx é…ç½® -->
              <div v-if="activeServer === 'nginx'" class="server-config">
                <p>åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
                <pre><code class="nginx">gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_types text/plain text/css application/json
           application/javascript text/xml application/xml
           application/xml+rss text/javascript;
gzip_min_length 1024;
gzip_disable "MSIE [1-6]\.";</code></pre>

                <div class="config-explanation">
                  <h4>é…ç½®è¯´æ˜ï¼š</h4>
                  <ul>
                    <li><code>gzip on</code>: å¯ç”¨Gzipå‹ç¼©</li>
                    <li><code>gzip_comp_level 6</code>: å‹ç¼©çº§åˆ«ï¼ˆ1-9ï¼‰ï¼Œ6æ˜¯æ¨èå€¼</li>
                    <li><code>gzip_types</code>: æŒ‡å®šéœ€è¦å‹ç¼©çš„æ–‡ä»¶ç±»å‹</li>
                    <li><code>gzip_min_length</code>: æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°ï¼ˆå°äºæ­¤å€¼ä¸å‹ç¼©ï¼‰</li>
                    <li><code>gzip_disable</code>: å¯¹ç‰¹å®šæµè§ˆå™¨ç¦ç”¨å‹ç¼©</li>
                  </ul>
                </div>
              </div>

              <!-- Apache é…ç½® -->
              <div v-if="activeServer === 'apache'" class="server-config">
                <p>åœ¨.htaccessæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
                <pre><code class="apache">&lt;IfModule mod_deflate.c&gt;
  # å¯ç”¨å‹ç¼©
  AddOutputFilterByType DEFLATE text/html text/plain text/xml
                               text/css text/javascript
                               application/javascript
                               application/json
                               application/xml

  # è®¾ç½®å‹ç¼©çº§åˆ«
  DeflateCompressionLevel 6

  # æ’é™¤ç‰¹å®šæµè§ˆå™¨
  BrowserMatch ^Mozilla/4 gzip-only-text/html
  BrowserMatch ^Mozilla/4\.0[678] no-gzip
  BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

  # è®¾ç½®æ—¥å¿—
  DeflateFilterNote Input instream
  DeflateFilterNote Output outstream
  DeflateFilterNote Ratio ratio
&lt;/IfModule&gt;</code></pre>
              </div>

              <!-- Node.js é…ç½® -->
              <div v-if="activeServer === 'nodejs'" class="server-config">
                <p>åœ¨Expressåº”ç”¨ä¸­ä½¿ç”¨compressionä¸­é—´ä»¶ï¼š</p>
                <pre><code class="javascript">const express = require('express');
const compression = require('compression');

const app = express();

// å¯ç”¨Gzipå‹ç¼©
app.use(compression({
  level: 6,               // å‹ç¼©çº§åˆ«
  threshold: 1024,        // æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  filter: (req, res) => {
    // æ’é™¤ç‰¹å®šè¯·æ±‚
    if (req.headers['x-no-compression']) {
      return false;
    }
    return compression.filter(req, res);
  }
}));

// å…¶ä»–ä¸­é—´ä»¶å’Œè·¯ç”±
app.use(express.static('public'));

app.listen(3000, () => {
  console.log('æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000');
});</code></pre>
              </div>

              <!-- Cloudflare é…ç½® -->
              <div v-if="activeServer === 'cloudflare'" class="server-config">
                <p>åœ¨Cloudflareæ§åˆ¶é¢æ¿ä¸­å¯ç”¨Brotliæˆ–Gzipå‹ç¼©ï¼š</p>
                <div class="cloudflare-steps">
                  <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                      <h4>ç™»å½•Cloudflareæ§åˆ¶é¢æ¿</h4>
                      <p>è®¿é—®æ‚¨çš„Cloudflareè´¦æˆ·å¹¶é€‰æ‹©è¦é…ç½®çš„ç½‘ç«™</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                      <h4>è¿›å…¥Speedä¼˜åŒ–é€‰é¡¹</h4>
                      <p>å¯¼èˆªåˆ°Speed > Optimization</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                      <h4>å¯ç”¨å‹ç¼©</h4>
                      <p>åœ¨"Content Optimization"éƒ¨åˆ†å¯ç”¨Brotliå’Œ/æˆ–Gzipå‹ç¼©</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                      <h4>é…ç½®å‹ç¼©çº§åˆ«</h4>
                      <p>é€‰æ‹©è¦å‹ç¼©çš„æ–‡ä»¶ç±»å‹ï¼ˆHTML, CSS, JSç­‰ï¼‰</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ€§èƒ½å½±å“éƒ¨åˆ† -->
        <section id="performance" class="section-card">
          <h2>æ€§èƒ½å½±å“åˆ†æ</h2>
          <p>Gzipå‹ç¼©å¦‚ä½•å½±å“ç½‘ç«™æ€§èƒ½ï¼Ÿä»¥ä¸‹æ˜¯å…³é”®æŒ‡æ ‡åˆ†æï¼š</p>

          <div class="performance-metrics">
            <div class="metric">
              <h3>åŠ è½½æ—¶é—´å‡å°‘</h3>
              <div class="metric-visual">
                <div class="bar original" style="height: 180px">3.5s</div>
                <div class="bar compressed" style="height: 80px">1.2s</div>
              </div>
              <p>é¡µé¢åŠ è½½æ—¶é—´å‡å°‘65%</p>
            </div>

            <div class="metric">
              <h3>å¸¦å®½èŠ‚çœ</h3>
              <div class="metric-visual">
                <div class="bandwidth-original">
                  <div class="data">2.4MB</div>
                  <div class="label">åŸå§‹</div>
                </div>
                <div class="bandwidth-compressed">
                  <div class="data">620KB</div>
                  <div class="label">å‹ç¼©å</div>
                </div>
              </div>
              <p>èŠ‚çœ74%çš„å¸¦å®½æ¶ˆè€—</p>
            </div>

            <div class="metric">
              <h3>CPUæ¶ˆè€—</h3>
              <div class="cpu-usage">
                <div class="usage-label">æœåŠ¡å™¨CPUå¢åŠ </div>
                <div class="usage-value">5-15%</div>
                <div class="usage-label">å®¢æˆ·ç«¯CPUå¢åŠ </div>
                <div class="usage-value">1-3%</div>
              </div>
              <p>åˆç†çš„CPUå¼€é”€æ¢å–æ˜¾è‘—æ€§èƒ½æå‡</p>
            </div>
          </div>

          <div class="performance-tips">
            <h3>æœ€ä½³å®è·µå»ºè®®</h3>
            <ul>
              <li>å¯¹æ–‡æœ¬èµ„æºï¼ˆHTML, CSS, JS, JSON, XMLï¼‰å¯ç”¨å‹ç¼©</li>
              <li>é¿å…å‹ç¼©å·²å‹ç¼©æ ¼å¼ï¼ˆå›¾ç‰‡ã€è§†é¢‘ã€PDFç­‰ï¼‰</li>
              <li>è®¾ç½®åˆç†çš„å‹ç¼©çº§åˆ«ï¼ˆé€šå¸¸5-6æ˜¯æœ€ä½³å¹³è¡¡ç‚¹ï¼‰</li>
              <li>ä½¿ç”¨æœ€ä½æ–‡ä»¶å¤§å°é˜ˆå€¼ï¼ˆ1KBå·¦å³ï¼‰</li>
              <li>è€ƒè™‘ä½¿ç”¨æ›´é«˜æ•ˆçš„Brotliå‹ç¼©ï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰</li>
            </ul>
          </div>
        </section>

        <!-- éªŒè¯ä¸æµ‹è¯•éƒ¨åˆ† -->
        <section id="verification" class="section-card">
          <h2>éªŒè¯Gzipå‹ç¼©</h2>
          <p>å¦‚ä½•ç¡®è®¤æ‚¨çš„ç½‘ç«™å·²æ­£ç¡®å¯ç”¨Gzipå‹ç¼©ï¼Ÿ</p>

          <div class="verification-methods">
            <div class="method">
              <h3>1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·</h3>
              <p>åœ¨Networkæ ‡ç­¾ä¸­æ£€æŸ¥å“åº”å¤´ï¼š</p>
              <div class="headers-example">
                <div>Content-Encoding: <span class="header-value">gzip</span></div>
                <div>Vary: <span class="header-value">Accept-Encoding</span></div>
              </div>
              <p>æ–‡ä»¶å¤§å°ä¼šæ˜¾ç¤ºåŸå§‹å¤§å°å’Œä¼ è¾“å¤§å°ï¼š<br>
                ä¾‹å¦‚: 150KB â†’ 35KB (å‹ç¼©å)
              </p>
            </div>

            <div class="method">
              <h3>2. åœ¨çº¿æ£€æµ‹å·¥å…·</h3>
              <ul>
                <li><a href="https://www.giftofspeed.com/gzip-test/" target="_blank">Gift of Speed - Gzip Test</a></li>
                <li><a href="https://varvy.com/tools/gzip/" target="_blank">Varvy Gzip Compression Test</a></li>
                <li><a href="https://tools.pingdom.com/" target="_blank">Pingdom Website Speed Test</a></li>
              </ul>
              <p>è¿™äº›å·¥å…·ä¼šæ‰«ææ‚¨çš„ç½‘ç«™å¹¶æŠ¥å‘Šå‹ç¼©çŠ¶æ€</p>
            </div>

            <div class="method">
              <h3>3. å‘½ä»¤è¡Œå·¥å…·</h3>
              <p>ä½¿ç”¨cURLéªŒè¯å‹ç¼©ï¼š</p>
              <pre><code class="bash">curl -H "Accept-Encoding: gzip" -I http://yourwebsite.com</code></pre>
              <p>æ£€æŸ¥å“åº”å¤´ä¸­çš„<code>Content-Encoding: gzip</code></p>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

// å½“å‰æ¿€æ´»çš„éƒ¨åˆ†
const activeSection = ref('introduction');
const activeServer = ref('nginx');

// å¯¼èˆªéƒ¨åˆ†
const sections = ref([
  { id: 'introduction', title: 'Gzipä»‹ç»', icon: 'â„¹ï¸' },
  { id: 'how-it-works', title: 'å·¥ä½œåŸç†', icon: 'âš™ï¸' },
  { id: 'configuration', title: 'æœåŠ¡å™¨é…ç½®', icon: 'ğŸ› ï¸' },
  { id: 'performance', title: 'æ€§èƒ½å½±å“', icon: 'ğŸ“Š' },
  { id: 'verification', title: 'éªŒè¯æ–¹æ³•', icon: 'âœ…' }
]);

// æœåŠ¡å™¨é…ç½®é€‰é¡¹
const servers = ref([
  { id: 'nginx', name: 'Nginx' },
  { id: 'apache', name: 'Apache' },
  { id: 'nodejs', name: 'Node.js' },
  { id: 'cloudflare', name: 'Cloudflare' }
]);

// æ»šåŠ¨åˆ°æŒ‡å®šéƒ¨åˆ†
const scrollToSection = (id: string) => {
  const element = document.getElementById(id);
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' });
    activeSection.value = id;
  }
};

// ç›‘å¬æ»šåŠ¨äº‹ä»¶
onMounted(() => {
  const handleScroll = () => {
    const sections = document.querySelectorAll('section');
    const scrollPosition = window.scrollY + 100;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;

      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        activeSection.value = section.id;
      }
    });
  };

  window.addEventListener('scroll', handleScroll);
  // åˆå§‹è§¦å‘ä¸€æ¬¡
  handleScroll();
});
</script>

<style lang="less" scoped>


:root {
  --primary: #4361ee;
  --primary-light: #4895ef;
  --secondary: #3f37c9;
  --accent: #4cc9f0;
  --success: #2ecc71;
  --warning: #f39c12;
  --dark: #2b2d42;
  --light: #f8f9fa;
  --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  --border-radius: 16px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.gzip-compression-container {
  font-family: 'Inter', sans-serif;
  color: var(--dark);
  background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f4 100%);
  min-height: 100vh;
  line-height: 1.6;
}

.header {
  background: linear-gradient(135deg, #1a2980, #26d0ce);
  color: white;
  padding: 3rem 2rem 5rem;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.1) 0%, transparent 30%);
  }
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
  position: relative;
  z-index: 1;

  h1 {
    font-size: 3.2rem;
    font-weight: 800;
    margin-bottom: 1rem;
    letter-spacing: -0.5px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  p {
    font-size: 1.3rem;
    opacity: 0.9;
    max-width: 700px;
    margin: 0 auto 2.5rem;
    font-weight: 300;
  }
}

.compression-visual {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin-top: 2rem;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  padding: 2rem;
  backdrop-filter: blur(10px);
  max-width: 800px;
  margin: 2rem auto 0;
}

.original,
.compressed {
  text-align: center;
  padding: 1.5rem;
  border-radius: 16px;
  min-width: 180px;

  .file-icon {
    font-size: 3.5rem;
    margin-bottom: 1rem;
  }

  .file-size {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .file-label {
    font-size: 1.1rem;
    opacity: 0.9;
  }
}

.original {
  background: rgba(255, 255, 255, 0.2);
}

.compressed {
  background: rgba(74, 189, 172, 0.3);
}

.compression-process {
  text-align: center;

  .arrow {
    font-size: 2.5rem;
    margin: 0.5rem 0;
  }

  .gzip-icon {
    font-size: 3rem;
    margin: 1rem 0;
  }

  .process-label {
    font-weight: 600;
    font-size: 1.1rem;
  }
}

.content-wrapper {
  display: flex;
  max-width: 1400px;
  margin: -3rem auto 3rem;
  padding: 0 2rem;
  gap: 2rem;
}

.sidebar {
  width: 280px;
  flex-shrink: 0;
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 1.8rem 1rem;
  position: sticky;
  top: 2rem;
  height: fit-content;
}

.sidebar ul {
  list-style: none;

  li {
    display: flex;
    align-items: center;
    padding: 0.9rem 1.2rem;
    border-radius: 10px;
    margin-bottom: 0.6rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;

    &:hover {
      background: rgba(67, 97, 238, 0.08);
      color: var(--primary);
    }

    &.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    }

    .section-icon {
      margin-right: 1rem;
      font-size: 1.2rem;
      width: 30px;
      text-align: center;
    }
  }
}

.main-content {
  flex-grow: 1;
}

.section-card {
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 2.5rem;
  margin-bottom: 2rem;

  h2 {
    font-size: 1.8rem;
    color: var(--secondary);
    margin-bottom: 1.5rem;
    position: relative;
    padding-bottom: 0.8rem;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 4px;
      background: var(--primary);
      border-radius: 2px;
    }
  }

  p {
    margin-bottom: 1.5rem;
    color: #555;
    font-size: 1.05rem;
  }
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.benefit-card {
  background: linear-gradient(135deg, #f0f4ff 0%, #e6eeff 100%);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  text-align: center;
  transition: transform 0.3s ease;
  border: 1px solid rgba(67, 97, 238, 0.15);

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(67, 97, 238, 0.15);
  }

  .benefit-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    color: var(--dark);
  }

  p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 0;
  }
}

.workflow {
  display: flex;
  justify-content: space-between;
  margin: 2.5rem 0;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1.5rem;
  }
}

.workflow-step {
  flex: 1;
  min-width: 250px;
  text-align: center;
  padding: 1.5rem;
  background: #f8f9ff;
  border-radius: 16px;
  position: relative;

  .step-number {
    width: 40px;
    height: 40px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    margin: 0 auto 1rem;
    font-size: 1.2rem;
  }

  h3 {
    font-size: 1.3rem;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }

  p {
    font-size: 0.95rem;
    color: #666;
  }
}

.workflow-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 1rem;
  font-size: 2rem;
  color: var(--primary);

  @media (max-width: 768px) {
    transform: rotate(90deg);
    padding: 1rem 0;
  }
}

.compression-demo {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2.5rem 0;


  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }

  pre {
    background: #f8f9ff;
    border: 1px solid #eef0ff;
    border-radius: 8px;
    color: #000;
    padding: 1.5rem;
    white-space: pre-wrap;
    font-family: 'Fira Code', monospace;
    font-size: 0.9rem;
    line-height: 1.6;
  }
}

.compression-ratio {
  margin-top: 2.5rem;
}

.ratio-item {
  margin-bottom: 1.2rem;

  .ratio-label {
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .ratio-bar {
    height: 30px;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 1rem;
    color: #000;
    font-weight: 600;
    min-width: 80px;
    transition: width 1.5s ease;
  }
}

.server-tabs {
  background: #f8fafc;
  border-radius: var(--border-radius);
  overflow: hidden;
  margin-top: 1.5rem;
  border: 1px solid #e2e8f0;
}

.tabs-header {
  display: flex;
  border-bottom: 1px solid #e2e8f0;
  background: #f1f5f9;
  overflow-x: auto;

  button {
    padding: 1rem 1.5rem;
    background: none;
    border: none;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #64748b;
    white-space: nowrap;

    &:hover {
      background: rgba(67, 97, 238, 0.05);
      color: var(--primary);
    }

    &.active {
      background: white;
      color: var(--primary);
      position: relative;

      &::after {
        content: '';
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--primary);
      }
    }
  }
}

.tabs-content {
  padding: 2rem;
}

.server-config {
  pre {
    background: #2d3748;
    color: #e2e8f0;
    padding: 1.5rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    margin: 1.5rem 0;

    code {
      display: block;
    }
  }
}

.config-explanation {
  background: #f9faff;
  border-radius: 12px;
  padding: 1.5rem;
  margin-top: 1.5rem;
  border-left: 4px solid var(--primary);

  h4 {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    color: var(--dark);
  }

  ul {
    list-style: none;

    li {
      padding: 0.5rem 0;
      position: relative;
      padding-left: 1.8rem;

      &::before {
        content: 'â€¢';
        color: var(--primary);
        position: absolute;
        left: 0;
        top: 0.5rem;
        font-size: 1.2rem;
      }
    }
  }
}

.cloudflare-steps {
  .step {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px dashed #e2e8f0;

    &:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .step-number {
      width: 40px;
      height: 40px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      font-size: 1.2rem;
    }

    h4 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--dark);
    }

    p {
      font-size: 0.95rem;
      color: #666;
      margin-bottom: 0;
    }
  }
}

.performance-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin: 2.5rem 0;
}

.metric {
  background: #f8f9ff;
  border-radius: 16px;
  padding: 1.8rem;
  text-align: center;
  border: 1px solid #eef0ff;

  h3 {
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
    color: var(--dark);
  }
}

.metric-visual {
  height: 200px;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 1.5rem;
  margin-bottom: 1.5rem;

  .bar {
    width: 60px;
    border-radius: 8px 8px 0 0;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
  }

  .original {
    background: var(--primary);
  }

  .compressed {
    background: var(--success);
  }
}

.bandwidth-original,
.bandwidth-compressed {
  display: flex;
  flex-direction: column;
  align-items: center;

  .data {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .label {
    font-weight: 600;
  }
}

.bandwidth-original .data {
  color: var(--primary);
}

.bandwidth-compressed .data {
  color: var(--success);
}

.cpu-usage {
  margin: 2rem 0;

  .usage-value {
    font-size: 2rem;
    font-weight: 700;
    margin: 0.5rem 0 1.5rem;
    color: var(--warning);
  }

  .usage-label {
    font-weight: 600;
    color: #555;
  }
}

.performance-tips {
  background: #f9faff;
  border-radius: 12px;
  padding: 1.8rem;
  margin-top: 2rem;
  border-left: 4px solid var(--accent);

  h3 {
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: var(--dark);
  }

  ul {
    list-style: none;

    li {
      padding: 0.5rem 0;
      position: relative;
      padding-left: 1.8rem;

      &::before {
        content: 'âœ“';
        color: var(--success);
        position: absolute;
        left: 0;
        top: 0.5rem;
        font-weight: 700;
      }
    }
  }
}

.verification-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.method {
  background: #f8f9ff;
  border-radius: 16px;
  padding: 1.8rem;
  border: 1px solid #eef0ff;

  h3 {
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: var(--dark);
  }

  p {
    margin-bottom: 1rem;
  }
}

.headers-example {
  background: #2d3748;
  color: white;
  padding: 1.2rem;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
  margin: 1rem 0;

  .header-value {
    color: var(--success);
    font-weight: 600;
  }
}

pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1.2rem;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
  margin: 1rem 0;

  code {
    display: block;
  }
}

@media (max-width: 992px) {
  .content-wrapper {
    flex-direction: column;
  }

  .sidebar {
    width: 100%;
    position: static;
  }
}

@media (max-width: 768px) {
  .header-content h1 {
    font-size: 2.5rem;
  }

  .compression-visual {
    flex-direction: column;
    gap: 1.5rem;

    .arrow {
      transform: rotate(90deg);
      margin: 0.5rem 0;
    }
  }
}
</style>
