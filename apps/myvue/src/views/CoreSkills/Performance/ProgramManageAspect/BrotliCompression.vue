<template>
  <div class="brotli-compression-container">
    <header class="header">
      <div class="header-content">
        <h1>Brotliå‹ç¼©æŠ€æœ¯æŒ‡å—</h1>
        <p>ä¸‹ä¸€ä»£Webæ€§èƒ½ä¼˜åŒ–è§£å†³æ–¹æ¡ˆ</p>
        <div class="compression-visual">
          <div class="original">
            <div class="file-icon">ğŸ“„</div>
            <div class="file-size">100KB</div>
            <div class="file-label">åŸå§‹æ–‡ä»¶</div>
          </div>
          <div class="compression-process">
            <div class="arrow">â”</div>
            <div class="brotli-icon">ğŸ§¬</div>
            <div class="process-label">Brotliå‹ç¼©</div>
          </div>
          <div class="compressed">
            <div class="file-icon">ğŸ“¦</div>
            <div class="file-size">18KB</div>
            <div class="file-label">å‹ç¼©å</div>
          </div>
        </div>
      </div>
    </header>

    <div class="content-wrapper">
      <nav class="sidebar">
        <ul>
          <li v-for="(section, index) in sections" :key="index" :class="{ active: activeSection === section.id }"
            @click="scrollToSection(section.id)">
            <div class="section-icon">{{ section.icon }}</div>
            <span>{{ section.title }}</span>
          </li>
        </ul>
      </nav>

      <main class="main-content">
        <!-- ä»‹ç»éƒ¨åˆ† -->
        <section id="introduction" class="section-card">
          <h2>ä»€ä¹ˆæ˜¯Brotliå‹ç¼©ï¼Ÿ</h2>
          <p>Brotliæ˜¯Googleå¼€å‘çš„ä¸€ç§å¼€æºæ•°æ®å‹ç¼©ç®—æ³•ï¼Œä¸“ä¸ºWebä¼˜åŒ–è®¾è®¡ã€‚ä¸ä¼ ç»Ÿçš„Gzipå‹ç¼©ç›¸æ¯”ï¼ŒBrotlié€šå¸¸èƒ½æä¾›20-26%æ›´é«˜çš„å‹ç¼©ç‡ï¼Œä»è€Œæ˜¾è‘—å‡å°‘ä¼ è¾“æ•°æ®é‡ï¼Œæé«˜ç½‘ç«™åŠ è½½é€Ÿåº¦ã€‚</p>

          <div class="key-features">
            <div class="feature-card">
              <div class="feature-icon">ğŸ†</div>
              <h3>æ›´é«˜å‹ç¼©ç‡</h3>
              <p>æ¯”Gzipå¹³å‡æå‡20-26%å‹ç¼©æ•ˆç‡</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">âš¡</div>
              <h3>æ›´å¿«åŠ è½½</h3>
              <p>å‡å°‘æ•°æ®ä¼ è¾“æ—¶é—´ï¼ŒåŠ é€Ÿé¡µé¢åŠ è½½</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ğŸ”’</div>
              <h3>HTTPSä¼˜åŒ–</h3>
              <p>ä¸“é—¨ä¸ºHTTPSä¼ è¾“ä¼˜åŒ–è®¾è®¡</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ğŸ“±</div>
              <h3>ç§»åŠ¨ç«¯å‹å¥½</h3>
              <p>æ˜¾è‘—é™ä½ç§»åŠ¨ç½‘ç»œæµé‡æ¶ˆè€—</p>
            </div>
          </div>

          <div class="adoption-stats">
            <h3>å…¨çƒé‡‡ç”¨ç‡</h3>
            <div class="stats-grid">
              <div class="stat">
                <div class="stat-value">97.5%</div>
                <div class="stat-label">å…¨çƒæµè§ˆå™¨æ”¯æŒç‡</div>
              </div>
              <div class="stat">
                <div class="stat-value">35%</div>
                <div class="stat-label">ç½‘ç«™å¯ç”¨ç‡</div>
              </div>
              <div class="stat">
                <div class="stat-value">78%</div>
                <div class="stat-label">CDNæ”¯æŒç‡</div>
              </div>
            </div>
          </div>
        </section>

        <!-- å·¥ä½œåŸç†éƒ¨åˆ† -->
        <section id="how-it-works" class="section-card">
          <h2>Brotliå·¥ä½œåŸç†</h2>
          <p>Brotlié€šè¿‡å…ˆè¿›çš„å‹ç¼©æŠ€æœ¯å®ç°æ›´é«˜çš„å‹ç¼©ç‡ï¼š</p>

          <div class="workflow">
            <div class="workflow-step">
              <div class="step-number">1</div>
              <h3>é¢„å®šä¹‰å­—å…¸</h3>
              <p>åŒ…å«13,000+å¸¸è§Webæœ¯è¯­ï¼ŒåŠ é€Ÿå‹ç¼©</p>
            </div>
            <div class="workflow-arrow">â”</div>
            <div class="workflow-step">
              <div class="step-number">2</div>
              <h3>ä¸Šä¸‹æ–‡å»ºæ¨¡</h3>
              <p>ä½¿ç”¨æ›´å¤æ‚çš„æ•°æ®å»ºæ¨¡æŠ€æœ¯</p>
            </div>
            <div class="workflow-arrow">â”</div>
            <div class="workflow-step">
              <div class="step-number">3</div>
              <h3>é«˜çº§ç†µç¼–ç </h3>
              <p>ç»“åˆLZ77ã€Huffmanå’ŒäºŒé˜¶ä¸Šä¸‹æ–‡ç¼–ç </p>
            </div>
          </div>

          <div class="compression-comparison">
            <h3>Brotli vs Gzip å‹ç¼©ç‡å¯¹æ¯”</h3>
            <div class="comparison-chart">
              <div class="file-type" v-for="(file, index) in fileTypes" :key="index">
                <div class="type-name">{{ file.type }}</div>
                <div class="bars">
                  <div class="bar gzip" :style="{ width: file.gzip + '%' }">
                    <span class="bar-label">Gzip: {{ file.gzip }}%</span>
                  </div>
                  <div class="bar brotli" :style="{ width: file.brotli + '%' }">
                    <span class="bar-label">Brotli: {{ file.brotli }}%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- æœåŠ¡å™¨é…ç½®éƒ¨åˆ† -->
        <section id="configuration" class="section-card">
          <h2>æœåŠ¡å™¨é…ç½®æŒ‡å—</h2>
          <p>åœ¨æ‚¨çš„æœåŠ¡å™¨ç¯å¢ƒä¸­å¯ç”¨Brotliå‹ç¼©ï¼š</p>

          <div class="server-tabs">
            <div class="tabs-header">
              <button v-for="(server, index) in servers" :key="index" :class="{ active: activeServer === server.id }"
                @click="activeServer = server.id">
                {{ server.name }}
              </button>
            </div>

            <div class="tabs-content">
              <!-- Nginx é…ç½® -->
              <div v-if="activeServer === 'nginx'" class="server-config">
                <p>ç¡®ä¿Nginxç‰ˆæœ¬â‰¥1.11.5ï¼Œå®‰è£…Brotliæ¨¡å—ï¼š</p>
                <pre><code class="bash"># ä¸‹è½½å¹¶ç¼–è¯‘Brotliæ¨¡å—
git clone https://github.com/google/ngx_brotli.git
cd nginx-{version}
./configure --add-module=../ngx_brotli
make &amp;&amp; make install</code></pre>

                <p>åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
                <pre><code class="nginx">brotli on;
brotli_comp_level 6;
brotli_types text/plain text/css application/javascript
             application/json application/x-javascript
             text/xml application/xml application/xml+rss
             text/javascript image/svg+xml;
brotli_min_length 1024;</code></pre>

                <div class="config-explanation">
                  <h4>é…ç½®è¯´æ˜ï¼š</h4>
                  <ul>
                    <li><code>brotli on</code>: å¯ç”¨Brotliå‹ç¼©</li>
                    <li><code>brotli_comp_level</code>: å‹ç¼©çº§åˆ«(1-11)ï¼Œ6æ˜¯æ¨èå€¼</li>
                    <li><code>brotli_types</code>: æŒ‡å®šéœ€è¦å‹ç¼©çš„æ–‡ä»¶ç±»å‹</li>
                    <li><code>brotli_min_length</code>: æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°</li>
                  </ul>
                </div>
              </div>

              <!-- Apache é…ç½® -->
              <div v-if="activeServer === 'apache'" class="server-config">
                <p>å®‰è£…mod_brotliæ¨¡å—ï¼š</p>
                <pre><code class="bash"># Ubuntu/Debian
sudo apt install brotli
sudo a2enmod brotli

# CentOS/RHEL
sudo yum install brotli
sudo dnf install mod_brotli</code></pre>

                <p>åœ¨.htaccessæ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
                <pre><code class="apache">&lt;IfModule mod_brotli.c&gt;
  BrotliCompressionQuality 10
  BrotliWindowSize 22
  AddOutputFilterByType BROTLI_COMPRESS text/html text/plain text/xml text/css text/javascript application/javascript
  AddOutputFilterByType BROTLI_COMPRESS application/json application/xml application/xhtml+xml
&lt;/IfModule&gt;</code></pre>
              </div>

              <!-- Node.js é…ç½® -->
              <div v-if="activeServer === 'nodejs'" class="server-config">
                <p>åœ¨Expressåº”ç”¨ä¸­ä½¿ç”¨shrink-rayä¸­é—´ä»¶ï¼š</p>
                <pre><code class="javascript">const express = require('express');
const shrinkRay = require('shrink-ray-current');

const app = express();

// å¯ç”¨Brotliå’ŒGzipå‹ç¼©
app.use(shrinkRay({
  brotli: { quality: 6 },  // Brotliå‹ç¼©çº§åˆ«
  zlib: { level: 6 }       // Gzipå‹ç¼©çº§åˆ«(å›é€€æ–¹æ¡ˆ)
}));

// å…¶ä»–ä¸­é—´ä»¶å’Œè·¯ç”±
app.use(express.static('public'));

app.listen(3000, () => {
  console.log('æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000');
});</code></pre>

                <div class="config-explanation">
                  <h4>æ³¨æ„äº‹é¡¹ï¼š</h4>
                  <ul>
                    <li>shrink-ray-currentåŒæ—¶æ”¯æŒBrotliå’ŒGzip</li>
                    <li>ä¸­é—´ä»¶ä¼šè‡ªåŠ¨å¤„ç†å®¢æˆ·ç«¯æ”¯æŒæƒ…å†µ</li>
                    <li>Brotliå‹ç¼©çº§åˆ«(quality)èŒƒå›´ä¸º0-11</li>
                    <li>å»ºè®®å¯¹æ–‡æœ¬èµ„æºä½¿ç”¨é«˜çº§åˆ«(6-11)ï¼Œå¯¹äºŒè¿›åˆ¶èµ„æºä½¿ç”¨ä½çº§åˆ«</li>
                  </ul>
                </div>
              </div>

              <!-- Cloudflare é…ç½® -->
              <div v-if="activeServer === 'cloudflare'" class="server-config">
                <p>åœ¨Cloudflareæ§åˆ¶é¢æ¿ä¸­å¯ç”¨Brotliå‹ç¼©ï¼š</p>
                <div class="cloudflare-steps">
                  <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                      <h4>ç™»å½•Cloudflareæ§åˆ¶é¢æ¿</h4>
                      <p>è®¿é—®æ‚¨çš„Cloudflareè´¦æˆ·å¹¶é€‰æ‹©è¦é…ç½®çš„ç½‘ç«™</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                      <h4>è¿›å…¥Speedä¼˜åŒ–é€‰é¡¹</h4>
                      <p>å¯¼èˆªåˆ°Speed > Optimization</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                      <h4>å¯ç”¨Brotli</h4>
                      <p>åœ¨"Content Optimization"éƒ¨åˆ†å¯ç”¨Brotliå‹ç¼©</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                      <h4>é…ç½®ä¼˜å…ˆçº§</h4>
                      <p>ç¡®ä¿Brotliä¼˜å…ˆçº§é«˜äºGzip</p>
                    </div>
                  </div>
                </div>

                <div class="cloudflare-tip">
                  <h4>ğŸ’¡ Cloudflareå°è´´å£«ï¼š</h4>
                  <p>Cloudflareä¼šè‡ªåŠ¨ä¸ºæ”¯æŒBrotliçš„å®¢æˆ·ç«¯æä¾›Brotliå‹ç¼©ï¼Œä¸ºå…¶ä»–å®¢æˆ·ç«¯æä¾›Gzipå‹ç¼©ã€‚</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ€§èƒ½å½±å“éƒ¨åˆ† -->
        <section id="performance" class="section-card">
          <h2>æ€§èƒ½å½±å“åˆ†æ</h2>
          <p>Brotliå‹ç¼©å¦‚ä½•æå‡æ‚¨çš„ç½‘ç«™æ€§èƒ½ï¼Ÿ</p>

          <div class="performance-stats">
            <div class="stat-card">
              <div class="stat-icon">ğŸš€</div>
              <div class="stat-value">å¹³å‡å‡å°‘21%</div>
              <div class="stat-label">é¡µé¢åŠ è½½æ—¶é—´</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“‰</div>
              <div class="stat-value">èŠ‚çœ24%å¸¦å®½</div>
              <div class="stat-label">æµé‡æ¶ˆè€—</div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ“±</div>
              <div class="stat-value">ç§»åŠ¨ç«¯æå‡27%</div>
              <div class="stat-label">æ€§èƒ½æå‡</div>
            </div>
          </div>

          <div class="compression-levels">
            <h3>å‹ç¼©çº§åˆ«å¯¹æ€§èƒ½çš„å½±å“</h3>
            <div class="levels-table">
              <div class="table-header">
                <div>å‹ç¼©çº§åˆ«</div>
                <div>å‹ç¼©ç‡</div>
                <div>å‹ç¼©æ—¶é—´</div>
                <div>è§£å‹æ—¶é—´</div>
                <div>CPUæ¶ˆè€—</div>
                <div>æ¨èåœºæ™¯</div>
              </div>
              <div class="table-row">
                <div>1-4</div>
                <div>â­â­</div>
                <div>â­â­â­</div>
                <div>â­â­â­â­â­</div>
                <div>â­</div>
                <div>å®æ—¶å‹ç¼©</div>
              </div>
              <div class="table-row">
                <div>5-7</div>
                <div>â­â­â­â­</div>
                <div>â­â­â­</div>
                <div>â­â­â­â­</div>
                <div>â­â­</div>
                <div>åŠ¨æ€å†…å®¹</div>
              </div>
              <div class="table-row">
                <div>8-11</div>
                <div>â­â­â­â­â­</div>
                <div>â­</div>
                <div>â­â­â­</div>
                <div>â­â­â­â­</div>
                <div>é™æ€èµ„æº</div>
              </div>
            </div>
          </div>

          <div class="performance-tips">
            <h3>æœ€ä½³å®è·µå»ºè®®</h3>
            <ul>
              <li>å¯¹é™æ€èµ„æºä½¿ç”¨é«˜å‹ç¼©çº§åˆ«(9-11)</li>
              <li>å¯¹åŠ¨æ€å†…å®¹ä½¿ç”¨ä¸­ç­‰å‹ç¼©çº§åˆ«(5-7)</li>
              <li>åŒæ—¶å¯ç”¨Gzipä½œä¸ºå›é€€æ–¹æ¡ˆ</li>
              <li>ä¼˜å…ˆå‹ç¼©æ–‡æœ¬èµ„æº(HTML, CSS, JS, SVG)</li>
              <li>é¿å…å‹ç¼©å·²å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶(å›¾ç‰‡, PDF)</li>
            </ul>
          </div>
        </section>

        <!-- éªŒè¯ä¸æµ‹è¯•éƒ¨åˆ† -->
        <section id="verification" class="section-card">
          <h2>éªŒè¯Brotliå‹ç¼©</h2>
          <p>å¦‚ä½•ç¡®è®¤æ‚¨çš„ç½‘ç«™å·²æ­£ç¡®å¯ç”¨Brotliå‹ç¼©ï¼Ÿ</p>

          <div class="verification-methods">
            <div class="method">
              <h3>1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·</h3>
              <p>åœ¨Networkæ ‡ç­¾ä¸­æ£€æŸ¥å“åº”å¤´ï¼š</p>
              <div class="headers-example">
                <div>Content-Encoding: <span class="header-value">br</span></div>
                <div>Vary: <span class="header-value">Accept-Encoding</span></div>
              </div>
              <p>æ–‡ä»¶å¤§å°ä¼šæ˜¾ç¤ºåŸå§‹å¤§å°å’Œä¼ è¾“å¤§å°ï¼š<br>
                ä¾‹å¦‚: 150KB â†’ 28KB (Brotliå‹ç¼©å)
              </p>
            </div>

            <div class="method">
              <h3>2. åœ¨çº¿æ£€æµ‹å·¥å…·</h3>
              <ul>
                <li><a href="https://tools.keycdn.com/brotli-test" target="_blank">KeyCDN Brotli Test</a></li>
                <li><a href="https://www.giftofspeed.com/gzip-test/" target="_blank">Gift of Speed - Brotli Test</a>
                </li>
                <li><a href="https://brotli.pro/" target="_blank">Brotli.pro</a></li>
              </ul>
              <p>è¿™äº›å·¥å…·ä¼šæ‰«ææ‚¨çš„ç½‘ç«™å¹¶æŠ¥å‘Šå‹ç¼©çŠ¶æ€</p>
            </div>

            <div class="method">
              <h3>3. å‘½ä»¤è¡Œå·¥å…·</h3>
              <p>ä½¿ç”¨cURLéªŒè¯å‹ç¼©ï¼š</p>
              <pre><code class="bash">curl -H "Accept-Encoding: br" -I https://yourwebsite.com</code></pre>
              <p>æ£€æŸ¥å“åº”å¤´ä¸­çš„<code>Content-Encoding: br</code></p>
            </div>
          </div>
        </section>

        <!-- æµè§ˆå™¨æ”¯æŒéƒ¨åˆ† -->
        <section id="support" class="section-card">
          <h2>æµè§ˆå™¨æ”¯æŒæƒ…å†µ</h2>
          <p>Brotliåœ¨ç°ä»£æµè§ˆå™¨ä¸­æœ‰å¹¿æ³›æ”¯æŒï¼š</p>

          <div class="browser-support">
            <div class="browser" v-for="(browser, index) in browsers" :key="index">
              <div class="browser-icon">{{ browser.icon }}</div>
              <div class="browser-name">{{ browser.name }}</div>
              <div class="browser-version">{{ browser.version }}</div>
              <div class="support-status" :class="browser.supportClass">
                {{ browser.supportText }}
              </div>
            </div>
          </div>

          <div class="support-tip">
            <h3>å…¼å®¹æ€§å»ºè®®ï¼š</h3>
            <p>ç”±äºBrotliåœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­ä¸å—æ”¯æŒï¼Œæœ€ä½³å®è·µæ˜¯åŒæ—¶å¯ç”¨Brotliå’ŒGzipå‹ç¼©ã€‚æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ ¹æ®å®¢æˆ·ç«¯çš„<code>Accept-Encoding</code>è¯·æ±‚å¤´æä¾›æœ€åˆé€‚çš„å‹ç¼©æ ¼å¼ã€‚</p>
          </div>
        </section>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

// å½“å‰æ¿€æ´»çš„éƒ¨åˆ†
const activeSection = ref('introduction');
const activeServer = ref('nginx');

// å¯¼èˆªéƒ¨åˆ†
const sections = ref([
  { id: 'introduction', title: 'Brotliä»‹ç»', icon: 'â„¹ï¸' },
  { id: 'how-it-works', title: 'å·¥ä½œåŸç†', icon: 'âš™ï¸' },
  { id: 'configuration', title: 'æœåŠ¡å™¨é…ç½®', icon: 'ğŸ› ï¸' },
  { id: 'performance', title: 'æ€§èƒ½å½±å“', icon: 'ğŸ“Š' },
  { id: 'verification', title: 'éªŒè¯æ–¹æ³•', icon: 'âœ…' },
  { id: 'support', title: 'æµè§ˆå™¨æ”¯æŒ', icon: 'ğŸŒ' }
]);

// æœåŠ¡å™¨é…ç½®é€‰é¡¹
const servers = ref([
  { id: 'nginx', name: 'Nginx' },
  { id: 'apache', name: 'Apache' },
  { id: 'nodejs', name: 'Node.js' },
  { id: 'cloudflare', name: 'Cloudflare' }
]);

// æ–‡ä»¶ç±»å‹å‹ç¼©ç‡æ¯”è¾ƒ
const fileTypes = ref([
  { type: 'HTML', gzip: 75, brotli: 85 },
  { type: 'CSS', gzip: 70, brotli: 82 },
  { type: 'JavaScript', gzip: 65, brotli: 78 },
  { type: 'JSON', gzip: 72, brotli: 86 },
  { type: 'SVG', gzip: 80, brotli: 92 }
]);

// æµè§ˆå™¨æ”¯æŒæƒ…å†µ
const browsers = ref([
  { icon: 'ğŸŒ', name: 'Chrome', version: '49+', supportText: 'æ”¯æŒ', supportClass: 'supported' },
  { icon: 'ğŸ¦Š', name: 'Firefox', version: '44+', supportText: 'æ”¯æŒ', supportClass: 'supported' },
  { icon: 'ğŸ”·', name: 'Safari', version: '11+', supportText: 'æ”¯æŒ', supportClass: 'supported' },
  { icon: 'ğŸ”¶', name: 'Edge', version: '15+', supportText: 'æ”¯æŒ', supportClass: 'supported' },
  { icon: 'ğŸ§©', name: 'Opera', version: '36+', supportText: 'æ”¯æŒ', supportClass: 'supported' },
  { icon: 'ğŸ…¸', name: 'Internet Explorer', version: 'æ‰€æœ‰', supportText: 'ä¸æ”¯æŒ', supportClass: 'not-supported' },
  { icon: 'ğŸ¤–', name: 'Android Browser', version: '5.0+', supportText: 'éƒ¨åˆ†æ”¯æŒ', supportClass: 'partial' }
]);

// æ»šåŠ¨åˆ°æŒ‡å®šéƒ¨åˆ†
const scrollToSection = (id: string) => {
  const element = document.getElementById(id);
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' });
    activeSection.value = id;
  }
};

// ç›‘å¬æ»šåŠ¨äº‹ä»¶
onMounted(() => {
  const handleScroll = () => {
    const sections = document.querySelectorAll('section');
    const scrollPosition = window.scrollY + 100;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;

      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        activeSection.value = section.id;
      }
    });
  };

  window.addEventListener('scroll', handleScroll);
  // åˆå§‹è§¦å‘ä¸€æ¬¡
  handleScroll();
});
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #4285f4;
  --primary-light: #8ab4f8;
  --secondary: #34a853;
  --accent: #ea4335;
  --warning: #f9ab00;
  --dark: #202124;
  --light: #f8f9fa;
  --gray: #dadce0;
  --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --border-radius: 12px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.brotli-compression-container {
  font-family: 'Inter', sans-serif;
  color: var(--dark);
  background: linear-gradient(135deg, #f5f9ff 0%, #e8f0fe 100%);
  min-height: 100vh;
  line-height: 1.6;
}

.header {
  background: linear-gradient(135deg, #1a73e8, #4285f4);
  color: white;
  padding: 4rem 2rem 6rem;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 90% 10%, rgba(255, 255, 255, 0.15) 0%, transparent 30%);
  }
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  text-align: center;
  position: relative;
  z-index: 1;

  h1 {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  p {
    font-size: 1.4rem;
    opacity: 0.92;
    max-width: 700px;
    margin: 0 auto 3rem;
    font-weight: 300;
  }
}

.compression-visual {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 3rem;
  margin-top: 2rem;
  background: rgba(255, 255, 255, 0.18);
  border-radius: 20px;
  padding: 2.5rem;
  backdrop-filter: blur(12px);
  max-width: 900px;
  margin: 3rem auto 0;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.original,
.compressed {
  text-align: center;
  padding: 2rem;
  border-radius: 16px;
  min-width: 200px;
  transition: transform 0.3s ease;

  .file-icon {
    font-size: 4rem;
    margin-bottom: 1.2rem;
    transition: transform 0.3s ease;
  }

  .file-size {
    font-size: 2.2rem;
    font-weight: 800;
    margin-bottom: 0.8rem;
    transition: all 0.5s ease;
  }

  .file-label {
    font-size: 1.2rem;
    opacity: 0.92;
    font-weight: 500;
  }
}

.original {
  background: rgba(255, 255, 255, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.3);

  &:hover {
    transform: translateY(-5px);

    .file-icon {
      transform: scale(1.1);
    }
  }
}

.compressed {
  background: rgba(52, 168, 83, 0.3);
  border: 1px solid rgba(52, 168, 83, 0.4);

  &:hover {
    transform: translateY(-5px);

    .file-icon {
      transform: scale(1.1);
    }

    .file-size {
      color: #d1ffd6;
    }
  }
}

.compression-process {
  text-align: center;

  .arrow {
    font-size: 3rem;
    margin: 0.5rem 0;
    color: var(--primary-light);
    animation: pulse 2s infinite;
  }

  .brotli-icon {
    font-size: 3.5rem;
    margin: 1rem 0;
    animation: float 3s ease-in-out infinite;
  }

  .process-label {
    font-weight: 600;
    font-size: 1.3rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
}

@keyframes pulse {
  0% {
    opacity: 0.7;
  }

  50% {
    opacity: 1;
  }

  100% {
    opacity: 0.7;
  }
}

@keyframes float {
  0% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }

  100% {
    transform: translateY(0px);
  }
}

.content-wrapper {
  display: flex;
  max-width: 1400px;
  margin: -4rem auto 4rem;
  padding: 0 2rem;
  gap: 2.5rem;
}

.sidebar {
  width: 300px;
  flex-shrink: 0;
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 2rem 1.2rem;
  position: sticky;
  top: 2rem;
  height: fit-content;
}

.sidebar ul {
  list-style: none;

  li {
    display: flex;
    align-items: center;
    padding: 1rem 1.5rem;
    border-radius: 10px;
    margin-bottom: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;

    &:hover {
      background: rgba(66, 133, 244, 0.08);
      color: var(--primary);
    }

    &.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 6px 18px rgba(66, 133, 244, 0.3);
    }

    .section-icon {
      margin-right: 1.2rem;
      font-size: 1.3rem;
      width: 32px;
      text-align: center;
    }
  }
}

.main-content {
  flex-grow: 1;
}

.section-card {
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 3rem;
  margin-bottom: 2.5rem;

  h2 {
    font-size: 2rem;
    color: var(--primary);
    margin-bottom: 2rem;
    position: relative;
    padding-bottom: 1rem;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 70px;
      height: 5px;
      background: var(--secondary);
      border-radius: 3px;
    }
  }

  p {
    margin-bottom: 1.8rem;
    color: #5f6368;
    font-size: 1.1rem;
    line-height: 1.8;
  }
}

.key-features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.8rem;
  margin: 3rem 0;
}

.feature-card {
  background: linear-gradient(135deg, #f0f7ff 0%, #e3eeff 100%);
  border-radius: var(--border-radius);
  padding: 2rem;
  text-align: center;
  transition: transform 0.3s ease;
  border: 1px solid rgba(66, 133, 244, 0.15);

  &:hover {
    transform: translateY(-7px);
    box-shadow: 0 12px 30px rgba(66, 133, 244, 0.15);
  }

  .feature-icon {
    font-size: 3rem;
    margin-bottom: 1.5rem;
  }

  h3 {
    font-size: 1.4rem;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }

  p {
    font-size: 1rem;
    color: #666;
    margin-bottom: 0;
  }
}

.adoption-stats {
  margin-top: 3rem;

  h3 {
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
    color: var(--dark);
    text-align: center;
  }
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.stat {
  background: #f8f9ff;
  border-radius: 12px;
  padding: 1.8rem;
  text-align: center;
  border: 1px solid #e8f0ff;

  .stat-value {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--primary);
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 1.1rem;
    color: #666;
  }
}

.workflow {
  display: flex;
  justify-content: space-between;
  margin: 3rem 0;
  flex-wrap: wrap;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 2rem;
  }
}

.workflow-step {
  flex: 1;
  min-width: 260px;
  text-align: center;
  padding: 2rem;
  background: #f8f9ff;
  border-radius: 16px;
  position: relative;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e8f0ff;

  .step-number {
    width: 50px;
    height: 50px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    margin: 0 auto 1.5rem;
    font-size: 1.5rem;
    box-shadow: 0 4px 8px rgba(66, 133, 244, 0.3);
  }

  h3 {
    font-size: 1.4rem;
    margin-bottom: 1rem;
    color: var(--dark);
  }

  p {
    font-size: 1rem;
    color: #666;
    margin-bottom: 0;
  }
}

.workflow-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 2rem;
  font-size: 2.5rem;
  color: var(--primary);
  opacity: 0.7;

  @media (max-width: 768px) {
    transform: rotate(90deg);
    padding: 1.5rem 0;
    opacity: 0.5;
  }
}

.compression-comparison {
  margin-top: 4rem;

  h3 {
    text-align: center;
    font-size: 1.5rem;
    margin-bottom: 2.5rem;
    color: var(--dark);
  }
}

.comparison-chart {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--gray);
}

.file-type {
  margin-bottom: 2rem;

  &:last-child {
    margin-bottom: 0;
  }

  .type-name {
    font-weight: 600;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }
}

.bars {
  height: 40px;
  position: relative;
  margin-bottom: 1rem;
}

.bar {
  position: absolute;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 1rem;
  font-weight: 600;
  color: white;
  transition: width 1.5s ease;
}

.gzip {
  background: var(--primary);
  z-index: 1;
  border-radius: 6px 0 0 6px;
}

.brotli {
  background: var(--secondary);
  z-index: 2;
  border-radius: 6px;
}

.server-tabs {
  background: #f8fafc;
  border-radius: var(--border-radius);
  overflow: hidden;
  margin-top: 2rem;
  border: 1px solid #e2e8f0;
}

.tabs-header {
  display: flex;
  border-bottom: 1px solid #e2e8f0;
  background: #f1f5f9;
  overflow-x: auto;

  button {
    padding: 1.2rem 2rem;
    background: none;
    border: none;
    font-size: 1.1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #64748b;
    white-space: nowrap;

    &:hover {
      background: rgba(66, 133, 244, 0.08);
      color: var(--primary);
    }

    &.active {
      background: white;
      color: var(--primary);
      position: relative;

      &::after {
        content: '';
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 4px;
        background: var(--primary);
      }
    }
  }
}

.tabs-content {
  padding: 2.5rem;
}

.server-config {
  pre {
    background: #2d3748;
    color: #e2e8f0;
    padding: 1.8rem;
    border-radius: 10px;
    overflow-x: auto;
    font-family: 'Fira Code', monospace;
    font-size: 1rem;
    line-height: 1.6;
    margin: 1.8rem 0;

    code {
      display: block;
    }
  }
}

.config-explanation {
  background: #f0f7ff;
  border-radius: 12px;
  padding: 1.8rem;
  margin-top: 1.8rem;
  border-left: 4px solid var(--primary);

  h4 {
    font-size: 1.3rem;
    margin-bottom: 1.2rem;
    color: var(--dark);
  }

  ul {
    list-style: none;

    li {
      padding: 0.6rem 0;
      position: relative;
      padding-left: 2rem;

      &::before {
        content: 'â€¢';
        color: var(--primary);
        position: absolute;
        left: 0;
        top: 0.6rem;
        font-size: 1.5rem;
      }

      code {
        background: rgba(66, 133, 244, 0.1);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-family: 'Fira Code', monospace;
        color: var(--primary);
      }
    }
  }
}

.cloudflare-steps {
  .step {
    display: flex;
    gap: 2rem;
    margin-bottom: 1.8rem;
    padding-bottom: 1.8rem;
    border-bottom: 1px dashed #e2e8f0;

    &:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .step-number {
      width: 50px;
      height: 50px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      flex-shrink: 0;
      font-size: 1.5rem;
      box-shadow: 0 4px 8px rgba(66, 133, 244, 0.3);
    }

    h4 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: var(--dark);
    }

    p {
      font-size: 1rem;
      color: #666;
      margin-bottom: 0;
    }
  }
}

.cloudflare-tip {
  background: #e8f5e9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-top: 2rem;
  border-left: 4px solid var(--secondary);

  h4 {
    font-size: 1.3rem;
    margin-bottom: 0.8rem;
    display: flex;
    align-items: center;
    gap: 0.8rem;
  }

  p {
    margin-bottom: 0;
  }
}

.performance-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin: 3rem 0;
}

.stat-card {
  background: linear-gradient(135deg, #f0f7ff 0%, #e3eeff 100%);
  border-radius: 16px;
  padding: 2.5rem;
  text-align: center;
  border: 1px solid rgba(66, 133, 244, 0.15);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-7px);
    box-shadow: 0 12px 30px rgba(66, 133, 244, 0.15);
  }

  .stat-icon {
    font-size: 3.5rem;
    margin-bottom: 1.5rem;
  }

  .stat-value {
    font-size: 2.2rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    color: var(--primary);
  }

  .stat-label {
    font-size: 1.2rem;
    color: #666;
  }
}

.compression-levels {
  margin-top: 4rem;

  h3 {
    text-align: center;
    font-size: 1.5rem;
    margin-bottom: 2rem;
    color: var(--dark);
  }
}

.levels-table {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--gray);
  margin-bottom: 2rem;
}

.table-header,
.table-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
  gap: 1px;

  &>div {
    padding: 1.2rem;
    text-align: center;
  }
}

.table-header {
  background: var(--primary);
  color: white;
  font-weight: 600;
  font-size: 1.1rem;
}

.table-row {
  background: #f8f9ff;
  border-bottom: 1px solid var(--gray);

  &:nth-child(odd) {
    background: #f0f7ff;
  }

  &:last-child {
    border-bottom: none;
  }
}

.performance-tips {
  background: #e8f5e9;
  border-radius: 12px;
  padding: 2rem;
  margin-top: 2rem;
  border-left: 4px solid var(--secondary);

  h3 {
    font-size: 1.4rem;
    margin-bottom: 1.2rem;
    color: var(--dark);
  }

  ul {
    list-style: none;

    li {
      padding: 0.6rem 0;
      position: relative;
      padding-left: 2rem;
      font-size: 1.1rem;

      &::before {
        content: 'âœ“';
        color: var(--secondary);
        position: absolute;
        left: 0;
        top: 0.6rem;
        font-weight: 700;
        font-size: 1.2rem;
      }
    }
  }
}

.verification-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2.5rem;
  margin-top: 2rem;
}

.method {
  background: #f8f9ff;
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid #e8f0ff;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(66, 133, 244, 0.1);
  }

  h3 {
    font-size: 1.4rem;
    margin-bottom: 1.2rem;
    color: var(--dark);
  }

  p {
    margin-bottom: 1.2rem;
    font-size: 1.1rem;
  }
}

.headers-example {
  background: #2d3748;
  color: white;
  padding: 1.5rem;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  font-size: 1rem;
  margin: 1.5rem 0;

  .header-value {
    color: var(--secondary);
    font-weight: 600;
  }
}

pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1.5rem;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 1rem;
  margin: 1.5rem 0;

  code {
    display: block;
  }
}

.browser-support {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.5rem;
  margin-top: 2rem;
}

.browser {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  border: 1px solid var(--gray);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
  }

  .browser-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .browser-name {
    font-weight: 600;
    margin-bottom: 0.3rem;
    color: var(--dark);
  }

  .browser-version {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 0.5rem;
  }
}

.support-status {
  padding: 0.5rem;
  border-radius: 20px;
  font-weight: 600;

  &.supported {
    background: #e8f5e9;
    color: var(--secondary);
  }

  &.not-supported {
    background: #ffebee;
    color: var(--accent);
  }

  &.partial {
    background: #fff8e1;
    color: var(--warning);
  }
}

.support-tip {
  background: #f0f7ff;
  border-radius: 12px;
  padding: 1.8rem;
  margin-top: 3rem;
  border-left: 4px solid var(--primary);

  h3 {
    font-size: 1.3rem;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }

  p {
    margin-bottom: 0;
    font-size: 1.1rem;
  }
}

@media (max-width: 992px) {
  .content-wrapper {
    flex-direction: column;
  }

  .sidebar {
    width: 100%;
    position: static;
  }
}

@media (max-width: 768px) {
  .header {
    padding: 3rem 1rem 5rem;
  }

  .header-content h1 {
    font-size: 2.8rem;
  }

  .compression-visual {
    flex-direction: column;
    gap: 1.5rem;

    .arrow {
      transform: rotate(90deg);
      margin: 0.5rem 0;
    }
  }

  .section-card {
    padding: 2rem;
  }

  .workflow-arrow {
    transform: rotate(90deg);
    padding: 1.5rem 0;
  }

  .levels-table {
    overflow-x: auto;

    .table-header,
    .table-row {
      min-width: 700px;
    }
  }
}
</style>