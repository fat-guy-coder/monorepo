<template>
  <div class="composite-container">
    <header class="header">
      <h1>ç»„åˆæ¨¡å¼ (Composite Pattern)</h1>
      <p>æ„å»ºæ ‘å½¢ç»“æ„çš„å¯¹è±¡å±‚æ¬¡ä½“ç³»</p>
      <div class="pattern-visual">
        <div class="node root">
          <div class="node-icon">ğŸŒ³</div>
          <div class="node-label">æ ¹ç»„ä»¶</div>
        </div>
        <div class="branch">
          <div class="node">
            <div class="node-icon">ğŸŒ¿</div>
            <div class="node-label">å¶å­ç»„ä»¶</div>
          </div>
          <div class="node composite">
            <div class="node-icon">ğŸŒ²</div>
            <div class="node-label">å¤åˆç»„ä»¶</div>
            <div class="children">
              <div class="node">
                <div class="node-icon">ğŸƒ</div>
                <div class="node-label">å¶å­ç»„ä»¶</div>
              </div>
              <div class="node">
                <div class="node-icon">ğŸƒ</div>
                <div class="node-label">å¶å­ç»„ä»¶</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="content-wrapper">
      <nav class="sidebar">
        <ul>
          <li v-for="(section, index) in sections" :key="index" :class="{ active: activeSection === section.id }"
            @click="scrollToSection(section.id)">
            <div class="section-icon">{{ section.icon }}</div>
            <span>{{ section.title }}</span>
          </li>
        </ul>
      </nav>

      <main class="main-content">
        <!-- æ¦‚å¿µéƒ¨åˆ† -->
        <section id="concept" class="section-card">
          <h2>ç»„åˆæ¨¡å¼æ¦‚å¿µ</h2>
          <div class="concept-grid">
            <div class="concept-card">
              <div class="concept-icon">ğŸ¯</div>
              <h3>æ ¸å¿ƒæ€æƒ³</h3>
              <p>å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤º"éƒ¨åˆ†-æ•´ä½“"çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§</p>
            </div>

            <div class="concept-card">
              <div class="concept-icon">ğŸ§©</div>
              <h3>å…³é”®ç»„ä»¶</h3>
              <ul>
                <li><strong>ç»„ä»¶æ¥å£</strong>ï¼šå®šä¹‰æ‰€æœ‰å¯¹è±¡çš„é€šç”¨è¡Œä¸º</li>
                <li><strong>å¶å­èŠ‚ç‚¹</strong>ï¼šæ²¡æœ‰å­ç»„ä»¶çš„ç®€å•å¯¹è±¡</li>
                <li><strong>å¤åˆèŠ‚ç‚¹</strong>ï¼šåŒ…å«å­ç»„ä»¶çš„å®¹å™¨å¯¹è±¡</li>
              </ul>
            </div>

            <div class="concept-card">
              <div class="concept-icon">ğŸ”„</div>
              <h3>å·¥ä½œæ–¹å¼</h3>
              <p>å®¢æˆ·ç«¯é€šè¿‡ç»Ÿä¸€çš„ç»„ä»¶æ¥å£ä¸æ ‘ä¸­çš„æ‰€æœ‰å¯¹è±¡äº¤äº’ï¼Œæ— éœ€åŒºåˆ†å¤„ç†å¶å­èŠ‚ç‚¹å’Œå¤åˆèŠ‚ç‚¹</p>
            </div>
          </div>

          <div class="pattern-principle">
            <h3>è®¾è®¡åŸåˆ™</h3>
            <p>ç»„åˆæ¨¡å¼éµå¾ª<strong>å¼€æ”¾-å°é—­åŸåˆ™</strong>å’Œ<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼š</p>
            <div class="principle-list">
              <div class="principle">
                <div class="number">1</div>
                <p>é€šè¿‡ç»Ÿä¸€æ¥å£æ“ä½œç®€å•å’Œå¤æ‚å…ƒç´ </p>
              </div>
              <div class="principle">
                <div class="number">2</div>
                <p>æ–°å¢ç»„ä»¶ç±»å‹ä¸å½±å“ç°æœ‰ä»£ç </p>
              </div>
              <div class="principle">
                <div class="number">3</div>
                <p>ç®€åŒ–å®¢æˆ·ç«¯ä»£ç ï¼Œå‡å°‘æ¡ä»¶åˆ¤æ–­</p>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»“æ„éƒ¨åˆ† -->
        <section id="structure" class="section-card">
          <h2>æ¨¡å¼ç»“æ„</h2>
          <div class="structure-visual">
            <div class="uml-class">
              <div class="class-header">Component</div>
              <div class="class-body">
                <div>+ operation()</div>
                <div>+ add(Component)</div>
                <div>+ remove(Component)</div>
                <div>+ getChild(int)</div>
              </div>
            </div>

            <div class="inheritance-arrow">â†‘</div>

            <div class="class-group">
              <div class="uml-class leaf">
                <div class="class-header">Leaf</div>
                <div class="class-body">
                  <div>+ operation()</div>
                </div>
              </div>

              <div class="uml-class composite">
                <div class="class-header">Composite</div>
                <div class="class-body">
                  <div>- children: Component[]</div>
                  <div>+ operation()</div>
                  <div>+ add(Component)</div>
                  <div>+ remove(Component)</div>
                  <div>+ getChild(int)</div>
                </div>
              </div>
            </div>
          </div>

          <div class="structure-explanation">
            <div class="explanation-item">
              <h3>Component (ç»„ä»¶æ¥å£)</h3>
              <p>å®šä¹‰æ‰€æœ‰ç»„ä»¶çš„é€šç”¨æ¥å£ï¼Œå£°æ˜æ“ä½œåŠå…¶å­ç»„ä»¶çš„æ–¹æ³•</p>
            </div>
            <div class="explanation-item">
              <h3>Leaf (å¶å­èŠ‚ç‚¹)</h3>
              <p>å®ç°ç»„ä»¶æ¥å£ï¼Œè¡¨ç¤ºæ ‘ä¸­çš„å¶å­èŠ‚ç‚¹ï¼ˆæ²¡æœ‰å­ç»„ä»¶ï¼‰</p>
            </div>
            <div class="explanation-item">
              <h3>Composite (å¤åˆç»„ä»¶)</h3>
              <p>å®ç°ç»„ä»¶æ¥å£ï¼ŒåŒ…å«å­ç»„ä»¶é›†åˆï¼Œå°†æ“ä½œå§”æ‰˜ç»™å­ç»„ä»¶</p>
            </div>
          </div>
        </section>

        <!-- ç¤ºä¾‹éƒ¨åˆ† -->
        <section id="example" class="section-card">
          <h2>ç¤ºä¾‹ä»£ç </h2>
          <p>æ–‡ä»¶ç³»ç»Ÿæ¨¡æ‹Ÿï¼šä½¿ç”¨ç»„åˆæ¨¡å¼å®ç°æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„ç»Ÿä¸€æ“ä½œ</p>

          <div class="code-tabs">
            <div class="tabs-header">
              <button v-for="(tab, index) in tabs" :key="index" :class="{ active: activeTab === tab.id }"
                @click="activeTab = tab.id">
                {{ tab.title }}
              </button>
            </div>

            <div class="tabs-content">
              <!-- Component æ¥å£ -->
              <div v-if="activeTab === 'component'" class="code-block">
                <pre><code class="typescript">// ç»„ä»¶æ¥å£ï¼šå®šä¹‰æ–‡ä»¶ç³»ç»Ÿé¡¹çš„ç»Ÿä¸€æ“ä½œ
interface FileSystemComponent {
  // è·å–åç§°
  getName(): string;

  // è·å–å¤§å°ï¼ˆæ–‡ä»¶è¿”å›å®é™…å¤§å°ï¼Œæ–‡ä»¶å¤¹è¿”å›æ‰€æœ‰å­é¡¹å¤§å°ä¹‹å’Œï¼‰
  getSize(): number;

  // æ˜¾ç¤ºé¡¹ç›®ä¿¡æ¯ï¼ˆé€’å½’æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼‰
  display(indentation?: string): void;

  // æ·»åŠ å­é¡¹ï¼ˆä»…æ–‡ä»¶å¤¹æœ‰æ•ˆï¼‰
  add(component: FileSystemComponent): void;

  // ç§»é™¤å­é¡¹ï¼ˆä»…æ–‡ä»¶å¤¹æœ‰æ•ˆï¼‰
  remove(component: FileSystemComponent): void;
}</code></pre>
              </div>

              <!-- Leaf å®ç° -->
              <div v-if="activeTab === 'leaf'" class="code-block">
                <pre><code class="typescript">// æ–‡ä»¶ç±»ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰
class File implements FileSystemComponent {
  constructor(private name: string, private size: number) {}

  getName(): string {
    return this.name;
  }

  getSize(): number {
    return this.size;
  }

  display(indentation: string = ''): void {
    console.log(`${indentation}ğŸ“„ ${this.name} (${this.size} bytes)`);
  }

  // å¶å­èŠ‚ç‚¹ä¸æ”¯æŒæ·»åŠ /ç§»é™¤æ“ä½œ
  add(component: FileSystemComponent): void {
    throw new Error('Cannot add to a file');
  }

  remove(component: FileSystemComponent): void {
    throw new Error('Cannot remove from a file');
  }
}</code></pre>
              </div>

              <!-- Composite å®ç° -->
              <div v-if="activeTab === 'composite'" class="code-block">
                <pre><code class="typescript">// æ–‡ä»¶å¤¹ç±»ï¼ˆå¤åˆç»„ä»¶ï¼‰
class Folder implements FileSystemComponent {
  private children: FileSystemComponent[] = [];

  constructor(private name: string) {}

  getName(): string {
    return this.name;
  }

  getSize(): number {
    // è®¡ç®—æ‰€æœ‰å­é¡¹å¤§å°ä¹‹å’Œ
    return this.children.reduce(
      (total, child) => total + child.getSize(), 0
    );
  }

  display(indentation: string = ''): void {
    console.log(`${indentation}ğŸ“ ${this.name}/`);

    // é€’å½’æ˜¾ç¤ºæ‰€æœ‰å­é¡¹
    this.children.forEach(child => {
      child.display(indentation + '  ');
    });
  }

  add(component: FileSystemComponent): void {
    this.children.push(component);
  }

  remove(component: FileSystemComponent): void {
    const index = this.children.indexOf(component);
    if (index !== -1) {
      this.children.splice(index, 1);
    }
  }
}</code></pre>
              </div>

              <!-- ä½¿ç”¨ç¤ºä¾‹ -->
              <div v-if="activeTab === 'usage'" class="code-block">
                <pre><code class="typescript">// ä½¿ç”¨ç»„åˆæ¨¡å¼åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿç»“æ„
const root = new Folder('Root');

const documents = new Folder('Documents');
documents.add(new File('report.pdf', 1500));
documents.add(new File('budget.xlsx', 800));

const images = new Folder('Images');
images.add(new File('photo1.jpg', 3200));
images.add(new File('photo2.jpg', 2800));

const project = new Folder('Project');
project.add(new File('main.ts', 1200));
project.add(new File('config.json', 600));

// æ„å»ºæ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„
root.add(documents);
root.add(images);
root.add(project);

// æ·»åŠ åµŒå¥—æ–‡ä»¶å¤¹
const secret = new Folder('Secret');
secret.add(new File('passwords.txt', 400));
project.add(secret);

// ç»Ÿä¸€æ“ä½œæ•´ä¸ªç»“æ„
console.log(`Total size: ${root.getSize()} bytes`);
root.display();

// è¾“å‡º:
// ğŸ“ Root/
//   ğŸ“ Documents/
//     ğŸ“„ report.pdf (1500 bytes)
//     ğŸ“„ budget.xlsx (800 bytes)
//   ğŸ“ Images/
//     ğŸ“„ photo1.jpg (3200 bytes)
//     ğŸ“„ photo2.jpg (2800 bytes)
//   ğŸ“ Project/
//     ğŸ“„ main.ts (1200 bytes)
//     ğŸ“„ config.json (600 bytes)
//     ğŸ“ Secret/
//       ğŸ“„ passwords.txt (400 bytes)</code></pre>
              </div>
            </div>
          </div>
        </section>

        <!-- åœºæ™¯éƒ¨åˆ† -->
        <section id="scenarios" class="section-card">
          <h2>ä½¿ç”¨åœºæ™¯</h2>
          <div class="scenarios-grid">
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ“‚</div>
              <h3>æ–‡ä»¶ç³»ç»Ÿ</h3>
              <p>è¡¨ç¤ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„å±‚æ¬¡ç»“æ„ï¼Œç»Ÿä¸€å¤„ç†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ“ä½œ</p>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸŒ</div>
              <h3>UIç»„ä»¶åº“</h3>
              <p>æ„å»ºå¤æ‚UIç•Œé¢ï¼Œå®¹å™¨ç»„ä»¶å¯ä»¥åŒ…å«å¶å­ç»„ä»¶æˆ–å…¶ä»–å®¹å™¨ç»„ä»¶</p>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸ®</div>
              <h3>æ¸¸æˆå¼€å‘</h3>
              <p>ç®¡ç†æ¸¸æˆå¯¹è±¡å±‚æ¬¡ç»“æ„ï¼Œå¦‚åœºæ™¯å›¾ã€å®ä½“ç»„ä»¶ç³»ç»Ÿç­‰</p>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸ“Š</div>
              <h3>ç»„ç»‡ç»“æ„</h3>
              <p>è¡¨ç¤ºå…¬å¸éƒ¨é—¨ä¸å‘˜å·¥çš„å±‚æ¬¡å…³ç³»ï¼Œç»Ÿä¸€è®¡ç®—éƒ¨é—¨æˆæœ¬ç­‰</p>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸ›’</div>
              <h3>ç”µå­å•†åŠ¡</h3>
              <p>å®ç°å•†å“åˆ†ç±»ç³»ç»Ÿï¼Œå¤„ç†åµŒå¥—ç±»åˆ«çš„ç»Ÿä¸€æ“ä½œ</p>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸ¤–</div>
              <h3>AIè¡Œä¸ºæ ‘</h3>
              <p>æ„å»ºå¤æ‚AIè¡Œä¸ºï¼Œç»„åˆèŠ‚ç‚¹æ§åˆ¶è¡Œä¸ºæ‰§è¡Œæµç¨‹</p>
            </div>
          </div>
        </section>

        <!-- ä¼˜ç¼ºç‚¹éƒ¨åˆ† -->
        <section id="pros-cons" class="section-card">
          <h2>ä¼˜ç¼ºç‚¹åˆ†æ</h2>
          <div class="pros-cons-grid">
            <div class="pros">
              <h3>âœ… ä¼˜ç‚¹</h3>
              <ul>
                <li>
                  <strong>ç»Ÿä¸€å¤„ç†ç®€å•å’Œå¤æ‚å…ƒç´ </strong>
                  <p>å®¢æˆ·ç«¯ä»£ç å¯ä»¥ä¸€è‡´åœ°å¤„ç†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡</p>
                </li>
                <li>
                  <strong>å¼€é—­åŸåˆ™</strong>
                  <p>æ–°å¢ç»„ä»¶ç±»å‹æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œæ‰©å±•æ€§å¥½</p>
                </li>
                <li>
                  <strong>ç®€åŒ–å®¢æˆ·ç«¯ä»£ç </strong>
                  <p>å‡å°‘æ¡ä»¶åˆ¤æ–­ï¼Œå®¢æˆ·ç«¯æ— éœ€å…³å¿ƒå¯¹è±¡ç±»å‹</p>
                </li>
                <li>
                  <strong>æ˜“äºæ·»åŠ æ–°ç»„ä»¶</strong>
                  <p>æ–°çš„å¶å­èŠ‚ç‚¹å’Œå¤åˆèŠ‚ç‚¹å¯ä»¥è½»æ¾é›†æˆåˆ°ç°æœ‰ç»“æ„ä¸­</p>
                </li>
              </ul>
            </div>

            <div class="cons">
              <h3>âŒ ç¼ºç‚¹</h3>
              <ul>
                <li>
                  <strong>è¿‡åº¦ä¸€èˆ¬åŒ–</strong>
                  <p>ç»„ä»¶æ¥å£éœ€è¦æ”¯æŒæ‰€æœ‰æ“ä½œï¼Œå¯èƒ½å¯¼è‡´å¶å­èŠ‚ç‚¹å®ç°ä¸å¿…è¦çš„æ–¹æ³•</p>
                </li>
                <li>
                  <strong>ç±»å‹æ£€æŸ¥å›°éš¾</strong>
                  <p>åœ¨éœ€è¦ç‰¹å®šç±»å‹æ“ä½œæ—¶ï¼Œå¯èƒ½éœ€è¦è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥</p>
                </li>
                <li>
                  <strong>è®¾è®¡å¤æ‚æ€§</strong>
                  <p>é€’å½’ç»“æ„å¯èƒ½å¯¼è‡´è®¾è®¡å¤æ‚ï¼Œç‰¹åˆ«æ˜¯å¤„ç†å¾ªç¯å¼•ç”¨æ—¶</p>
                </li>
                <li>
                  <strong>æ€§èƒ½è€ƒè™‘</strong>
                  <p>éå†å¤§å‹æ ‘ç»“æ„å¯èƒ½å½±å“æ€§èƒ½ï¼Œéœ€è¦åˆç†è®¾è®¡ç¼“å­˜æœºåˆ¶</p>
                </li>
              </ul>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

// å½“å‰æ¿€æ´»çš„éƒ¨åˆ†
const activeSection = ref('concept');
const activeTab = ref('component');

// å¯¼èˆªéƒ¨åˆ†
const sections = ref([
  { id: 'concept', title: 'æ¨¡å¼æ¦‚å¿µ', icon: 'ğŸ§ ' },
  { id: 'structure', title: 'æ¨¡å¼ç»“æ„', icon: 'ğŸ—ï¸' },
  { id: 'example', title: 'ä»£ç ç¤ºä¾‹', icon: 'ğŸ’»' },
  { id: 'scenarios', title: 'ä½¿ç”¨åœºæ™¯', icon: 'ğŸ“' },
  { id: 'pros-cons', title: 'ä¼˜ç¼ºç‚¹', icon: 'âš–ï¸' }
]);

// æ ‡ç­¾é¡µ
const tabs = ref([
  { id: 'component', title: 'Componentæ¥å£' },
  { id: 'leaf', title: 'Leafå®ç°' },
  { id: 'composite', title: 'Compositeå®ç°' },
  { id: 'usage', title: 'ä½¿ç”¨ç¤ºä¾‹' }
]);

// æ»šåŠ¨åˆ°æŒ‡å®šéƒ¨åˆ†
const scrollToSection = (id: string) => {
  const element = document.getElementById(id);
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' });
    activeSection.value = id;
  }
};

// ç›‘å¬æ»šåŠ¨äº‹ä»¶
onMounted(() => {
  const handleScroll = () => {
    const sections = document.querySelectorAll('section');
    const scrollPosition = window.scrollY + 100;

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;

      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        activeSection.value = section.id;
      }
    });
  };

  window.addEventListener('scroll', handleScroll);
  // åˆå§‹è§¦å‘ä¸€æ¬¡
  handleScroll();
});
</script>

<style lang="less" scoped>


:root {
  --primary: #4361ee;
  --primary-light: #4895ef;
  --secondary: #3f37c9;
  --accent: #4cc9f0;
  --success: #2ecc71;
  --warning: #f39c12;
  --dark: #2b2d42;
  --light: #f8f9fa;
  --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  --border-radius: 16px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.composite-container {
  font-family: 'Inter', sans-serif;
  color: var(--dark);
  background: linear-gradient(135deg, #f5f7fa 0%, #e4e7f4 100%);
  min-height: 100vh;
  line-height: 1.6;
}

.header {
  background: linear-gradient(135deg, #1a2980, #26d0ce);
  color: white;
  padding: 3rem 2rem 4rem;
  position: relative;
  overflow: hidden;
  text-align: center;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.1) 0%, transparent 30%);
  }

  h1 {
    font-size: 2.8rem;
    font-weight: 700;
    margin-bottom: 0.8rem;
  }

  p {
    font-size: 1.2rem;
    opacity: 0.9;
    max-width: 600px;
    margin: 0 auto 2rem;
  }
}

.pattern-visual {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 2rem;
  position: relative;
}

.node {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 1.2rem;
  text-align: center;
  min-width: 180px;
  position: relative;
  z-index: 1;
  margin: 0.5rem;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    background: rgba(255, 255, 255, 0.25);
  }

  .node-icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }

  .node-label {
    font-weight: 500;
    font-size: 0.95rem;
  }
}

.root {
  background: rgba(255, 255, 255, 0.25);
  padding: 1.5rem;
  margin-bottom: 2rem;

  .node-icon {
    font-size: 3rem;
  }
}

.composite {
  background: rgba(52, 152, 219, 0.3);
}

.branch {
  display: flex;
  justify-content: center;
}

.children {
  display: flex;
  justify-content: center;
  margin-top: 1rem;
  padding-top: 1rem;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 1rem;
    background: rgba(255, 255, 255, 0.5);
  }
}

.content-wrapper {
  display: flex;
  max-width: 1400px;
  margin: -3rem auto 3rem;
  padding: 0 2rem;
  gap: 2rem;
}

.sidebar {
  width: 280px;
  flex-shrink: 0;
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 1.8rem 1rem;
  position: sticky;
  top: 2rem;
  height: fit-content;
}

.sidebar ul {
  list-style: none;

  li {
    display: flex;
    align-items: center;
    padding: 0.9rem 1.2rem;
    border-radius: 10px;
    margin-bottom: 0.6rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;

    &:hover {
      background: rgba(67, 97, 238, 0.08);
      color: var(--primary);
    }

    &.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    }

    .section-icon {
      margin-right: 1rem;
      font-size: 1.2rem;
      width: 30px;
      text-align: center;
    }
  }
}

.main-content {
  flex-grow: 1;
}

.section-card {
  background: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  padding: 2.5rem;
  margin-bottom: 2rem;

  h2 {
    font-size: 1.8rem;
    color: var(--secondary);
    margin-bottom: 1.5rem;
    position: relative;
    padding-bottom: 0.8rem;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 4px;
      background: var(--primary);
      border-radius: 2px;
    }
  }

  p {
    margin-bottom: 1.5rem;
    color: #555;
    font-size: 1.05rem;
  }
}

.concept-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.concept-card {
  background: #f8f9ff;
  border-radius: 12px;
  padding: 1.8rem;
  border: 1px solid #eef0ff;

  .concept-icon {
    font-size: 2.5rem;
    margin-bottom: 1.2rem;
    color: var(--primary);
  }

  h3 {
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: var(--dark);
  }

  ul {
    list-style: none;

    li {
      padding: 0.5rem 0;
      position: relative;
      padding-left: 1.5rem;

      &::before {
        content: 'â€¢';
        position: absolute;
        left: 0;
        top: 0.5rem;
        color: var(--primary);
      }
    }
  }
}

.pattern-principle {
  margin-top: 2.5rem;
  padding-top: 1.5rem;
  border-top: 1px dashed #eee;

  h3 {
    font-size: 1.4rem;
    margin-bottom: 1.2rem;
    color: var(--dark);
  }
}

.principle-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.principle {
  display: flex;
  align-items: flex-start;
  gap: 1rem;

  .number {
    width: 36px;
    height: 36px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    flex-shrink: 0;
    font-size: 1.1rem;
  }

  p {
    margin-bottom: 0;
  }
}

.structure-visual {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 2rem 0;
}

.uml-class {
  background: white;
  border: 2px solid #4361ee;
  border-radius: 8px;
  overflow: hidden;
  min-width: 280px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

  .class-header {
    background: #4361ee;
    color: white;
    padding: 0.8rem 1.2rem;
    font-weight: 600;
    text-align: center;
  }

  .class-body {
    padding: 1.2rem;

    div {
      padding: 0.5rem 0;
      font-family: 'Fira Code', monospace;
      font-size: 0.95rem;
    }
  }
}

.leaf {
  border-color: #2ecc71;

  .class-header {
    background: #2ecc71;
  }
}

.composite {
  border-color: #f39c12;

  .class-header {
    background: #f39c12;
  }
}

.inheritance-arrow {
  font-size: 2rem;
  margin: 1rem 0;
  color: var(--primary);
}

.class-group {
  display: flex;
  gap: 2rem;
  margin-top: 1rem;

  @media (max-width: 768px) {
    flex-direction: column;
  }
}

.structure-explanation {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 2.5rem;
}

.explanation-item {
  background: #f8f9ff;
  border-radius: 12px;
  padding: 1.5rem;
  border-left: 4px solid var(--primary);

  h3 {
    font-size: 1.2rem;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }
}

.code-tabs {
  background: #f8fafc;
  border-radius: var(--border-radius);
  overflow: hidden;
  margin-top: 1.5rem;
  border: 1px solid #e2e8f0;
}

.tabs-header {
  display: flex;
  border-bottom: 1px solid #e2e8f0;
  background: #f1f5f9;
  overflow-x: auto;

  button {
    padding: 1rem 1.5rem;
    background: none;
    border: none;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #64748b;
    white-space: nowrap;

    &:hover {
      background: rgba(67, 97, 238, 0.05);
      color: var(--primary);
    }

    &.active {
      background: white;
      color: var(--primary);
      position: relative;

      &::after {
        content: '';
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 3px;
        background: var(--primary);
      }
    }
  }
}

.tabs-content {
  padding: 2rem;
}

.code-block {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1.5rem;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  line-height: 1.5;

  pre {
    margin: 0;
  }

  code {
    display: block;
  }
}

.scenarios-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.scenario-card {
  background: white;
  border-radius: 12px;
  padding: 1.8rem;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s ease;
  border: 1px solid #edf2f7;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(67, 97, 238, 0.1);
  }

  .scenario-icon {
    font-size: 2.5rem;
    margin-bottom: 1.2rem;
  }

  h3 {
    font-size: 1.25rem;
    margin-bottom: 0.8rem;
    color: var(--dark);
  }

  p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 0;
  }
}

.pros-cons-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-top: 1.5rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.pros,
.cons {
  padding: 1.5rem;
  border-radius: 12px;

  h3 {
    font-size: 1.4rem;
    margin-bottom: 1.2rem;
    position: relative;
    padding-bottom: 0.5rem;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      border-radius: 2px;
    }
  }
}

.pros {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  border: 1px solid #bbf7d0;

  h3::after {
    background: #22c55e;
  }
}

.cons {
  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  border: 1px solid #fecaca;

  h3::after {
    background: #ef4444;
  }
}

ul {
  list-style: none;

  li {
    padding: 1rem 0;
    border-bottom: 1px dashed #e2e8f0;

    &:last-child {
      border-bottom: none;
    }

    strong {
      display: block;
      margin-bottom: 0.5rem;
    }

    p {
      margin-bottom: 0;
      font-size: 0.95rem;
      color: #555;
    }
  }
}

@media (max-width: 992px) {
  .content-wrapper {
    flex-direction: column;
  }

  .sidebar {
    width: 100%;
    position: static;
  }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2.2rem;
  }

  .branch {
    flex-direction: column;
    align-items: center;
  }

  .class-group {
    flex-direction: column;
  }
}
</style>
