<template>
  <div class="decorator-pattern">
    <header class="pattern-header">
      <div class="header-content">
        <h1>ğŸ¨ è£…é¥°è€…æ¨¡å¼ (Decorator Pattern)</h1>
        <p>åŠ¨æ€æ‰©å±•å¯¹è±¡åŠŸèƒ½çš„çµæ´»è®¾è®¡æ¨¡å¼</p>
      </div>
      <div class="decoration-example">
        <div class="base-component">æ ¸å¿ƒåŠŸèƒ½</div>
        <div class="decorator" v-for="(deco, index) in decorations" :key="index" :style="{ left: `${(index + 1) * 40}px` }">
          +{{ deco }}
        </div>
      </div>
    </header>

    <div class="content-container">
      <!-- æ¦‚å¿µéƒ¨åˆ† -->
      <section class="concept-section">
        <div class="section-header">
          <div class="section-icon">ğŸ“š</div>
          <h2>æ¨¡å¼æ¦‚å¿µ</h2>
        </div>
        <div class="concept-content">
          <p>
            <strong>è£…é¥°è€…æ¨¡å¼</strong>æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå…è®¸ä½ é€šè¿‡å°†å¯¹è±¡æ”¾å…¥åŒ…å«è¡Œä¸ºçš„ç‰¹æ®Šå°è£…å¯¹è±¡ä¸­æ¥ä¸ºåŸå¯¹è±¡ç»‘å®šæ–°çš„è¡Œä¸ºã€‚
            è¿™ç§æ¨¡å¼æä¾›äº†ä¸€ç§æ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨<strong>è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ åŠŸèƒ½</strong>ã€‚
          </p>

          <div class="analogy">
            <h3>ç°å®ä¸–ç•Œç±»æ¯”</h3>
            <div class="analogy-content">
              <div class="analogy-item">
                <div class="analogy-icon">ğŸ‘•</div>
                <div>
                  <h4>åŸºç¡€æœè£…</h4>
                  <p>ä¸€ä»¶ç®€å•çš„Tæ¤</p>
                </div>
              </div>
              <div class="analogy-arrow">â†’</div>
              <div class="analogy-item">
                <div class="analogy-icon">ğŸ§¥</div>
                <div>
                  <h4>æ·»åŠ å¤–å¥—</h4>
                  <p>å¢åŠ ä¿æš–åŠŸèƒ½</p>
                </div>
              </div>
              <div class="analogy-arrow">â†’</div>
              <div class="analogy-item">
                <div class="analogy-icon">ğŸ§£</div>
                <div>
                  <h4>æ·»åŠ å›´å·¾</h4>
                  <p>å¢åŠ è£…é¥°å’Œä¿æš–</p>
                </div>
              </div>
              <div class="analogy-arrow">â†’</div>
              <div class="analogy-item">
                <div class="analogy-icon">ğŸ§¤</div>
                <div>
                  <h4>æ·»åŠ æ‰‹å¥—</h4>
                  <p>å¢åŠ æ‰‹éƒ¨ä¿æŠ¤</p>
                </div>
              </div>
            </div>
            <p class="analogy-description">
              æ¯æ·»åŠ ä¸€ä»¶è¡£ç‰©ï¼Œéƒ½æ˜¯åœ¨åŸæœ‰åŸºç¡€ä¸Šçš„è£…é¥°ï¼Œè€Œä¸æ˜¯æ”¹å˜åŸæ¥çš„Tæ¤æœ¬èº«ã€‚
            </p>
          </div>
        </div>
      </section>

      <!-- è®¾è®¡æ€è·¯ -->
      <section class="design-section">
        <div class="section-header">
          <div class="section-icon">ğŸ§ </div>
          <h2>è®¾è®¡æ€è·¯</h2>
        </div>

        <div class="design-grid">
          <div class="design-card">
            <div class="design-icon">ğŸ”Œ</div>
            <h3>æ¥å£ç»Ÿä¸€</h3>
            <p>è£…é¥°å™¨å’ŒåŸå§‹å¯¹è±¡å®ç°ç›¸åŒæ¥å£</p>
          </div>
          <div class="design-card">
            <div class="design-icon">ğŸ“¦</div>
            <h3>å°è£…å¯¹è±¡</h3>
            <p>è£…é¥°å™¨å°è£…åŸå§‹å¯¹è±¡</p>
          </div>
          <div class="design-card">
            <div class="design-icon">ğŸ”„</div>
            <h3>å§”æ‰˜è°ƒç”¨</h3>
            <p>è£…é¥°å™¨å°†è¯·æ±‚å§”æ‰˜ç»™å°è£…å¯¹è±¡</p>
          </div>
          <div class="design-card">
            <div class="design-icon">â•</div>
            <h3>åŠŸèƒ½å åŠ </h3>
            <p>åœ¨å§”æ‰˜å‰åæ·»åŠ æ–°åŠŸèƒ½</p>
          </div>
        </div>

        <div class="uml-diagram">
          <h3>UML ç±»å›¾</h3>
          <div class="uml-content">
            <div class="uml-class">
              <div class="class-header">Component</div>
              <div class="class-method">+operation()</div>
            </div>
            <div class="uml-arrow">â†‘ç»§æ‰¿</div>
            <div class="uml-group">
              <div class="uml-class">
                <div class="class-header">ConcreteComponent</div>
                <div class="class-method">+operation()</div>
              </div>
              <div class="uml-class">
                <div class="class-header">Decorator</div>
                <div class="class-field">-component: Component</div>
                <div class="class-method">+operation()</div>
              </div>
            </div>
            <div class="uml-arrow">â†‘ç»§æ‰¿</div>
            <div class="uml-group">
              <div class="uml-class">
                <div class="class-header">ConcreteDecoratorA</div>
                <div class="class-method">+operation()</div>
                <div class="class-method">+addedBehavior()</div>
              </div>
              <div class="uml-class">
                <div class="class-header">ConcreteDecoratorB</div>
                <div class="class-method">+operation()</div>
                <div class="class-method">+addedState</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="scenarios-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’¼</div>
          <h2>ä½¿ç”¨åœºæ™¯</h2>
        </div>

        <div class="scenarios-container">
          <div class="scenario-tabs">
            <button v-for="(scenario, index) in scenarioCategories" :key="index"
              :class="['scenario-tab', { active: activeScenario === index }]" @click="activeScenario = index">
              {{ scenario.category }}
            </button>
          </div>

          <div class="scenario-content">
            <div v-for="(scenario, index) in scenarioCategories[activeScenario].scenarios" :key="index"
              class="scenario-item">
              <div class="scenario-icon">{{ scenario.icon }}</div>
              <div>
                <h3>{{ scenario.title }}</h3>
                <p>{{ scenario.description }}</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ä»£ç ç¤ºä¾‹ -->
      <section class="code-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’»</div>
          <h2>ä»£ç ç¤ºä¾‹</h2>
        </div>

        <div class="code-example">
          <div class="code-tabs">
            <button :class="['code-tab', { active: activeCodeTab === 'ts' }]" @click="activeCodeTab = 'ts'">
              TypeScript
            </button>
            <button :class="['code-tab', { active: activeCodeTab === 'js' }]" @click="activeCodeTab = 'js'">
              JavaScript
            </button>
          </div>

          <div class="code-content">
            <pre v-if="activeCodeTab === 'ts'"><code class="typescript">// ç»„ä»¶æ¥å£
interface Coffee {
  cost(): number;
  description(): string;
}

// å…·ä½“ç»„ä»¶
class SimpleCoffee implements Coffee {
  cost(): number { return 5; }
  description(): string { return "ç®€å•å’–å•¡"; }
}

// è£…é¥°å™¨åŸºç±»
abstract class CoffeeDecorator implements Coffee {
  constructor(protected coffee: Coffee) {}

  cost(): number { return this.coffee.cost(); }
  description(): string { return this.coffee.description(); }
}

// å…·ä½“è£…é¥°å™¨ - ç‰›å¥¶
class MilkDecorator extends CoffeeDecorator {
  cost(): number { return super.cost() + 2; }
  description(): string { return super.description() + ", åŠ ç‰›å¥¶"; }
}

// å…·ä½“è£…é¥°å™¨ - ç³–
class SugarDecorator extends CoffeeDecorator {
  cost(): number { return super.cost() + 1; }
  description(): string { return super.description() + ", åŠ ç³–"; }
}

// å…·ä½“è£…é¥°å™¨ - é¦™è‰
class VanillaDecorator extends CoffeeDecorator {
  cost(): number { return super.cost() + 3; }
  description(): string { return super.description() + ", åŠ é¦™è‰"; }
}

// å®¢æˆ·ç«¯ä»£ç 
let coffee: Coffee = new SimpleCoffee();
coffee = new MilkDecorator(coffee);
coffee = new SugarDecorator(coffee);

console.log(coffee.description()); // "ç®€å•å’–å•¡, åŠ ç‰›å¥¶, åŠ ç³–"
console.log(`æ€»ä»·: $${coffee.cost()}`); // æ€»ä»·: $8</code></pre>

            <pre v-if="activeCodeTab === 'js'"><code class="javascript">// ç»„ä»¶æ¥å£
class Coffee {
  cost() {}
  description() {}
}

// å…·ä½“ç»„ä»¶
class SimpleCoffee extends Coffee {
  cost() { return 5; }
  description() { return "ç®€å•å’–å•¡"; }
}

// è£…é¥°å™¨åŸºç±»
class CoffeeDecorator extends Coffee {
  constructor(coffee) {
    super();
    this.coffee = coffee;
  }

  cost() { return this.coffee.cost(); }
  description() { return this.coffee.description(); }
}

// å…·ä½“è£…é¥°å™¨ - ç‰›å¥¶
class MilkDecorator extends CoffeeDecorator {
  cost() { return super.cost() + 2; }
  description() { return super.description() + ", åŠ ç‰›å¥¶"; }
}

// å…·ä½“è£…é¥°å™¨ - ç³–
class SugarDecorator extends CoffeeDecorator {
  cost() { return super.cost() + 1; }
  description() { return super.description() + ", åŠ ç³–"; }
}

// å®¢æˆ·ç«¯ä½¿ç”¨
let coffee = new SimpleCoffee();
coffee = new MilkDecorator(coffee);
coffee = new SugarDecorator(coffee);

console.log(coffee.description()); // "ç®€å•å’–å•¡, åŠ ç‰›å¥¶, åŠ ç³–"
console.log(`æ€»ä»·: $${coffee.cost()}`); // æ€»ä»·: $8</code></pre>
          </div>
        </div>
      </section>

      <!-- ä¼˜ç¼ºç‚¹ -->
      <section class="pros-cons-section">
        <div class="section-header">
          <div class="section-icon">âš–ï¸</div>
          <h2>ä¼˜ç¼ºç‚¹åˆ†æ</h2>
        </div>

        <div class="comparison">
          <div class="pros">
            <h3>âœ… ä¼˜ç‚¹</h3>
            <ul>
              <li v-for="(pro, index) in pros" :key="index">
                <div class="icon">âœ”ï¸</div>
                <div>{{ pro }}</div>
              </li>
            </ul>
          </div>

          <div class="cons">
            <h3>âŒ ç¼ºç‚¹</h3>
            <ul>
              <li v-for="(con, index) in cons" :key="index">
                <div class="icon">âš ï¸</div>
                <div>{{ con }}</div>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- æ€»ç»“ -->
      <section class="summary-section">
        <div class="section-header">
          <div class="section-icon">ğŸ</div>
          <h2>æ¨¡å¼æ€»ç»“</h2>
        </div>

        <div class="summary-content">
          <p>
            è£…é¥°è€…æ¨¡å¼æä¾›äº†ä¸€ç§çµæ´»ä¸”å¯æ‰©å±•çš„æ–¹å¼æ¥åŠ¨æ€æ·»åŠ å¯¹è±¡åŠŸèƒ½ï¼Œé¿å…äº†ä½¿ç”¨å­ç±»æ‰©å±•å¸¦æ¥çš„é™æ€ç»§æ‰¿å…³ç³»é—®é¢˜ã€‚
            å®ƒéµå¾ªäº†<strong>å¼€é—­åŸåˆ™</strong>ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰ï¼Œæ˜¯å¤„ç†å¯¹è±¡åŠŸèƒ½æ‰©å±•çš„å¼ºå¤§å·¥å…·ã€‚
          </p>

          <div class="usage-tips">
            <h3>ä½¿ç”¨å»ºè®®ï¼š</h3>
            <div class="tips-grid">
              <div class="tip-card">
                <div class="tip-icon">ğŸ”„</div>
                <p>å½“éœ€è¦åŠ¨æ€ã€é€æ˜åœ°æ·»åŠ èŒè´£æ—¶</p>
              </div>
              <div class="tip-card">
                <div class="tip-icon">ğŸš«</div>
                <p>å½“ä¸é€‚åˆä½¿ç”¨å­ç±»è¿›è¡Œæ‰©å±•æ—¶</p>
              </div>
              <div class="tip-card">
                <div class="tip-icon">ğŸ§©</div>
                <p>å½“éœ€è¦ç»„åˆå¤šä¸ªå¯é€‰åŠŸèƒ½æ—¶</p>
              </div>
              <div class="tip-card">
                <div class="tip-icon">ğŸ“¦</div>
                <p>å½“ç³»ç»Ÿéœ€è¦åŠŸèƒ½æ‹†åˆ†ä¸ºå°éƒ¨ä»¶æ—¶</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <footer class="pattern-footer">
        <div class="footer-content">
          <h3>æ‰©å±•å­¦ä¹ èµ„æº</h3>
          <div class="resources">
            <a href="https://refactoring.guru/design-patterns/decorator" target="_blank">Refactoring.Guru - è£…é¥°è€…æ¨¡å¼</a>
            <a href="https://en.wikipedia.org/wiki/Decorator_pattern" target="_blank">è£…é¥°è€…æ¨¡å¼ - ç»´åŸºç™¾ç§‘</a>
            <a href="https://sourcemaking.com/design_patterns/decorator" target="_blank">SourceMaking - è£…é¥°è€…æ¨¡å¼</a>
          </div>
        </div>
        <div class="footer-note">
          <p>è®¾è®¡æ¨¡å¼æ˜¯æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•è½¯ä»¶ç³»ç»Ÿçš„åŸºçŸ³ï¼ŒæŒæ¡è£…é¥°è€…æ¨¡å¼å°†æå¤§æå‡ä½ çš„æ¶æ„è®¾è®¡èƒ½åŠ›ï¼</p>
        </div>
      </footer>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const decorations = ref(['æ—¥å¿—', 'ç¼“å­˜', 'éªŒè¯', 'ç›‘æ§']);
const activeScenario = ref(0);
const activeCodeTab = ref('ts');

const scenarioCategories = [
  {
    category: 'å‰ç«¯å¼€å‘',
    scenarios: [
      { icon: 'ğŸ–¥ï¸', title: 'UIç»„ä»¶å¢å¼º', description: 'ä¸ºåŸºæœ¬ç»„ä»¶åŠ¨æ€æ·»åŠ è¾¹æ¡†ã€é˜´å½±ã€åŠ¨ç”»ç­‰è£…é¥°æ•ˆæœ' },
      { icon: 'ğŸ”„', title: 'é«˜é˜¶ç»„ä»¶(HOC)', description: 'åœ¨Reactä¸­å¢å¼ºç»„ä»¶åŠŸèƒ½è€Œä¸ä¿®æ”¹åŸç»„ä»¶' },
      { icon: 'ğŸ“Š', title: 'æ•°æ®æ ¼å¼åŒ–', description: 'ä¸ºæ ¸å¿ƒæ•°æ®æ·»åŠ æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ç­‰è£…é¥°å±‚' },
      { icon: 'ğŸ”', title: 'æƒé™æ§åˆ¶', description: 'ä¸ºåŠŸèƒ½ç»„ä»¶æ·»åŠ æƒé™éªŒè¯è£…é¥°å™¨' }
    ]
  },
  {
    category: 'åç«¯å¼€å‘',
    scenarios: [
      { icon: 'â±ï¸', title: 'æ€§èƒ½ç›‘æ§', description: 'ä¸ºæœåŠ¡æ–¹æ³•æ·»åŠ æ‰§è¡Œæ—¶é—´ç›‘æ§è£…é¥°å™¨' },
      { icon: 'ğŸ“', title: 'æ—¥å¿—è®°å½•', description: 'ä¸ºå…³é”®æ–¹æ³•æ·»åŠ æ—¥å¿—è®°å½•è£…é¥°å™¨' },
      { icon: 'ğŸ”’', title: 'å®‰å…¨éªŒè¯', description: 'ä¸ºAPIæ·»åŠ èº«ä»½éªŒè¯å’Œæƒé™æ£€æŸ¥è£…é¥°å™¨' },
      { icon: 'ğŸ’¾', title: 'ç¼“å­˜æœºåˆ¶', description: 'ä¸ºæ•°æ®è®¿é—®æ–¹æ³•æ·»åŠ ç¼“å­˜è£…é¥°å™¨' }
    ]
  },
  {
    category: 'æ¡†æ¶åº”ç”¨',
    scenarios: [
      { icon: 'ğŸ”„', title: 'ä¸­é—´ä»¶', description: 'Express/Koaä¸­çš„ä¸­é—´ä»¶æœºåˆ¶æ˜¯è£…é¥°è€…æ¨¡å¼çš„å…¸å‹åº”ç”¨' },
      { icon: 'ğŸ¯', title: 'AOPç¼–ç¨‹', description: 'å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œåˆ†ç¦»æ¨ªåˆ‡å…³æ³¨ç‚¹' },
      { icon: 'ğŸ§ª', title: 'æµ‹è¯•å¢å¼º', description: 'ä¸ºæµ‹è¯•ç”¨ä¾‹æ·»åŠ å‰ç½®/åç½®å¤„ç†è£…é¥°å™¨' },
      { icon: 'ğŸ“¦', title: 'ä¾èµ–æ³¨å…¥', description: 'åœ¨Angular/IoCå®¹å™¨ä¸­ä½¿ç”¨è£…é¥°å™¨æ³¨å…¥ä¾èµ–' }
    ]
  },
  {
    category: 'å…¶ä»–åœºæ™¯',
    scenarios: [
      { icon: 'ğŸ“', title: 'æ–‡ä»¶ç³»ç»Ÿ', description: 'ä¸ºæ–‡ä»¶æµæ·»åŠ å‹ç¼©ã€åŠ å¯†ç­‰è£…é¥°åŠŸèƒ½' },
      { icon: 'ğŸ“¡', title: 'ç½‘ç»œé€šä¿¡', description: 'ä¸ºç½‘ç»œè¯·æ±‚æ·»åŠ é‡è¯•ã€è¶…æ—¶å¤„ç†è£…é¥°å™¨' },
      { icon: 'ğŸ§®', title: 'æ•°å­¦è®¡ç®—', description: 'ä¸ºè®¡ç®—å‡½æ•°æ·»åŠ ç²¾åº¦æ§åˆ¶ã€æ—¥å¿—è®°å½•' },
      { icon: 'ğŸ®', title: 'æ¸¸æˆå¼€å‘', description: 'ä¸ºæ¸¸æˆè§’è‰²åŠ¨æ€æ·»åŠ è£…å¤‡ã€æŠ€èƒ½ç­‰è£…é¥°æ•ˆæœ' }
    ]
  }
];

const pros = [
  'æ¯”ç»§æ‰¿æ›´çµæ´»ï¼Œè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ åŠŸèƒ½',
  'ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç å³å¯æ‰©å±•',
  'å¯ä»¥ç»„åˆå¤šä¸ªè£…é¥°å™¨å®ç°å¤æ‚åŠŸèƒ½',
  'é¿å…åœ¨é«˜å±‚æ¨¡å—ä¸­ä½¿ç”¨å¤§é‡å­ç±»',
  'è£…é¥°ç±»å’Œè¢«è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å˜åŒ–'
];

const cons = [
  'ä¼šäº§ç”Ÿè®¸å¤šå°å¯¹è±¡ï¼Œå¢åŠ ç³»ç»Ÿå¤æ‚æ€§',
  'å¤šå±‚è£…é¥°æ—¶è°ƒè¯•å›°éš¾ï¼Œä¸æ˜“è¿½è¸ªé—®é¢˜',
  'è¿‡åº¦ä½¿ç”¨ä¼šä½¿é…ç½®å˜å¾—å¤æ‚',
  'è£…é¥°å™¨é¡ºåºå¯èƒ½å½±å“ç»“æœï¼Œéœ€è¦è°¨æ…è®¾è®¡',
  'ç±»å‹ç³»ç»Ÿå¯èƒ½éš¾ä»¥å¤„ç†å¤šå±‚è£…é¥°'
];
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

.decorator-pattern {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  color: #2d3748;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  min-height: 100vh;

  * {
    box-sizing: border-box;
  }
}

.pattern-header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem;
  background: linear-gradient(120deg, #3b82f6 0%, #2563eb 100%);
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
  color: white;
  position: relative;
  overflow: hidden;

  .header-content {
    position: relative;
    z-index: 2;

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }

    p {
      font-size: 1.2rem;
      color: #dbeafe;
      margin-top: 0;
    }
  }
}

.decoration-example {
  margin-top: 2rem;
  position: relative;
  height: 100px;
  display: flex;
  justify-content: center;
  align-items: center;

  .base-component {
    position: absolute;
    width: 150px;
    height: 70px;
    background: #1e40af;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.2rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 3;
  }

  .decorator {
    position: absolute;
    width: 80px;
    height: 80px;
    background: #f97316;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: float 3s ease-in-out infinite;

    &:nth-child(1) {
      animation-delay: 0s;
      background: #f97316;
      top: -10px;
    }

    &:nth-child(2) {
      animation-delay: 0.5s;
      background: #10b981;
      top: 30px;
    }

    &:nth-child(3) {
      animation-delay: 1s;
      background: #8b5cf6;
      top: -5px;
    }

    &:nth-child(4) {
      animation-delay: 1.5s;
      background: #ec4899;
      top: 25px;
    }
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.content-container {
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 35px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  margin-bottom: 3rem;
}

.section-header {
  display: flex;
  align-items: center;
  padding: 1.5rem 2rem;
  background: linear-gradient(120deg, #eff6ff 0%, #dbeafe 100%);
  border-bottom: 2px solid #d1d5db;

  h2 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 600;
    color: #1d4ed8;
  }

  .section-icon {
    font-size: 1.8rem;
    margin-right: 1.2rem;
    background: #3b82f6;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }
}

.concept-section {
  .concept-content {
    padding: 2rem;

    p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: #4b5563;
      margin-bottom: 1.5rem;
    }
  }
}

.analogy {
  background: #f0f9ff;
  border-radius: 12px;
  padding: 1.5rem;
  margin-top: 1.5rem;
  border: 1px solid #bae6fd;

  h3 {
    color: #0369a1;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  .analogy-content {
    display: flex;
    justify-content: space-around;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;

    .analogy-item {
      background: white;
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      min-width: 150px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

      .analogy-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }

      h4 {
        margin: 0;
        color: #1d4ed8;
      }

      p {
        margin: 0;
        font-size: 0.9rem;
        color: #64748b;
      }
    }

    .analogy-arrow {
      font-size: 1.5rem;
      color: #3b82f6;
      font-weight: bold;
      margin: 0 0.5rem;
    }
  }

  .analogy-description {
    text-align: center;
    font-style: italic;
    color: #475569;
    margin: 0;
  }
}

.design-section {
  .design-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem 2rem;
  }
}

.design-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
    border-color: #3b82f6;
  }

  .design-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #3b82f6;
  }

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 0.8rem;
  }

  p {
    color: #6b7280;
    margin: 0;
    line-height: 1.6;
  }
}

.uml-diagram {
  padding: 1.5rem 2rem;

  h3 {
    text-align: center;
    color: #1d4ed8;
    margin-bottom: 1.5rem;
  }

  .uml-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .uml-group {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .uml-class {
    background: #f0f9ff;
    border: 2px solid #3b82f6;
    border-radius: 8px;
    min-width: 200px;

    .class-header {
      background: #3b82f6;
      color: white;
      padding: 0.8rem;
      text-align: center;
      font-weight: 600;
      border-radius: 6px 6px 0 0;
    }

    .class-field,
    .class-method {
      padding: 0.6rem 1rem;
      border-bottom: 1px solid #dbeafe;

      &:last-child {
        border-bottom: none;
      }
    }

    .class-field {
      color: #1e40af;
    }

    .class-method {
      color: #0c4a6e;
    }
  }

  .uml-arrow {
    font-size: 1.5rem;
    color: #3b82f6;
    font-weight: bold;
  }
}

.scenarios-section {
  .scenarios-container {
    padding: 0 2rem 2rem;
  }
}

.scenario-tabs {
  display: flex;
  background: #f1f5f9;
  border-radius: 12px;
  overflow: hidden;
  margin-bottom: 1.5rem;
}

.scenario-tab {
  flex: 1;
  padding: 1rem;
  background: transparent;
  border: none;
  font-size: 1rem;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: #e0f2fe;
    color: #1d4ed8;
  }

  &.active {
    background: #3b82f6;
    color: white;
    font-weight: 600;
  }
}

.scenario-content {
  background: #f8fafc;
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid #e2e8f0;
}

.scenario-item {
  display: flex;
  padding: 1.2rem;
  background: white;
  border-radius: 10px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  align-items: center;

  &:last-child {
    margin-bottom: 0;
  }

  .scenario-icon {
    font-size: 1.8rem;
    margin-right: 1.5rem;
    width: 50px;
    height: 50px;
    background: #dbeafe;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #1d4ed8;
    flex-shrink: 0;
  }

  h3 {
    color: #1e40af;
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  p {
    color: #4b5563;
    margin: 0;
    line-height: 1.6;
  }
}

.code-section {
  .code-example {
    padding: 0 2rem 2rem;
  }
}

.code-tabs {
  display: flex;
  background: #f1f5f9;
  border-radius: 8px 8px 0 0;
  overflow: hidden;
}

.code-tab {
  padding: 0.8rem 1.5rem;
  background: transparent;
  border: none;
  font-size: 1rem;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;

  &:hover {
    background: #e0f2fe;
    color: #1d4ed8;
  }

  &.active {
    background: #1e40af;
    color: white;
    font-weight: 600;
  }
}

.code-content {
  background: #1e293b;
  border-radius: 0 0 8px 8px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 1.5rem;
    overflow-x: auto;
  }

  code {
    display: block;
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    color: #e2e8f0;
  }

  .typescript {
    .hljs-keyword {
      color: #f472b6;
    }

    .hljs-built_in {
      color: #60a5fa;
    }

    .hljs-class {
      color: #34d399;
    }

    .hljs-function {
      color: #fbbf24;
    }

    .hljs-string {
      color: #34d399;
    }

    .hljs-comment {
      color: #94a3b8;
    }

    .hljs-params {
      color: #c7d2fe;
    }
  }

  .javascript {
    .hljs-keyword {
      color: #f472b6;
    }

    .hljs-built_in {
      color: #60a5fa;
    }

    .hljs-class {
      color: #34d399;
    }

    .hljs-function {
      color: #fbbf24;
    }

    .hljs-string {
      color: #34d399;
    }

    .hljs-comment {
      color: #94a3b8;
    }
  }
}

.pros-cons-section {
  .comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    padding: 0 2rem 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }
}

.pros,
.cons {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);

  h3 {
    margin-top: 0;
    margin-bottom: 1.2rem;
    padding-bottom: 0.8rem;
    border-bottom: 2px solid #dbeafe;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  li {
    display: flex;
    padding: 0.8rem 0;
    border-bottom: 1px solid #f1f5f9;

    &:last-child {
      border-bottom: none;
    }

    .icon {
      margin-right: 0.8rem;
      font-size: 1.2rem;
      width: 24px;
      flex-shrink: 0;
    }
  }
}

.pros {
  border-left: 4px solid #10b981;

  h3 {
    color: #10b981;
  }
}

.cons {
  border-left: 4px solid #ef4444;

  h3 {
    color: #ef4444;
  }
}

.summary-section {
  .summary-content {
    padding: 1.5rem 2rem 2rem;

    p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: #4b5563;
      margin-bottom: 1.5rem;
    }
  }
}

.usage-tips {
  background: #f0fdf4;
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid #bbf7d0;

  h3 {
    color: #047857;
    margin-top: 0;
    margin-bottom: 1rem;
  }
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.tip-card {
  background: white;
  border-radius: 10px;
  padding: 1.2rem;
  text-align: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

  .tip-icon {
    font-size: 2rem;
    margin-bottom: 0.8rem;
    color: #10b981;
  }

  p {
    margin: 0;
    color: #4b5563;
    line-height: 1.5;
  }
}

.pattern-footer {
  background: linear-gradient(120deg, #1e293b 0%, #0f172a 100%);
  color: white;
  padding: 3rem 2rem;
  border-radius: 0 0 16px 16px;

  .footer-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;

    h3 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: #e0f2fe;
    }
  }

  .resources {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 2rem;

    a {
      color: #93c5fd;
      text-decoration: none;
      padding: 0.8rem;
      border-radius: 8px;
      transition: all 0.3s ease;

      &:hover {
        background: #3b82f6;
        color: white;
      }
    }
  }

  .footer-note {
    text-align: center;
    padding-top: 1.5rem;
    border-top: 1px solid #334155;
    max-width: 800px;
    margin: 0 auto;

    p {
      font-size: 1.1rem;
      color: #93c5fd;
      font-weight: 500;
    }
  }
}

@media (max-width: 768px) {
  .decorator-pattern {
    padding: 1rem;
  }

  .pattern-header {
    padding: 1.5rem;

    h1 {
      font-size: 1.8rem;
    }

    p {
      font-size: 1rem;
    }
  }

  .decoration-example {
    height: 150px;

    .decorator {
      width: 60px;
      height: 60px;
      font-size: 0.8rem;
    }
  }

  .section-header {
    padding: 1rem;

    h2 {
      font-size: 1.5rem;
    }
  }

  .analogy-content {
    flex-direction: column;

    .analogy-arrow {
      transform: rotate(90deg);
      margin: 0.5rem 0;
    }
  }
}
</style>