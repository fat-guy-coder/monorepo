<template>
  <div class="memory-guide">
    <h1>è®¡ç®—æœºå†…å­˜ç³»ç»ŸåŸºæœ¬ä»‹ç»</h1>

    <!-- å†…å­˜æ¦‚è§ˆ -->
    <div class="overview">
      <div class="overview-card">
        <div class="overview-icon">ğŸ’¾</div>
        <div>
          <h2>å†…å­˜æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
          <p>è®¡ç®—æœºä¸­ç”¨äºå­˜å‚¨ç¨‹åºæŒ‡ä»¤å’Œæ•°æ®çš„ç”µå­éƒ¨ä»¶</p>
        </div>
      </div>
      <div class="overview-card">
        <div class="overview-icon">âš¡</div>
        <div>
          <h2>å…³é”®ç‰¹æ€§</h2>
          <p>æ˜“å¤±æ€§å­˜å‚¨ã€é«˜é€Ÿè®¿é—®ã€ä¸´æ—¶å­˜å‚¨è¿è¡Œä¸­çš„ç¨‹åºå’Œæ•°æ®</p>
        </div>
      </div>
      <div class="overview-card">
        <div class="overview-icon">ğŸ“Š</div>
        <div>
          <h2>æ€§èƒ½æŒ‡æ ‡</h2>
          <p>å®¹é‡ã€é€Ÿåº¦ã€å»¶è¿Ÿã€å¸¦å®½ã€åŠŸè€—</p>
        </div>
      </div>
    </div>

    <!-- å†…å­˜ç±»å‹ -->
    <div class="section">
      <h2>å†…å­˜ç±»å‹</h2>
      <div class="memory-types">
        <div class="type-card" v-for="(type, index) in memoryTypes" :key="index">
          <div class="type-icon">{{ type.icon }}</div>
          <h3>{{ type.name }}</h3>
          <div class="type-characteristics">
            <span v-for="(char, i) in type.characteristics" :key="i">{{ char }}</span>
          </div>
          <p>{{ type.description }}</p>
          <div class="type-speed">é€Ÿåº¦: {{ type.speed }}</div>
          <div class="type-usage">ç”¨é€”: {{ type.usage }}</div>
        </div>
      </div>
    </div>

    <!-- å†…å­˜å±‚æ¬¡ç»“æ„ -->
    <div class="section">
      <h2>å†…å­˜å±‚æ¬¡ç»“æ„</h2>
      <div class="hierarchy">
        <div class="level" v-for="(level, index) in memoryHierarchy" :key="index">
          <div class="level-name">{{ level.name }}</div>
          <div class="level-speed">{{ level.speed }}</div>
          <div class="level-capacity">{{ level.capacity }}</div>
          <div class="level-cost">{{ level.cost }}</div>
          <div class="level-location">{{ level.location }}</div>
        </div>
      </div>
      <div class="hierarchy-chart">
        <div class="chart-bar" v-for="(item, index) in hierarchyChart" :key="index"
          :style="{ height: item.height, backgroundColor: item.color }">
          <div class="chart-label">{{ item.name }}</div>
          <div class="chart-value">{{ item.value }}</div>
        </div>
      </div>
    </div>

    <!-- å†…å­˜å·¥ä½œåŸç† -->
    <div class="section">
      <h2>å†…å­˜å·¥ä½œåŸç†</h2>
      <div class="workflow">
        <div class="workflow-step" v-for="(step, index) in memoryWorkflow" :key="index">
          <div class="step-number">{{ index + 1 }}</div>
          <div class="step-content">
            <h3>{{ step.title }}</h3>
            <p>{{ step.description }}</p>
            <div class="step-duration">æ—¶é—´: {{ step.time }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- å†…å­˜æ€§èƒ½æŒ‡æ ‡ -->
    <div class="section">
      <h2>å†…å­˜æ€§èƒ½æŒ‡æ ‡</h2>
      <div class="metrics">
        <div class="metric-card" v-for="(metric, index) in performanceMetrics" :key="index">
          <h3>{{ metric.name }}</h3>
          <div class="metric-value">{{ metric.value }}</div>
          <p>{{ metric.description }}</p>
          <div class="metric-impact">{{ metric.impact }}</div>
        </div>
      </div>
    </div>

    <!-- å†…å­˜æŠ€æœ¯å‘å±• -->
    <div class="section">
      <h2>å†…å­˜æŠ€æœ¯å‘å±•</h2>
      <div class="timeline">
        <div class="timeline-event" v-for="(event, index) in technologyTimeline" :key="index">
          <div class="event-year">{{ event.year }}</div>
          <div class="event-content">
            <h3>{{ event.technology }}</h3>
            <p>{{ event.description }}</p>
            <div class="event-impact">å½±å“: {{ event.impact }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// å†…å­˜ç±»å‹
const memoryTypes = ref([
  {
    name: "DRAM (åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨)",
    icon: "ğŸ”",
    characteristics: ["æ˜“å¤±æ€§", "éœ€è¦åˆ·æ–°", "é«˜å¯†åº¦", "ä½æˆæœ¬"],
    description: "ä¸»å†…å­˜ä½¿ç”¨ï¼Œç”±ç”µå®¹å­˜å‚¨æ•°æ®ï¼Œéœ€è¦å®šæœŸåˆ·æ–°",
    speed: "50-100 ns",
    usage: "ä¸»å†…å­˜(RAM)"
  },
  {
    name: "SRAM (é™æ€éšæœºå­˜å–å­˜å‚¨å™¨)",
    icon: "âš¡",
    characteristics: ["æ˜“å¤±æ€§", "æ— éœ€åˆ·æ–°", "é«˜é€Ÿ", "ä½å¯†åº¦"],
    description: "ç”±è§¦å‘å™¨å­˜å‚¨æ•°æ®ï¼Œé€Ÿåº¦å¿«ä½†æˆæœ¬é«˜ã€å¯†åº¦ä½",
    speed: "0.5-10 ns",
    usage: "CPUç¼“å­˜(L1/L2/L3)"
  },
  {
    name: "ROM (åªè¯»å­˜å‚¨å™¨)",
    icon: "ğŸ“–",
    characteristics: ["éæ˜“å¤±æ€§", "åªè¯»", "å›ºä»¶å­˜å‚¨"],
    description: "å­˜å‚¨ä¸å¯æ›´æ”¹çš„ç¨‹åºï¼Œå¦‚BIOS/UEFIå›ºä»¶",
    speed: "50-150 ns",
    usage: "å›ºä»¶å­˜å‚¨"
  },
  {
    name: "Flash Memory (é—ªå­˜)",
    icon: "ğŸ’¾",
    characteristics: ["éæ˜“å¤±æ€§", "å¯æ“¦å†™", "å—æ“¦é™¤"],
    description: "ä½¿ç”¨æµ®æ …æ™¶ä½“ç®¡å­˜å‚¨ç”µè·ï¼Œæ— éœ€ç”µæºä¿æŒæ•°æ®",
    speed: "25-200 Î¼s (å†™å…¥)",
    usage: "SSDã€USBé©±åŠ¨å™¨"
  }
]);

// å†…å­˜å±‚æ¬¡ç»“æ„
const memoryHierarchy = ref([
  {
    name: "å¯„å­˜å™¨",
    speed: "<1 ns",
    capacity: "0.1-1 KB",
    cost: "$5000/GB",
    location: "CPUå†…éƒ¨"
  },
  {
    name: "L1ç¼“å­˜",
    speed: "0.5-2 ns",
    capacity: "32-512 KB",
    cost: "$1000/GB",
    location: "CPUå†…éƒ¨"
  },
  {
    name: "L2ç¼“å­˜",
    speed: "3-10 ns",
    capacity: "256KB-8MB",
    cost: "$400/GB",
    location: "CPUå†…éƒ¨/å¤–éƒ¨"
  },
  {
    name: "L3ç¼“å­˜",
    speed: "10-20 ns",
    capacity: "8-64MB",
    cost: "$100/GB",
    location: "CPUå¤–éƒ¨"
  },
  {
    name: "ä¸»å­˜(DRAM)",
    speed: "50-100 ns",
    capacity: "4-128 GB",
    cost: "$10/GB",
    location: "ä¸»æ¿ä¸Š"
  },
  {
    name: "å›ºæ€å­˜å‚¨(SSD)",
    speed: "25-200 Î¼s",
    capacity: "256GB-4TB",
    cost: "$0.1/GB",
    location: "å­˜å‚¨è®¾å¤‡"
  },
  {
    name: "æœºæ¢°ç¡¬ç›˜(HDD)",
    speed: "5-20 ms",
    capacity: "1-20TB",
    cost: "$0.03/GB",
    location: "å­˜å‚¨è®¾å¤‡"
  }
]);

// å†…å­˜å·¥ä½œåŸç†
const memoryWorkflow = ref([
  {
    title: "åœ°å€è§£ç ",
    description: "CPUå‘é€å†…å­˜åœ°å€ï¼Œå†…å­˜æ§åˆ¶å™¨è§£ç ç¡®å®šç‰©ç†ä½ç½®",
    time: "1-2 ns"
  },
  {
    title: "è¡Œæ¿€æ´»",
    description: "æ¿€æ´»ç›®æ ‡å†…å­˜è¡Œ(RASä¿¡å·)ï¼Œå°†æ•´è¡Œæ•°æ®è¯»å…¥è¡Œç¼“å†²",
    time: "10-20 ns"
  },
  {
    title: "åˆ—é€‰æ‹©",
    description: "é€‰æ‹©ç›®æ ‡åˆ—(CASä¿¡å·)ï¼Œä»è¡Œç¼“å†²è¯»å–ç‰¹å®šæ•°æ®å•å…ƒ",
    time: "5-10 ns"
  },
  {
    title: "æ•°æ®ä¼ è¾“",
    description: "é€šè¿‡æ•°æ®æ€»çº¿å°†æ•°æ®ä¼ è¾“åˆ°å†…å­˜æ§åˆ¶å™¨",
    time: "1-5 ns"
  },
  {
    title: "é¢„å……ç”µ",
    description: "å…³é—­å½“å‰è¡Œï¼Œä¸ºä¸‹ä¸€æ¬¡è®¿é—®å‡†å¤‡",
    time: "10-15 ns"
  }
]);

// æ€§èƒ½æŒ‡æ ‡
const performanceMetrics = ref([
  {
    name: "å»¶è¿Ÿ",
    value: "50-100 ns",
    description: "ä»è¯·æ±‚æ•°æ®åˆ°å¼€å§‹ä¼ è¾“çš„æ—¶é—´",
    impact: "ç›´æ¥å½±å“ç³»ç»Ÿå“åº”é€Ÿåº¦"
  },
  {
    name: "å¸¦å®½",
    value: "20-100 GB/s",
    description: "å•ä½æ—¶é—´å†…ä¼ è¾“çš„æ•°æ®é‡",
    impact: "å†³å®šå¤§æ•°æ®å¤„ç†èƒ½åŠ›"
  },
  {
    name: "é¢‘ç‡",
    value: "1600-6400 MHz",
    description: "å†…å­˜å·¥ä½œæ—¶é’Ÿé€Ÿåº¦",
    impact: "å½±å“æ•°æ®ä¼ è¾“é€Ÿç‡"
  },
  {
    name: "å®¹é‡",
    value: "4-128 GB",
    description: "å¯å­˜å‚¨çš„æ•°æ®æ€»é‡",
    impact: "å†³å®šå¯è¿è¡Œç¨‹åºçš„å¤§å°å’Œæ•°é‡"
  }
]);

// æŠ€æœ¯å‘å±•æ—¶é—´çº¿
const technologyTimeline = ref([
  {
    year: "1947",
    technology: "å¨å»‰å§†æ–¯ç®¡",
    description: "ç¬¬ä¸€ä¸ªéšæœºå­˜å–å­˜å‚¨å™¨ï¼Œä½¿ç”¨é˜´æå°„çº¿ç®¡",
    impact: "æ—©æœŸè®¡ç®—æœºå­˜å‚¨æŠ€æœ¯"
  },
  {
    year: "1953",
    technology: "ç£èŠ¯å­˜å‚¨å™¨",
    description: "ä½¿ç”¨ç£åŒ–ç¯å­˜å‚¨æ•°æ®ï¼Œéæ˜“å¤±æ€§",
    impact: "ä¸»å¯¼1950-1970å¹´ä»£çš„è®¡ç®—æœºå†…å­˜"
  },
  {
    year: "1968",
    technology: "DRAMå‘æ˜",
    description: "IBMå‘æ˜åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨",
    impact: "æˆä¸ºä¸»æµå†…å­˜æŠ€æœ¯è‡³ä»Š"
  },
  {
    year: "1970",
    technology: "SRAMå•†ç”¨",
    description: "Intelæ¨å‡ºé¦–æ¬¾SRAMèŠ¯ç‰‡1101",
    impact: "ç”¨äºé«˜é€Ÿç¼“å­˜å’Œå¯„å­˜å™¨"
  },
  {
    year: "1984",
    technology: "SIMMå†…å­˜",
    description: "å•åˆ—ç›´æ’å¼å†…å­˜æ¨¡å—",
    impact: "ç®€åŒ–å†…å­˜å®‰è£…å’Œå‡çº§"
  },
  {
    year: "1997",
    technology: "SDRAM",
    description: "åŒæ­¥DRAMï¼Œä¸ç³»ç»Ÿæ—¶é’ŸåŒæ­¥",
    impact: "å¸¦å®½å¤§å¹…æå‡"
  },
  {
    year: "2000",
    technology: "RDRAM",
    description: "Rambus DRAMï¼Œé«˜å¸¦å®½è®¾è®¡",
    impact: "ç”¨äºPlayStation 2ç­‰è®¾å¤‡"
  },
  {
    year: "2003",
    technology: "DDR SDRAM",
    description: "åŒå€æ•°æ®é€Ÿç‡SDRAM",
    impact: "ä¸»æµå†…å­˜æ ‡å‡†è‡³ä»Š"
  },
  {
    year: "2014",
    technology: "DDR4",
    description: "æ›´é«˜é€Ÿåº¦å’Œæ›´ä½ç”µå‹",
    impact: "16-64GBæ¨¡å—æˆä¸ºä¸»æµ"
  },
  {
    year: "2020",
    technology: "DDR5",
    description: "åŒé€šé“æ¶æ„ï¼Œæ›´é«˜å¸¦å®½",
    impact: "æ”¯æŒæ–°ä¸€ä»£CPUå’ŒAIåº”ç”¨"
  }
]);

// å±‚æ¬¡ç»“æ„å›¾è¡¨æ•°æ®
const hierarchyChart = ref([
  { name: "å¯„å­˜å™¨", value: "<1ns", height: "40px", color: "#3498db" },
  { name: "L1ç¼“å­˜", value: "1-4ns", height: "70px", color: "#2980b9" },
  { name: "L2ç¼“å­˜", value: "3-10ns", height: "100px", color: "#1abc9c" },
  { name: "L3ç¼“å­˜", value: "10-20ns", height: "130px", color: "#2ecc71" },
  { name: "ä¸»å­˜", value: "50-100ns", height: "160px", color: "#f1c40f" },
  { name: "SSD", value: "25-200Î¼s", height: "250px", color: "#e67e22" },
  { name: "HDD", value: "5-20ms", height: "300px", color: "#e74c3c" }
]);
</script>

<style lang="less" scoped>
.memory-guide {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  background: linear-gradient(to bottom, #f8f9fa, #e9ecef);

  h1 {
    text-align: center;
    font-size: 2.2rem;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 2px solid #3498db;
    color: #2c3e50;
  }

  h2 {
    font-size: 1.7rem;
    padding-left: 10px;
    border-left: 4px solid #3498db;
    color: #2c3e50;
    margin-top: 40px;
    margin-bottom: 20px;
  }

  h3 {
    font-size: 1.3rem;
    color: #2980b9;
    margin-top: 0;
    margin-bottom: 10px;
  }

  .overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;

    .overview-card {
      display: flex;
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
      align-items: center;

      .overview-icon {
        font-size: 2.5rem;
        margin-right: 20px;
      }

      p {
        margin: 10px 0 0;
        color: #555;
        line-height: 1.5;
      }
    }
  }

  .section {
    background: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
  }

  // å†…å­˜ç±»å‹æ ·å¼
  .memory-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;

    .type-card {
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
      background: #f8f9fa;

      .type-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
      }

      .type-characteristics {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 10px 0;

        span {
          background: #3498db;
          color: white;
          padding: 3px 10px;
          border-radius: 20px;
          font-size: 0.85rem;
        }
      }

      p {
        color: #555;
        line-height: 1.6;
        margin: 15px 0 10px;
      }

      .type-speed,
      .type-usage {
        font-size: 0.9rem;
        font-weight: bold;
        color: #e74c3c;
        margin-top: 5px;
      }
    }
  }

  // å†…å­˜å±‚æ¬¡ç»“æ„
  .hierarchy {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;

    .level {
      padding: 15px;
      background: #f1f2f6;
      border-radius: 6px;
      border-left: 4px solid #3498db;

      .level-name {
        font-weight: bold;
        margin-bottom: 8px;
        color: #2c3e50;
      }

      .level-speed,
      .level-capacity,
      .level-cost,
      .level-location {
        font-size: 0.9rem;
        margin-top: 5px;
        color: #555;

        &::before {
          content: "â€¢ ";
          color: #3498db;
          font-weight: bold;
        }
      }
    }
  }

  .hierarchy-chart {
    display: flex;
    height: 320px;
    align-items: flex-end;
    justify-content: space-around;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px 10px;
    border: 1px solid #e0e0e0;

    .chart-bar {
      width: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      border-radius: 6px 6px 0 0;

      .chart-label {
        margin-bottom: 5px;
        font-weight: bold;
        color: #2c3e50;
      }

      .chart-value {
        margin-bottom: 10px;
        font-size: 0.9rem;
        color: white;
        font-weight: bold;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }
    }
  }

  // å·¥ä½œæµç¨‹
  .workflow {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 15px;

    .workflow-step {
      display: flex;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e0e0e0;

      .step-number {
        min-width: 40px;
        height: 40px;
        background: #3498db;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
        margin-right: 15px;
      }

      .step-content {
        h3 {
          margin-top: 0;
        }

        p {
          margin: 10px 0;
          color: #555;
          font-size: 0.95rem;
          line-height: 1.5;
        }

        .step-duration {
          font-size: 0.85rem;
          color: #e74c3c;
          font-weight: bold;
        }
      }
    }
  }

  // æ€§èƒ½æŒ‡æ ‡
  .metrics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;

    .metric-card {
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
      background: #f8f9fa;
      text-align: center;

      .metric-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #e74c3c;
        margin: 10px 0;
      }

      p {
        color: #555;
        line-height: 1.6;
        margin: 10px 0 15px;
      }

      .metric-impact {
        font-size: 0.9rem;
        font-weight: bold;
        color: #3498db;
        border-top: 1px dashed #ccc;
        padding-top: 10px;
      }
    }
  }

  // æ—¶é—´çº¿
  .timeline {
    position: relative;
    padding-left: 30px;

    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: #3498db;
    }

    .timeline-event {
      position: relative;
      margin-bottom: 30px;
      padding-left: 20px;

      &::before {
        content: '';
        position: absolute;
        left: -34px;
        top: 8px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #3498db;
        border: 4px solid white;
        box-shadow: 0 0 0 2px #3498db;
      }

      .event-year {
        position: absolute;
        left: -80px;
        top: 5px;
        font-weight: bold;
        color: #2c3e50;
        font-size: 1.1rem;
      }

      .event-content {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #e0e0e0;

        h3 {
          margin-top: 0;
          color: #e74c3c;
        }

        p {
          color: #555;
          line-height: 1.6;
          margin: 10px 0;
        }

        .event-impact {
          font-size: 0.9rem;
          font-weight: bold;
          color: #3498db;
        }
      }
    }
  }

  @media (max-width: 768px) {
    padding: 10px;

    h1 {
      font-size: 1.8rem;
    }

    h2 {
      font-size: 1.5rem;
    }

    .overview,
    .memory-types,
    .hierarchy,
    .workflow,
    .metrics {
      grid-template-columns: 1fr;
    }

    .hierarchy-chart {
      flex-direction: column;
      height: auto;
      align-items: center;

      .chart-bar {
        width: 90%;
        height: 60px;
        margin-bottom: 10px;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        border-radius: 6px;

        .chart-label,
        .chart-value {
          margin: 0;
        }
      }
    }

    .timeline {
      padding-left: 15px;

      .event-year {
        position: static;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .timeline-event::before {
        left: -23px;
      }
    }
  }
}
</style>
