<template>
  <div class="protocol-container">
    <header class="header">
      <h1>TCP/UDP/IP åè®®åŸºæœ¬ä»‹ç»</h1>
      <p class="subtitle">æ·±å…¥ç†è§£ç½‘ç»œé€šä¿¡çš„æ ¸å¿ƒåè®®</p>
    </header>

    <div class="content-wrapper">
      <main class="main-content">
        <section class="section">
          <h2>åè®®åŸºç¡€æ¦‚å¿µ</h2>
          <div class="protocol-intro">
            <div class="protocol-card">
              <div class="protocol-icon">ğŸŒ</div>
              <h3>IP åè®® (Internet Protocol)</h3>
              <p>ç½‘ç»œå±‚æ ¸å¿ƒåè®®ï¼Œè´Ÿè´£å°†æ•°æ®åŒ…ä»æºä¸»æœºè·¯ç”±åˆ°ç›®æ ‡ä¸»æœº</p>
              <div class="protocol-details">
                <div class="detail-item">
                  <span class="detail-label">åŠŸèƒ½:</span>
                  <span>ä¸»æœºå¯»å€ã€è·¯ç”±é€‰æ‹©ã€æ•°æ®åŒ…åˆ†å‰²ä¸é‡ç»„</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">ç‰ˆæœ¬:</span>
                  <span>IPv4 (32ä½åœ°å€) / IPv6 (128ä½åœ°å€)</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">ç‰¹ç‚¹:</span>
                  <span>æ— è¿æ¥ã€ä¸å¯é ã€å°½åŠ›è€Œä¸ºçš„ä¼ è¾“</span>
                </div>
              </div>
            </div>

            <div class="protocol-compare">
              <div class="osi-model">
                <h4>TCP/IP æ¨¡å‹åˆ†å±‚</h4>
                <div class="layer application">åº”ç”¨å±‚</div>
                <div class="layer transport">ä¼ è¾“å±‚ (TCP/UDP)</div>
                <div class="layer internet">ç½‘ç»œå±‚ (IP)</div>
                <div class="layer link">é“¾è·¯å±‚</div>
              </div>
              <div class="ip-packet">
                <h4>IP æ•°æ®åŒ…ç»“æ„</h4>
                <div class="packet-header">
                  <div class="field version">ç‰ˆæœ¬</div>
                  <div class="field ihl">IHL</div>
                  <div class="field tos">æœåŠ¡ç±»å‹</div>
                  <div class="field length">æ€»é•¿åº¦</div>
                  <div class="field identification">æ ‡è¯†</div>
                  <div class="field flags">æ ‡å¿—</div>
                  <div class="field offset">åˆ†ç‰‡åç§»</div>
                  <div class="field ttl">TTL</div>
                  <div class="field protocol">åè®®</div>
                  <div class="field checksum">é¦–éƒ¨æ ¡éªŒå’Œ</div>
                  <div class="field source">æºIPåœ°å€</div>
                  <div class="field dest">ç›®æ ‡IPåœ°å€</div>
                  <div class="field options">é€‰é¡¹</div>
                </div>
                <div class="packet-data">æ•°æ®</div>
              </div>
            </div>
          </div>
        </section>

        <section class="section">
          <h2>ä¼ è¾“å±‚åè®®å¯¹æ¯”</h2>
          <div class="protocol-comparison">
            <div class="comparison-header">
              <div class="header-item feature">ç‰¹æ€§</div>
              <div class="header-item tcp">TCP</div>
              <div class="header-item udp">UDP</div>
            </div>

            <div class="comparison-row">
              <div class="feature">å…¨ç§°</div>
              <div class="tcp">ä¼ è¾“æ§åˆ¶åè®®</div>
              <div class="udp">ç”¨æˆ·æ•°æ®æŠ¥åè®®</div>
            </div>

            <div class="comparison-row">
              <div class="feature">è¿æ¥ç±»å‹</div>
              <div class="tcp">é¢å‘è¿æ¥</div>
              <div class="udp">æ— è¿æ¥</div>
            </div>

            <div class="comparison-row">
              <div class="feature">å¯é æ€§</div>
              <div class="tcp">é«˜å¯é æ€§ (ç¡®è®¤é‡ä¼ )</div>
              <div class="udp">å°½åŠ›è€Œä¸ºäº¤ä»˜</div>
            </div>

            <div class="comparison-row">
              <div class="feature">æ•°æ®é¡ºåº</div>
              <div class="tcp">ä¿è¯æ•°æ®é¡ºåº</div>
              <div class="udp">ä¸ä¿è¯é¡ºåº</div>
            </div>

            <div class="comparison-row">
              <div class="feature">ä¼ è¾“é€Ÿåº¦</div>
              <div class="tcp">è¾ƒæ…¢ (å»ºç«‹è¿æ¥/ç¡®è®¤)</div>
              <div class="udp">éå¸¸å¿«</div>
            </div>

            <div class="comparison-row">
              <div class="feature">æµé‡æ§åˆ¶</div>
              <div class="tcp">æ»‘åŠ¨çª—å£æœºåˆ¶</div>
              <div class="udp">æ— æµé‡æ§åˆ¶</div>
            </div>

            <div class="comparison-row">
              <div class="feature">æ‹¥å¡æ§åˆ¶</div>
              <div class="tcp">å¤šç§ç®—æ³• (Reno, Cubic)</div>
              <div class="udp">æ— æ‹¥å¡æ§åˆ¶</div>
            </div>

            <div class="comparison-row">
              <div class="feature">å¤´éƒ¨å¤§å°</div>
              <div class="tcp">20-60 å­—èŠ‚</div>
              <div class="udp">8 å­—èŠ‚</div>
            </div>

            <div class="comparison-row">
              <div class="feature">é€‚ç”¨åœºæ™¯</div>
              <div class="tcp">Webã€Emailã€æ–‡ä»¶ä¼ è¾“</div>
              <div class="udp">è§†é¢‘æµã€æ¸¸æˆã€DNS</div>
            </div>
          </div>

          <div class="protocol-visual">
            <div class="tcp-flow">
              <h3>TCP ä¸‰æ¬¡æ¡æ‰‹</h3>
              <div class="flow-diagram">
                <div class="client">å®¢æˆ·ç«¯</div>
                <div class="server">æœåŠ¡å™¨</div>

                <div class="step">
                  <div class="step-label">SYN</div>
                  <div class="arrow">â†’</div>
                </div>

                <div class="step">
                  <div class="step-label">SYN-ACK</div>
                  <div class="arrow">â†</div>
                </div>

                <div class="step">
                  <div class="step-label">ACK</div>
                  <div class="arrow">â†’</div>
                </div>
              </div>
            </div>

            <div class="udp-flow">
              <h3>UDP æ•°æ®ä¼ è¾“</h3>
              <div class="flow-diagram">
                <div class="client">å®¢æˆ·ç«¯</div>
                <div class="server">æœåŠ¡å™¨</div>

                <div class="step">
                  <div class="step-label">æ•°æ®æŠ¥</div>
                  <div class="arrow">â†’</div>
                </div>

                <div class="step">
                  <div class="step-label">æ•°æ®æŠ¥</div>
                  <div class="arrow">â†’</div>
                </div>

                <div class="step">
                  <div class="step-label">æ•°æ®æŠ¥</div>
                  <div class="arrow">â†’</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="section">
          <h2>ä»€ä¹ˆæ˜¯ TCP ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</h2>
          <div class="handshake-intro">
            <p>
              <strong>TCP ä¸‰æ¬¡æ¡æ‰‹</strong>æ˜¯æŒ‡åœ¨å»ºç«‹ä¸€ä¸ªå¯é çš„ TCP
              è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´éœ€è¦ç»è¿‡ä¸‰æ¬¡æ¶ˆæ¯çš„äº¤æ¢ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯åŒæ–¹éƒ½å…·å¤‡å‘é€å’Œæ¥æ”¶æ•°æ®çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ç½‘ç»œæ˜¯ç•…é€šçš„ã€‚
            </p>
            <ol>
              <li>
                <strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š</strong>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€
                <code>SYN</code>ï¼ˆåŒæ­¥åºåˆ—ç¼–å·ï¼‰åŒ…ï¼Œè¡¨ç¤ºè¯·æ±‚å»ºç«‹è¿æ¥ã€‚
              </li>
              <li>
                <strong>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š</strong>æœåŠ¡å™¨æ”¶åˆ° <code>SYN</code> åï¼Œå›å¤
                <code>SYN-ACK</code> åŒ…ï¼Œè¡¨ç¤ºåŒæ„è¿æ¥å¹¶ç¡®è®¤æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚
              </li>
              <li>
                <strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong>å®¢æˆ·ç«¯æ”¶åˆ° <code>SYN-ACK</code> åï¼Œå†å‘é€ä¸€ä¸ª
                <code>ACK</code> åŒ…ï¼Œè¡¨ç¤ºè¿æ¥å»ºç«‹æˆåŠŸã€‚
              </li>
            </ol>
            <p>å®Œæˆä¸‰æ¬¡æ¡æ‰‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å°±å¯ä»¥å¼€å§‹å®‰å…¨ã€å¯é çš„æ•°æ®ä¼ è¾“äº†ã€‚</p>
            <div class="tips">
              <strong>å°è´´å£«ï¼š</strong>ä¸‰æ¬¡æ¡æ‰‹å¯ä»¥é˜²æ­¢é‡å¤çš„è¿æ¥è¯·æ±‚ï¼Œç¡®ä¿åŒæ–¹éƒ½å‡†å¤‡å¥½é€šä¿¡ã€‚
            </div>
          </div>
        </section>

        <section class="section">
          <h2>åè®®ä½¿ç”¨åœºæ™¯</h2>
          <div class="use-cases">
            <div class="use-case tcp">
              <div class="case-header">
                <div class="case-icon">ğŸ”’</div>
                <h3>TCP é€‚ç”¨åœºæ™¯</h3>
              </div>
              <ul>
                <li>ç½‘é¡µæµè§ˆ (HTTP/HTTPS)</li>
                <li>æ–‡ä»¶ä¼ è¾“ (FTP, SFTP)</li>
                <li>ç”µå­é‚®ä»¶ (SMTP, IMAP, POP3)</li>
                <li>è¿œç¨‹ç™»å½• (SSH, Telnet)</li>
                <li>æ•°æ®åº“è¿æ¥</li>
                <li>å®‰å…¨é€šä¿¡ (SSL/TLS)</li>
              </ul>
            </div>

            <div class="use-case udp">
              <div class="case-header">
                <div class="case-icon">âš¡</div>
                <h3>UDP é€‚ç”¨åœºæ™¯</h3>
              </div>
              <ul>
                <li>å®æ—¶è§†é¢‘/éŸ³é¢‘æµ (VoIP, ç›´æ’­)</li>
                <li>åœ¨çº¿å¤šäººæ¸¸æˆ</li>
                <li>DNS åŸŸåè§£æ</li>
                <li>DHCP åŠ¨æ€ä¸»æœºé…ç½®</li>
                <li>SNMP ç½‘ç»œç®¡ç†</li>
                <li>å¹¿æ’­/å¤šæ’­åº”ç”¨</li>
              </ul>
            </div>

            <div class="use-case hybrid">
              <div class="case-header">
                <div class="case-icon">ğŸ”„</div>
                <h3>æ··åˆä½¿ç”¨åœºæ™¯</h3>
              </div>
              <div class="hybrid-apps">
                <div class="app">
                  <div class="app-icon">ğŸ“¹</div>
                  <div class="app-details">
                    <h4>è§†é¢‘ä¼šè®®</h4>
                    <p>æ§åˆ¶ä¿¡å·: TCP / éŸ³è§†é¢‘æµ: UDP</p>
                  </div>
                </div>
                <div class="app">
                  <div class="app-icon">ğŸ®</div>
                  <div class="app-details">
                    <h4>åœ¨çº¿æ¸¸æˆ</h4>
                    <p>ç™»å½•/æ”¯ä»˜: TCP / æ¸¸æˆæ•°æ®: UDP</p>
                  </div>
                </div>
                <div class="app">
                  <div class="app-icon">ğŸ“¡</div>
                  <div class="app-details">
                    <h4>æµåª’ä½“</h4>
                    <p>å†…å®¹ç›®å½•: TCP / åª’ä½“ä¼ è¾“: UDP</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <aside class="sidebar">
        <div class="tcp-details">
          <h3>TCP å…³é”®ç‰¹æ€§</h3>
          <ul>
            <li>
              <strong>åºåˆ—å·ä¸ç¡®è®¤å·</strong>
              <p>ç¡®ä¿æ•°æ®æŒ‰é¡ºåºä¼ è¾“</p>
            </li>
            <li>
              <strong>æ»‘åŠ¨çª—å£</strong>
              <p>åŠ¨æ€è°ƒæ•´ä¼ è¾“é€Ÿç‡</p>
            </li>
            <li>
              <strong>æ‹¥å¡æ§åˆ¶</strong>
              <p>æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ã€å¿«é€Ÿé‡ä¼ </p>
            </li>
            <li>
              <strong>è¿æ¥ç®¡ç†</strong>
              <p>ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå››æ¬¡æŒ¥æ‰‹ç»ˆæ­¢è¿æ¥</p>
            </li>
            <li>
              <strong>é”™è¯¯æ£€æµ‹</strong>
              <p>ä½¿ç”¨æ ¡éªŒå’ŒéªŒè¯æ•°æ®å®Œæ•´æ€§</p>
            </li>
          </ul>
        </div>

        <div class="udp-details">
          <h3>UDP å…³é”®ç‰¹æ€§</h3>
          <ul>
            <li>
              <strong>ç®€å•é«˜æ•ˆ</strong>
              <p>8å­—èŠ‚å¤´éƒ¨ï¼Œæ— è¿æ¥å¼€é”€</p>
            </li>
            <li>
              <strong>æ— çŠ¶æ€</strong>
              <p>æœåŠ¡å™¨æ— éœ€ç»´æŠ¤è¿æ¥çŠ¶æ€</p>
            </li>
            <li>
              <strong>æ”¯æŒå¹¿æ’­/å¤šæ’­</strong>
              <p>å¯åŒæ—¶å‘å¤šä¸ªä¸»æœºå‘é€æ•°æ®</p>
            </li>
            <li>
              <strong>åº”ç”¨å±‚æ§åˆ¶</strong>
              <p>å¯é æ€§ç”±åº”ç”¨å±‚å®ç°</p>
            </li>
            <li>
              <strong>å®æ—¶æ€§ä¼˜å…ˆ</strong>
              <p>é€‚åˆå»¶è¿Ÿæ•æ„Ÿå‹åº”ç”¨</p>
            </li>
          </ul>
        </div>

        <div class="ip-details">
          <h3>IP åè®®å…³é”®ç‚¹</h3>
          <ul>
            <li>
              <strong>IP åœ°å€</strong>
              <p>IPv4: 32ä½, IPv6: 128ä½</p>
            </li>
            <li>
              <strong>è·¯ç”±</strong>
              <p>è·¯ç”±å™¨æ ¹æ®è·¯ç”±è¡¨è½¬å‘æ•°æ®åŒ…</p>
            </li>
            <li>
              <strong>åˆ†ç‰‡ä¸é‡ç»„</strong>
              <p>MTU è¶…è¿‡æ—¶åˆ†å‰²æ•°æ®åŒ…</p>
            </li>
            <li>
              <strong>TTL (ç”Ÿå­˜æ—¶é—´)</strong>
              <p>é˜²æ­¢æ•°æ®åŒ…æ— é™å¾ªç¯</p>
            </li>
            <li>
              <strong>æ— è¿æ¥æœåŠ¡</strong>
              <p>æ¯ä¸ªæ•°æ®åŒ…ç‹¬ç«‹è·¯ç”±</p>
            </li>
          </ul>
        </div>

        <div class="performance-card">
          <h3>æ€§èƒ½å¯¹æ¯”æŒ‡æ ‡</h3>
          <div class="metric">
            <div class="metric-label">å»¶è¿Ÿ</div>
            <div class="metric-bar">
              <div class="tcp-bar" :style="{ width: '30%' }">TCP: é«˜</div>
              <div class="udp-bar" :style="{ width: '70%' }">UDP: ä½</div>
            </div>
          </div>
          <div class="metric">
            <div class="metric-label">ååé‡</div>
            <div class="metric-bar">
              <div class="tcp-bar" :style="{ width: '65%' }">TCP: é«˜</div>
              <div class="udp-bar" :style="{ width: '35%' }">UDP: ä¸­</div>
            </div>
          </div>
          <div class="metric">
            <div class="metric-label">å¯é æ€§</div>
            <div class="metric-bar">
              <div class="tcp-bar" :style="{ width: '95%' }">TCP: é«˜</div>
              <div class="udp-bar" :style="{ width: '5%' }">UDP: ä½</div>
            </div>
          </div>
          <div class="metric">
            <div class="metric-label">èµ„æºæ¶ˆè€—</div>
            <div class="metric-bar">
              <div class="tcp-bar" :style="{ width: '80%' }">TCP: é«˜</div>
              <div class="udp-bar" :style="{ width: '20%' }">UDP: ä½</div>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <section class="section">
      <h2>åè®®æŠ¥æ–‡ç»“æ„</h2>
      <div class="packet-structures">
        <div class="packet">
          <h3>TCP æŠ¥æ–‡ç»“æ„</h3>
          <div class="packet-diagram">
            <div class="field source-port">æºç«¯å£ (16ä½)</div>
            <div class="field dest-port">ç›®æ ‡ç«¯å£ (16ä½)</div>
            <div class="field seq">åºåˆ—å· (32ä½)</div>
            <div class="field ack">ç¡®è®¤å· (32ä½)</div>
            <div class="field header-length">æ•°æ®åç§» (4ä½)</div>
            <div class="field reserved">ä¿ç•™ (6ä½)</div>
            <div class="field flags">æ ‡å¿—ä½ (6ä½)</div>
            <div class="field window">çª—å£å¤§å° (16ä½)</div>
            <div class="field checksum">æ ¡éªŒå’Œ (16ä½)</div>
            <div class="field urgent">ç´§æ€¥æŒ‡é’ˆ (16ä½)</div>
            <div class="field options">é€‰é¡¹ (å¯å˜)</div>
            <div class="field data">æ•°æ® (å¯å˜)</div>
          </div>
          <div class="flags-details">
            <h4>TCP æ ‡å¿—ä½:</h4>
            <div class="flag-grid">
              <div class="flag" v-for="flag in tcpFlags" :key="flag.name">
                <span class="flag-name">{{ flag.name }}:</span>
                <span class="flag-desc">{{ flag.desc }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="packet">
          <h3>UDP æŠ¥æ–‡ç»“æ„</h3>
          <div class="packet-diagram udp-diagram">
            <div class="field source-port">æºç«¯å£ (16ä½)</div>
            <div class="field dest-port">ç›®æ ‡ç«¯å£ (16ä½)</div>
            <div class="field length">é•¿åº¦ (16ä½)</div>
            <div class="field checksum">æ ¡éªŒå’Œ (16ä½)</div>
            <div class="field data">æ•°æ® (å¯å˜)</div>
          </div>
          <div class="udp-details">
            <h4>UDP ç‰¹ç‚¹:</h4>
            <ul>
              <li>æ— è¿æ¥åè®® - æ— éœ€å»ºç«‹è¿æ¥</li>
              <li>æœ€å°å¤´éƒ¨å¼€é”€ - ä»…8å­—èŠ‚</li>
              <li>æ— æµé‡æ§åˆ¶ - å‘é€æ–¹å¯ä»¥ä»»æ„é€Ÿç‡å‘é€</li>
              <li>æ— é”™è¯¯æ¢å¤æœºåˆ¶ - é”™è¯¯æ•°æ®åŒ…è¢«ä¸¢å¼ƒ</li>
              <li>æ”¯æŒå¹¿æ’­å’Œå¤šæ’­</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p>ç†è§£ TCPã€UDP å’Œ IP åè®®æ˜¯ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ï¼Œåˆç†é€‰æ‹©ä¼ è¾“åè®®å¯¹åº”ç”¨æ€§èƒ½æœ‰å†³å®šæ€§å½±å“</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// TCP æ ‡å¿—ä½æ•°æ®
const tcpFlags = ref([
  { name: 'URG', desc: 'ç´§æ€¥æŒ‡é’ˆæœ‰æ•ˆ' },
  { name: 'ACK', desc: 'ç¡®è®¤å·æœ‰æ•ˆ' },
  { name: 'PSH', desc: 'æ¥æ”¶æ–¹åº”å°½å¿«äº¤ä»˜æ•°æ®' },
  { name: 'RST', desc: 'é‡ç½®è¿æ¥' },
  { name: 'SYN', desc: 'åŒæ­¥åºåˆ—å·ï¼Œå»ºç«‹è¿æ¥' },
  { name: 'FIN', desc: 'å‘é€æ–¹ç»“æŸå‘é€' },
])
</script>

<style lang="less" scoped>
@primary-color: #4285f4;
@secondary-color: #34a853;
@accent-color: #ea4335;
@tcp-color: #4285f4;
@udp-color: #34a853;
@ip-color: #ea4335;
@light-bg: #f8f9fa;
@text-color: #202124;
@border-color: #dadce0;
@card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.protocol-container {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  color: @text-color;
  background-color: #fff;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid @border-color;

  h1 {
    color: @primary-color;
    font-size: 2.5rem;
    margin-bottom: 10px;
  }

  .subtitle {
    font-size: 1.2rem;
    color: #5f6368;
  }
}

.content-wrapper {
  display: flex;
  gap: 25px;
}

.main-content {
  flex: 3;
}

.sidebar {
  flex: 1;
  min-width: 300px;
}

.section {
  background: @light-bg;
  border-radius: 10px;
  padding: 25px;
  margin-bottom: 25px;
  box-shadow: @card-shadow;

  h2 {
    color: @primary-color;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid fade(@primary-color, 20%);
  }
}

.protocol-intro {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.protocol-card {
  flex: 1;
  min-width: 300px;
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: @card-shadow;
  border-top: 4px solid @ip-color;

  .protocol-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: @ip-color;
  }

  h3 {
    color: @ip-color;
    margin-bottom: 15px;
  }

  .protocol-details {
    .detail-item {
      display: flex;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid fade(@border-color, 50%);

      &:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      .detail-label {
        font-weight: bold;
        min-width: 60px;
        color: @ip-color;
      }
    }
  }
}

.protocol-compare {
  flex: 1;
  min-width: 300px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.osi-model {
  background: white;
  border-radius: 8px;
  padding: 15px;
  box-shadow: @card-shadow;

  h4 {
    color: @primary-color;
    margin-bottom: 15px;
    text-align: center;
  }

  .layer {
    padding: 12px;
    margin-bottom: 8px;
    border-radius: 4px;
    font-weight: bold;
    text-align: center;

    &.application {
      background: fade(@primary-color, 10%);
    }

    &.transport {
      background: fade(@tcp-color, 15%);
    }

    &.internet {
      background: fade(@ip-color, 15%);
    }

    &.link {
      background: fade(#fbbc05, 15%);
    }
  }
}

.ip-packet {
  background: white;
  border-radius: 8px;
  padding: 15px;
  box-shadow: @card-shadow;

  h4 {
    color: @primary-color;
    margin-bottom: 15px;
    text-align: center;
  }

  .packet-header {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 5px;
    margin-bottom: 5px;

    .field {
      padding: 8px;
      background: fade(@ip-color, 10%);
      border: 1px solid fade(@ip-color, 30%);
      border-radius: 4px;
      font-size: 0.8rem;
      text-align: center;
    }
  }

  .packet-data {
    padding: 20px;
    background: fade(@ip-color, 5%);
    border: 1px dashed fade(@ip-color, 30%);
    border-radius: 4px;
    text-align: center;
  }
}

.protocol-comparison {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: @card-shadow;
  margin-bottom: 25px;
}

.comparison-header {
  display: flex;
  background: #f1f3f4;
  font-weight: bold;

  .header-item {
    padding: 15px;
    text-align: center;

    &.feature {
      flex: 2;
      background: #f1f3f4;
    }

    &.tcp {
      flex: 3;
      background: fade(@tcp-color, 10%);
      color: darken(@tcp-color, 20%);
    }

    &.udp {
      flex: 3;
      background: fade(@udp-color, 10%);
      color: darken(@udp-color, 20%);
    }
  }
}

.comparison-row {
  display: flex;
  border-bottom: 1px solid @border-color;

  &:last-child {
    border-bottom: none;
  }

  .feature,
  .tcp,
  .udp {
    padding: 15px;
  }

  .feature {
    flex: 2;
    font-weight: 500;
    background: #f8f9fa;
    display: flex;
    align-items: center;
  }

  .tcp {
    flex: 3;
    background: fade(@tcp-color, 5%);
    border-left: 1px solid @border-color;
  }

  .udp {
    flex: 3;
    background: fade(@udp-color, 5%);
    border-left: 1px solid @border-color;
  }
}

.protocol-visual {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;

  .tcp-flow,
  .udp-flow {
    flex: 1;
    min-width: 300px;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: @card-shadow;

    h3 {
      text-align: center;
      margin-bottom: 20px;
      color: @primary-color;
    }
  }

  .tcp-flow {
    border-top: 4px solid @tcp-color;
  }

  .udp-flow {
    border-top: 4px solid @udp-color;
  }
}

.flow-diagram {
  display: flex;
  flex-direction: column;
  gap: 30px;
  position: relative;
  padding: 0 50px;

  .client,
  .server {
    font-weight: bold;
    padding: 10px;
    text-align: center;
    background: #f1f3f4;
    border-radius: 6px;
  }

  .client {
    align-self: flex-start;
  }

  .server {
    align-self: flex-end;
  }

  .step {
    display: flex;
    align-items: center;
    position: relative;

    .step-label {
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 500;
    }

    .arrow {
      font-size: 1.5rem;
      margin: 0 15px;
    }
  }

  .tcp-flow & .step {
    .step-label {
      background: fade(@tcp-color, 15%);
      border: 1px solid fade(@tcp-color, 30%);
    }
  }

  .udp-flow & .step {
    .step-label {
      background: fade(@udp-color, 15%);
      border: 1px solid fade(@udp-color, 30%);
    }
  }
}

.use-cases {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.use-case {
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: @card-shadow;

  .case-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;

    .case-icon {
      font-size: 1.8rem;
    }

    h3 {
      color: @primary-color;
    }
  }

  ul {
    padding-left: 20px;

    li {
      margin-bottom: 12px;
      padding-left: 10px;
      position: relative;

      &:before {
        content: 'â€¢';
        position: absolute;
        left: 0;
        color: @primary-color;
        font-size: 1.2rem;
      }
    }
  }

  &.tcp {
    border-top: 4px solid @tcp-color;

    .case-icon {
      color: @tcp-color;
    }
  }

  &.udp {
    border-top: 4px solid @udp-color;

    .case-icon {
      color: @udp-color;
    }
  }

  &.hybrid {
    border-top: 4px solid #fbbc05;

    .case-icon {
      color: #fbbc05;
    }
  }
}

.hybrid-apps {
  display: flex;
  flex-direction: column;
  gap: 15px;

  .app {
    display: flex;
    gap: 15px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 8px;

    .app-icon {
      font-size: 1.8rem;
      min-width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    h4 {
      color: @primary-color;
      margin-bottom: 5px;
    }

    p {
      color: #5f6368;
      font-size: 0.9rem;
    }
  }
}

.tcp-details,
.udp-details,
.ip-details,
.performance-card {
  background: white;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: @card-shadow;

  h3 {
    color: @primary-color;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid @border-color;
  }
}

ul {
  list-style: none;

  li {
    padding: 10px 0;
    border-bottom: 1px solid fade(@border-color, 30%);

    &:last-child {
      border-bottom: none;
    }

    strong {
      display: block;
      margin-bottom: 5px;
      color: @primary-color;
    }

    p {
      color: #5f6368;
      font-size: 0.9rem;
    }
  }
}

.performance-card {
  .metric {
    margin-bottom: 15px;

    .metric-label {
      font-size: 0.9rem;
      margin-bottom: 5px;
      color: #5f6368;
    }

    .metric-bar {
      height: 20px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      display: flex;

      .tcp-bar {
        background: @tcp-color;
        color: white;
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .udp-bar {
        background: @udp-color;
        color: white;
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }
    }
  }
}

.packet-structures {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 20px;
}

.packet {
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: @card-shadow;

  h3 {
    color: @primary-color;
    margin-bottom: 15px;
    text-align: center;
  }
}

.packet-diagram {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-bottom: 20px;

  .field {
    padding: 12px;
    background: #f1f3f4;
    border: 1px solid @border-color;
    border-radius: 4px;
    font-size: 0.9rem;
    text-align: center;
  }

  &.udp-diagram .field {
    background: fade(@udp-color, 10%);
    border-color: fade(@udp-color, 30%);
  }
}

.flags-details {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 15px;

  h4 {
    color: @primary-color;
    margin-bottom: 10px;
    text-align: center;
  }
}

.flag-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;

  .flag {
    background: white;
    border-radius: 4px;
    padding: 10px;
    border: 1px solid @border-color;
    display: flex;
    flex-direction: column;
    align-items: center;

    .flag-name {
      font-weight: bold;
      margin-bottom: 5px;
      color: @primary-color;
    }

    .flag-desc {
      font-size: 0.8rem;
      text-align: center;
      color: #5f6368;
    }
  }
}

.footer {
  text-align: center;
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid @border-color;
  color: #5f6368;
  font-style: italic;
}

@media (max-width: 1100px) {
  .content-wrapper {
    flex-direction: column;
  }
}

@media (max-width: 768px) {
  .protocol-intro,
  .use-cases,
  .packet-structures,
  .protocol-visual {
    grid-template-columns: 1fr;
  }

  .comparison-row {
    flex-direction: column;

    .feature,
    .tcp,
    .udp {
      width: 100%;
    }

    .tcp,
    .udp {
      border-left: none;
      border-top: 1px solid @border-color;
    }
  }
}
</style>
