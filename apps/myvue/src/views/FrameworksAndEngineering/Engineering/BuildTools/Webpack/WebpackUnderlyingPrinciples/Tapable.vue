<template>
  <div class="tapable-container">
    <div class="header">
      <h1>Tapable æ ¸å¿ƒæœºåˆ¶åŸºç¡€ä»‹ç»</h1>
      <p class="subtitle">Webpack æ’ä»¶ç³»ç»Ÿçš„åº•å±‚äº‹ä»¶æµæ§åˆ¶åº“</p>
    </div>

    <div class="content">
      <section class="intro-section">
        <h2><span class="icon">ğŸ”Œ</span> ä»€ä¹ˆæ˜¯ Tapable</h2>
        <div class="intro-content">
          <div class="definition-card">
            <p>Tapable æ˜¯ä¸€ä¸ªå°å‹ JavaScript åº“ï¼Œç”¨äºåˆ›å»ºå’Œç®¡ç†äº‹ä»¶é©±åŠ¨çš„é’©å­ç³»ç»Ÿã€‚å®ƒæ˜¯ Webpack æ’ä»¶æ¶æ„çš„æ ¸å¿ƒåŸºç¡€ï¼Œæä¾›äº†ä¸€å¥—å¼ºå¤§çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚</p>
            <div class="key-points">
              <div class="point">
                <div class="point-icon">âš™ï¸</div>
                <div class="point-content">
                  <h3>æ ¸å¿ƒåŠŸèƒ½</h3>
                  <p>äº‹ä»¶é’©å­çš„åˆ›å»ºã€ç®¡ç†å’Œè§¦å‘</p>
                </div>
              </div>
              <div class="point">
                <div class="point-icon">ğŸ”—</div>
                <div class="point-content">
                  <h3>ä¸»è¦åº”ç”¨</h3>
                  <p>Webpack æ’ä»¶ç³»ç»Ÿçš„åŸºç¡€æ¶æ„</p>
                </div>
              </div>
              <div class="point">
                <div class="point-icon">ğŸ“¦</div>
                <div class="point-content">
                  <h3>è®¾è®¡ç†å¿µ</h3>
                  <p>æä¾›çµæ´»çš„äº‹ä»¶æµæ§åˆ¶æœºåˆ¶</p>
                </div>
              </div>
            </div>
          </div>

          <div class="architecture">
            <h3>Tapable åœ¨ Webpack ä¸­çš„ä½ç½®</h3>
            <div class="architecture-diagram">
              <div class="layer">
                <div class="layer-label">Webpack æ ¸å¿ƒ</div>
                <div class="layer-items">
                  <div class="item">Compiler</div>
                  <div class="item">Compilation</div>
                  <div class="item">Module Factory</div>
                </div>
              </div>
              <div class="connector">â†“</div>
              <div class="layer highlight">
                <div class="layer-label">Tapable é’©å­ç³»ç»Ÿ</div>
                <div class="layer-items">
                  <div class="item">SyncHook</div>
                  <div class="item">AsyncParallelHook</div>
                  <div class="item">AsyncSeriesHook</div>
                </div>
              </div>
              <div class="connector">â†“</div>
              <div class="layer">
                <div class="layer-label">æ’ä»¶ç³»ç»Ÿ</div>
                <div class="layer-items">
                  <div class="item">è‡ªå®šä¹‰æ’ä»¶</div>
                  <div class="item">ç¬¬ä¸‰æ–¹æ’ä»¶</div>
                  <div class="item">ç”Ÿå‘½å‘¨æœŸé’©å­</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="hook-types-section">
        <h2><span class="icon">ğŸ§©</span> Tapable é’©å­ç±»å‹</h2>
        <div class="hook-types-grid">
          <div class="hook-card sync">
            <div class="hook-header">
              <h3>åŒæ­¥é’©å­</h3>
              <div class="hook-icon">â±ï¸</div>
            </div>
            <ul>
              <li><strong>SyncHook</strong> - åŸºæœ¬åŒæ­¥é’©å­</li>
              <li><strong>SyncBailHook</strong> - ç†”æ–­æœºåˆ¶é’©å­</li>
              <li><strong>SyncWaterfallHook</strong> - ç€‘å¸ƒæµé’©å­</li>
              <li><strong>SyncLoopHook</strong> - å¾ªç¯æ‰§è¡Œé’©å­</li>
            </ul>
          </div>

          <div class="hook-card async">
            <div class="hook-header">
              <h3>å¼‚æ­¥é’©å­</h3>
              <div class="hook-icon">ğŸŒ€</div>
            </div>
            <ul>
              <li><strong>AsyncParallelHook</strong> - å¹¶è¡Œæ‰§è¡Œé’©å­</li>
              <li><strong>AsyncParallelBailHook</strong> - å¹¶è¡Œç†”æ–­é’©å­</li>
              <li><strong>AsyncSeriesHook</strong> - ä¸²è¡Œæ‰§è¡Œé’©å­</li>
              <li><strong>AsyncSeriesBailHook</strong> - ä¸²è¡Œç†”æ–­é’©å­</li>
              <li><strong>AsyncSeriesWaterfallHook</strong> - ä¸²è¡Œç€‘å¸ƒæµé’©å­</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="api-section">
        <h2><span class="icon">ğŸ”§</span> æ ¸å¿ƒ API ä¸ä½¿ç”¨æ–¹æ³•</h2>

        <div class="api-grid">
          <div class="api-card">
            <h3>åˆ›å»ºé’©å­</h3>
            <pre class="code">const { SyncHook, AsyncSeriesHook } = require('tapable');

// åˆ›å»ºåŒæ­¥é’©å­
const hook = new SyncHook(['arg1', 'arg2']);

// åˆ›å»ºå¼‚æ­¥ä¸²è¡Œé’©å­
const asyncHook = new AsyncSeriesHook(['data']);</pre>
          </div>

          <div class="api-card">
            <h3>æ³¨å†Œäº‹ä»¶</h3>
            <pre class="code">// åŒæ­¥æ³¨å†Œ
hook.tap('PluginName', (arg1, arg2) => {
  console.log('åŒæ­¥äº‹ä»¶è§¦å‘', arg1, arg2);
});

// å¼‚æ­¥æ³¨å†Œ (Promise)
asyncHook.tapPromise('PluginName', (data) => {
  return new Promise((resolve) => {
    setTimeout(() => {
      console.log('å¼‚æ­¥äº‹ä»¶å®Œæˆ', data);
      resolve();
    }, 1000);
  });
});

// å¼‚æ­¥æ³¨å†Œ (Callback)
asyncHook.tapAsync('PluginName', (data, callback) => {
  setTimeout(() => {
    console.log('å›è°ƒå¼å¼‚æ­¥äº‹ä»¶', data);
    callback();
  }, 500);
});</pre>
          </div>

          <div class="api-card">
            <h3>è§¦å‘äº‹ä»¶</h3>
            <pre class="code">// è§¦å‘åŒæ­¥é’©å­
hook.call('å‚æ•°1', 'å‚æ•°2');

// è§¦å‘å¼‚æ­¥é’©å­ (Promise)
asyncHook.promise({ id: 1 }).then(() => {
  console.log('æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡å®Œæˆ');
});

// è§¦å‘å¼‚æ­¥é’©å­ (Callback)
asyncHook.callAsync({ id: 2 }, (err) => {
  if (err) console.error(err);
  else console.log('å›è°ƒå¼ä»»åŠ¡å®Œæˆ');
});</pre>
          </div>

          <div class="api-card">
            <h3>æ‹¦æˆªå™¨ API</h3>
            <pre class="code">// æ³¨å†Œæ‹¦æˆªå™¨
hook.intercept({
  // æ¯æ¬¡æ³¨å†Œäº‹ä»¶æ—¶è§¦å‘
  register: (tapInfo) => {
    console.log(`æ³¨å†Œäº‹ä»¶: ${tapInfo.name}`);
    return tapInfo;
  },

  // äº‹ä»¶è§¦å‘å‰
  call: (...args) => {
    console.log('äº‹ä»¶å³å°†è§¦å‘', args);
  },

  // æ¯ä¸ªäº‹ä»¶æ‰§è¡Œå‰
  tap: (tap) => {
    console.log(`å³å°†æ‰§è¡Œäº‹ä»¶: ${tap.name}`);
  }
});</pre>
          </div>
        </div>
      </section>

      <section class="hook-behavior-section">
        <h2><span class="icon">ğŸ“Š</span> é’©å­è¡Œä¸ºæ¨¡å¼</h2>
        <div class="behavior-grid">
          <div class="behavior-card">
            <h3>SyncBailHook è¡Œä¸º</h3>
            <div class="behavior-diagram">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">è°ƒç”¨ call() æ–¹æ³•</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">é¡ºåºæ‰§è¡Œæ³¨å†Œå‡½æ•°</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step condition">
                <div class="step-number">?</div>
                <div class="step-content">å‡½æ•°è¿”å›é undefined</div>
              </div>
              <div class="arrow yes">æ˜¯ â†’</div>
              <div class="step stop">
                <div class="step-number">âœ‹</div>
                <div class="step-content">åœæ­¢åç»­æ‰§è¡Œ</div>
              </div>
              <div class="arrow no">â†“ å¦</div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå‡½æ•°</div>
              </div>
            </div>
          </div>

          <div class="behavior-card">
            <h3>AsyncSeriesHook è¡Œä¸º</h3>
            <div class="behavior-diagram">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">è°ƒç”¨ promise() æ–¹æ³•</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">æ‰§è¡Œç¬¬ä¸€ä¸ªå¼‚æ­¥å‡½æ•°</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">ç­‰å¾…å®Œæˆ/è§£æ</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">æ‰§è¡Œä¸‹ä¸€ä¸ªå¼‚æ­¥å‡½æ•°</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">...</div>
                <div class="step-content">ç›´åˆ°æ‰€æœ‰å‡½æ•°å®Œæˆ</div>
              </div>
            </div>
          </div>

          <div class="behavior-card">
            <h3>SyncWaterfallHook è¡Œä¸º</h3>
            <div class="behavior-diagram">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">åˆå§‹å‚æ•°: value</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">å‡½æ•°1å¤„ç† value</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">è¿”å›æ–°å€¼ value1</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">å‡½æ•°2å¤„ç† value1</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">è¿”å›æ–°å€¼ value2</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="step">
                <div class="step-number">...</div>
                <div class="step-content">ä¼ é€’åˆ°æœ€åå‡½æ•°</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="use-cases-section">
        <h2><span class="icon">ğŸš€</span> ä½¿ç”¨åœºæ™¯</h2>
        <div class="use-case-grid">
          <div class="use-case-card">
            <div class="case-header">
              <div class="case-icon">ğŸ› ï¸</div>
              <h3>Webpack æ’ä»¶ç³»ç»Ÿ</h3>
            </div>
            <div class="case-content">
              <p>Webpack çš„æ ¸å¿ƒå¯¹è±¡ï¼ˆCompiler, Compilationï¼‰éƒ½æ‰©å±•è‡ª Tapableï¼Œæä¾›äº†å¤§é‡çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š</p>
              <ul>
                <li><code>compiler.hooks.compile</code> - ç¼–è¯‘å¼€å§‹å‰</li>
                <li><code>compiler.hooks.emit</code> - ç”Ÿæˆèµ„æºåˆ° output å‰</li>
                <li><code>compilation.hooks.optimizeChunks</code> - ä¼˜åŒ– chunks æ—¶</li>
              </ul>
            </div>
          </div>

          <div class="use-case-card">
            <div class="case-header">
              <div class="case-icon">ğŸ§©</div>
              <h3>è‡ªå®šä¹‰æ’ä»¶å¼€å‘</h3>
            </div>
            <div class="case-content">
              <p>ä½¿ç”¨ Tapable åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶ç³»ç»Ÿï¼š</p>
              <pre class="inline-code">class MyPluginSystem {
  constructor() {
    this.hooks = {
      beforeProcess: new AsyncSeriesHook(['data']),
      process: new SyncHook(['data']),
      afterProcess: new AsyncParallelHook(['result'])
    };
  }

  process(data) {
    this.hooks.beforeProcess.promise(data)
      .then(() => {
        this.hooks.process.call(data);
        return this.hooks.afterProcess.promise(data);
      });
  }
}</pre>
            </div>
          </div>

          <div class="use-case-card">
            <div class="case-header">
              <div class="case-icon">ğŸ”Œ</div>
              <h3>ä¸­é—´ä»¶æ¶æ„</h3>
            </div>
            <div class="case-content">
              <p>æ„å»ºç±»ä¼¼ Koa/Express çš„ä¸­é—´ä»¶ç³»ç»Ÿï¼š</p>
              <pre class="inline-code">class MiddlewareRunner {
  constructor() {
    this.hooks = new AsyncSeriesWaterfallHook(['ctx']);
  }

  use(fn) {
    this.hooks.tapPromise('middleware', async (ctx) => {
      await fn(ctx);
      return ctx;
    });
  }

  async run(ctx) {
    return this.hooks.promise(ctx);
  }
}</pre>
            </div>
          </div>

          <div class="use-case-card">
            <div class="case-header">
              <div class="case-icon">ğŸ”„</div>
              <h3>å·¥ä½œæµå¼•æ“</h3>
            </div>
            <div class="case-content">
              <p>åˆ›å»ºå¤æ‚çš„å¼‚æ­¥å·¥ä½œæµç¨‹ï¼š</p>
              <pre class="inline-code">class Workflow {
  constructor() {
    this.hooks = {
      validate: new AsyncSeriesBailHook(['data']),
      process: new AsyncParallelHook(['data']),
      notify: new AsyncSeriesHook(['result'])
    };
  }

  async execute(data) {
    const valid = await this.hooks.validate.promise(data);
    if (!valid) throw new Error('éªŒè¯å¤±è´¥');

    await this.hooks.process.promise(data);
    await this.hooks.notify.promise({ success: true });
  }
}</pre>
            </div>
          </div>
        </div>
      </section>

      <section class="best-practices">
        <h2><span class="icon">ğŸ’¡</span> æœ€ä½³å®è·µ</h2>
        <div class="practices-grid">
          <div class="practice-card">
            <h3>é’©å­å‘½åè§„èŒƒ</h3>
            <ul>
              <li>ä½¿ç”¨ camelCase å‘½åé’©å­</li>
              <li>å‰ç¼€è¡¨ç¤ºæ—¶æœºï¼šbeforeXxx, afterXxx</li>
              <li>åç¼€è¡¨ç¤ºç±»å‹ï¼šXxxHook</li>
              <li>æ˜ç¡®å‚æ•°ï¼šnew SyncHook(['module', 'source'])</li>
            </ul>
          </div>

          <div class="practice-card">
            <h3>æ€§èƒ½ä¼˜åŒ–</h3>
            <ul>
              <li>é¿å…åœ¨çƒ­è·¯å¾„ä¸­ä½¿ç”¨åŒæ­¥é’©å­</li>
              <li>åˆç†ä½¿ç”¨ç†”æ–­é’©å­æå‰ç»ˆæ­¢æµç¨‹</li>
              <li>å¯¹äºç‹¬ç«‹ä»»åŠ¡ä½¿ç”¨å¹¶è¡Œé’©å­</li>
              <li>å‡å°‘ä¸å¿…è¦çš„æ‹¦æˆªå™¨ä½¿ç”¨</li>
            </ul>
          </div>

          <div class="practice-card">
            <h3>é”™è¯¯å¤„ç†</h3>
            <ul>
              <li>å¼‚æ­¥é’©å­ä¸­ä½¿ç”¨ reject ä¼ é€’é”™è¯¯</li>
              <li>SyncBailHook ä¸­è¿”å› Error å¯¹è±¡ç†”æ–­</li>
              <li>ä½¿ç”¨ try/catch åŒ…è£¹åŒæ­¥é’©å­è°ƒç”¨</li>
              <li>æä¾›å…¨å±€é”™è¯¯å¤„ç†æ‹¦æˆªå™¨</li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <div class="footer">
      <p>Tapable å®˜æ–¹ä»“åº“: <a href="https://github.com/webpack/tapable"
          target="_blank">https://github.com/webpack/tapable</a></p>
      <p>ç‰ˆæœ¬: 2.2.1 | Webpack æ ¸å¿ƒäº‹ä»¶æµåº“</p>
    </div>
  </div>
</template>

<script setup lang="ts">
// æ­¤ç»„ä»¶ä»…ç”¨äºå±•ç¤ºï¼Œæ— é€»è¾‘ä»£ç 
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

.tapable-container {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
  color: #2c3e50;
  background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f5 100%);
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.07);
  line-height: 1.6;

  .header {
    text-align: center;
    margin-bottom: 2.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #e9ecef;

    h1 {
      font-size: 2.4rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #3498db, #2c3e50);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .subtitle {
      font-size: 1.15rem;
      color: #7f8c8d;
      font-weight: 400;
      max-width: 700px;
      margin: 0 auto;
    }
  }

  .content {
    background: white;
    border-radius: 12px;
    padding: 2.5rem;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.04);
  }

  section {
    margin-bottom: 3.5rem;

    h2 {
      font-size: 1.7rem;
      color: #3498db;
      margin-bottom: 1.8rem;
      padding-bottom: 0.8rem;
      border-bottom: 2px solid #e0f7fa;
      display: flex;
      align-items: center;

      .icon {
        margin-right: 12px;
        font-size: 1.4rem;
      }
    }
  }

  .intro-section {
    .intro-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;

      @media (max-width: 900px) {
        grid-template-columns: 1fr;
      }

      .definition-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.8rem;
        border: 1px solid #e2e8f0;

        p {
          font-size: 1.05rem;
          line-height: 1.7;
          color: #4a5568;
          margin-bottom: 1.5rem;
        }

        .key-points {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 1.2rem;

          .point {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);

            .point-icon {
              font-size: 1.8rem;
              margin-right: 1rem;
              color: #3498db;
            }

            .point-content {
              h3 {
                font-size: 1.1rem;
                margin: 0 0 0.3rem 0;
                color: #2c3e50;
              }

              p {
                font-size: 0.9rem;
                margin: 0;
                color: #718096;
              }
            }
          }
        }
      }

      .architecture {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.8rem;
        border: 1px solid #e2e8f0;

        h3 {
          font-size: 1.25rem;
          color: #2c3e50;
          margin-top: 0;
          margin-bottom: 1.5rem;
          text-align: center;
        }

        .architecture-diagram {
          display: flex;
          flex-direction: column;
          align-items: center;

          .layer {
            width: 80%;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            padding: 1.2rem;
            margin-bottom: 1rem;
            text-align: center;
            background: white;

            &.highlight {
              background: #e3f2fd;
              border-color: #3498db;
              border-width: 2px;
            }

            .layer-label {
              font-weight: 600;
              margin-bottom: 0.8rem;
              font-size: 1.1rem;
            }

            .layer-items {
              display: flex;
              justify-content: center;
              flex-wrap: wrap;
              gap: 0.8rem;

              .item {
                background: #edf2f7;
                padding: 0.5rem 1rem;
                border-radius: 4px;
                font-size: 0.9rem;
              }
            }
          }

          .connector {
            padding: 0.5rem;
            font-size: 1.5rem;
            color: #a0aec0;
          }
        }
      }
    }
  }

  .hook-types-section {
    .hook-types-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 1.8rem;

      .hook-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.8rem;
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;

        &:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 15px rgba(0, 0, 0, 0.05);
        }

        &.sync {
          border-top: 4px solid #3498db;
        }

        &.async {
          border-top: 4px solid #9b59b6;
        }

        .hook-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.2rem;

          h3 {
            font-size: 1.3rem;
            margin: 0;
            color: #2c3e50;
          }

          .hook-icon {
            font-size: 2rem;
          }
        }

        ul {
          padding-left: 1.2rem;
          margin: 0;

          li {
            margin-bottom: 0.8rem;
            color: #4a5568;
            font-size: 1rem;
            line-height: 1.5;

            strong {
              color: #3498db;
            }
          }
        }
      }
    }
  }

  .api-section {
    .api-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 1.8rem;

      .api-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;

        h3 {
          font-size: 1.2rem;
          color: #2c3e50;
          margin-top: 0;
          margin-bottom: 1rem;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid #e2e8f0;
        }

        .code {
          background: #2d3748;
          color: #e2e8f0;
          border-radius: 8px;
          padding: 1.2rem;
          font-family: 'Fira Code', monospace;
          font-size: 0.9rem;
          overflow-x: auto;
          line-height: 1.6;
        }
      }
    }
  }

  .hook-behavior-section {
    .behavior-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.8rem;

      .behavior-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;

        h3 {
          font-size: 1.2rem;
          color: #2c3e50;
          margin-top: 0;
          margin-bottom: 1.2rem;
          text-align: center;
        }

        .behavior-diagram {
          display: flex;
          justify-content: center;
          align-items: center;
          flex-wrap: wrap;

          .step {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 1rem;
            min-width: 100px;
            text-align: center;
            margin: 0.5rem;

            .step-number {
              font-weight: bold;
              font-size: 1.2rem;
              margin-bottom: 0.5rem;
            }

            .step-content {
              font-size: 0.85rem;
            }

            &.condition {
              background: #fff8e1;
              border-color: #ffecb3;
            }

            &.stop {
              background: #ffebee;
              border-color: #ffcdd2;
            }
          }

          .arrow {
            font-size: 1.5rem;
            color: #a0aec0;
            padding: 0 0.5rem;

            &.yes {
              color: #4caf50;
            }

            &.no {
              color: #f44336;
            }
          }
        }
      }
    }
  }

  .use-cases-section {
    .use-case-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 1.8rem;

      .use-case-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;

        &:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 15px rgba(0, 0, 0, 0.05);
        }

        .case-header {
          display: flex;
          align-items: center;
          margin-bottom: 1rem;

          .case-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: #3498db;
          }

          h3 {
            font-size: 1.3rem;
            margin: 0;
            color: #2c3e50;
          }
        }

        .case-content {
          p {
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
          }

          ul {
            padding-left: 1.2rem;
            margin: 0;

            li {
              margin-bottom: 0.6rem;
              color: #4a5568;
              font-size: 0.95rem;
              line-height: 1.5;

              code {
                background: #edf2f7;
                padding: 0.2rem 0.4rem;
                border-radius: 4px;
                font-family: 'Fira Code', monospace;
                font-size: 0.85rem;
              }
            }
          }

          .inline-code {
            background: #2d3748;
            color: #e2e8f0;
            border-radius: 6px;
            padding: 1rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            display: block;
            margin-top: 0.8rem;
          }
        }
      }
    }
  }

  .best-practices {
    .practices-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.8rem;

      .practice-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e2e8f0;

        h3 {
          font-size: 1.2rem;
          color: #2c3e50;
          margin-top: 0;
          margin-bottom: 1rem;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid #e2e8f0;
        }

        ul {
          padding-left: 1.2rem;
          margin: 0;

          li {
            margin-bottom: 0.7rem;
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.5;
          }
        }
      }
    }
  }

  .footer {
    text-align: center;
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e9ecef;
    color: #718096;
    font-size: 0.95rem;

    a {
      color: #3498db;
      text-decoration: none;

      &:hover {
        text-decoration: underline;
      }
    }
  }

  @media (max-width: 768px) {
    padding: 1.2rem;

    .header {
      h1 {
        font-size: 1.9rem;
      }
    }

    .content {
      padding: 1.8rem;
    }

    section {
      margin-bottom: 2.5rem;
    }

    .api-grid,
    .hook-types-grid,
    .behavior-grid,
    .use-case-grid,
    .practices-grid {
      grid-template-columns: 1fr;
      gap: 1.2rem;
    }
  }
}
</style>
