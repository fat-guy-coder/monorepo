<template>
  <div class="webpack-implementation">
    <div class="hero-section">
      <div class="hero-content">
        <h1>Webpack æ ¸å¿ƒå®ç°åŸç†</h1>
        <p>æ·±å…¥ç†è§£ç°ä»£å‰ç«¯æ„å»ºå·¥å…·çš„åº•å±‚æœºåˆ¶</p>
        <div class="hero-stats">
          <div class="stat">
            <div class="number">2000+</div>
            <div class="label">å¼€æºæ’ä»¶</div>
          </div>
          <div class="stat">
            <div class="number">80%+</div>
            <div class="label">ç°ä»£é¡¹ç›®ä½¿ç”¨ç‡</div>
          </div>
          <div class="stat">
            <div class="number">10M+</div>
            <div class="label">å‘¨ä¸‹è½½é‡</div>
          </div>
        </div>
      </div>
      <div class="hero-visual">
        <div class="webpack-logo">
          <div class="cube">
            <div class="face top"></div>
            <div class="face left"></div>
            <div class="face right"></div>
          </div>
          <div class="logo-text">Webpack</div>
        </div>
      </div>
    </div>

    <div class="content-container">
      <div class="section core-concepts">
        <h2 class="section-title">
          <span class="icon">ğŸ§ </span> Webpack æ ¸å¿ƒæ€æƒ³
        </h2>

        <div class="concepts-grid">
          <div class="concept-card" v-for="(concept, idx) in coreConcepts" :key="idx">
            <div class="concept-icon">{{ concept.icon }}</div>
            <h3>{{ concept.title }}</h3>
            <p>{{ concept.description }}</p>
            <div class="concept-visual" v-if="concept.visual">
              <div class="visual-item" v-for="(item, i) in concept.visual" :key="i">
                {{ item }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="section workflow">
        <h2 class="section-title">
          <span class="icon">ğŸ”„</span> Webpack å·¥ä½œæµç¨‹
        </h2>

        <div class="workflow-steps">
          <div class="step" v-for="(step, idx) in workflowSteps" :key="idx">
            <div class="step-header">
              <div class="step-number">{{ idx + 1 }}</div>
              <h3>{{ step.title }}</h3>
            </div>
            <div class="step-content">
              <p>{{ step.description }}</p>
              <div class="step-hooks" v-if="step.hooks">
                <div class="hook" v-for="(hook, hIdx) in step.hooks" :key="hIdx">
                  {{ hook }}
                </div>
              </div>
              <div class="step-code" v-if="step.code">
                <pre><code class="language-javascript">{{ step.code }}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div class="module-graph">
          <h3>æ¨¡å—ä¾èµ–å›¾è§£æ</h3>
          <div class="graph-container">
            <div class="entry">å…¥å£æ–‡ä»¶<br><span>index.js</span></div>
            <div class="dependencies">
              <div class="module" v-for="(mod, idx) in modules" :key="idx">
                <div class="module-name">{{ mod.name }}</div>
                <div class="module-deps">
                  <div class="dep" v-for="(dep, dIdx) in mod.deps" :key="dIdx">
                    {{ dep }}
                  </div>
                </div>
              </div>
            </div>
            <div class="chunks">
              <div class="chunk">ä¸» chunk</div>
              <div class="chunk">å¼‚æ­¥ chunk</div>
            </div>
            <div class="bundle">è¾“å‡º bundle.js</div>
          </div>
        </div>
      </div>

      <div class="section compilation">
        <h2 class="section-title">
          <span class="icon">âš™ï¸</span> ç¼–è¯‘è¿‡ç¨‹åŸºç¡€ä»‹ç»
        </h2>

        <div class="compilation-process">
          <div class="process-column">
            <h3>æ¨¡å—è§£æ</h3>
            <div class="process-card">
              <h4>æ–‡ä»¶ç³»ç»Ÿè§£æ</h4>
              <p>Webpack æ ¹æ®é…ç½®çš„å…¥å£æ–‡ä»¶å¼€å§‹è§£æï¼Œä½¿ç”¨ enhanced-resolve åº“å¤„ç†æ¨¡å—è·¯å¾„</p>
              <pre><code class="language-javascript">resolve: {
  extensions: ['.js', '.jsx', '.ts'],
  modules: ['node_modules'],
  alias: {
    '@': path.resolve(__dirname, 'src')
  }
}</code></pre>
            </div>

            <div class="process-card">
              <h4>Loader å¤„ç†é“¾</h4>
              <p>åŒ¹é…æ–‡ä»¶ç±»å‹åï¼ŒæŒ‰é…ç½®é¡ºåºåº”ç”¨ loader è¿›è¡Œå¤„ç†</p>
              <pre><code class="language-javascript">module: {
  rules: [
    {
      test: /\.js$/,
      use: ['babel-loader']
    },
    {
      test: /\.css$/,
      use: ['style-loader', 'css-loader']
    }
  ]
}</code></pre>
            </div>
          </div>

          <div class="process-column">
            <h3>æŠ½è±¡è¯­æ³•æ ‘</h3>
            <div class="process-card">
              <h4>AST è½¬æ¢</h4>
              <p>ä½¿ç”¨ acorn è§£æ JavaScript ç”Ÿæˆ ASTï¼Œé€šè¿‡éå† AST åˆ†æä¾èµ–å…³ç³»</p>
              <div class="ast-example">
                <div class="ast-code">
                  <pre><code class="language-javascript">// åŸå§‹ä»£ç 
import Header from './Header';
const button = document.createElement('button');</code></pre>
                </div>
                <div class="ast-arrow">â‡’</div>
                <div class="ast-visual">
                  <div class="ast-node">ImportDeclaration</div>
                  <div class="ast-node">VariableDeclaration</div>
                </div>
              </div>
            </div>

            <div class="process-card">
              <h4>ä¾èµ–æ”¶é›†</h4>
              <p>åœ¨ AST ä¸­è¯†åˆ« import/require è¯­å¥ï¼Œæ”¶é›†æ¨¡å—ä¾èµ–</p>
              <pre><code class="language-javascript">// æ”¶é›†åˆ°çš„ä¾èµ–
[
  './Header.js',
  'react'
]</code></pre>
            </div>
          </div>

          <div class="process-column">
            <h3>ä»£ç ç”Ÿæˆ</h3>
            <div class="process-card">
              <h4>æ¨¡å—å°è£…</h4>
              <p>Webpack ä½¿ç”¨å‡½æ•°å°è£…æ¯ä¸ªæ¨¡å—ï¼Œå®ç°ä½œç”¨åŸŸéš”ç¦»</p>
              <pre><code class="language-javascript">/******/ (function(module, exports, __webpack_require__) {

  // æ¨¡å—ä»£ç 
  const Header = __webpack_require__(/*! ./Header */ "./src/Header.js");

/******/ });</code></pre>
            </div>

            <div class="process-card">
              <h4>è¿è¡Œæ—¶æ³¨å…¥</h4>
              <p>æ·»åŠ æ¨¡å—åŠ è½½ã€ç¼“å­˜ç­‰è¿è¡Œæ—¶é€»è¾‘</p>
              <pre><code class="language-javascript">// Webpack è¿è¡Œæ—¶
var __webpack_modules__ = ({});
var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  // æ£€æŸ¥ç¼“å­˜
  if (__webpack_module_cache__[moduleId]) {
    return __webpack_module_cache__[moduleId].exports;
  }
  // åˆ›å»ºæ–°æ¨¡å—å¹¶ç¼“å­˜
  var module = {
    exports: {}
  };
  __webpack_module_cache__[moduleId] = module;
  // æ‰§è¡Œæ¨¡å—å‡½æ•°
  __webpack_modules__[moduleId](module, exports, __webpack_require__);
  return module.exports;
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <div class="section tapable-system">
        <h2 class="section-title">
          <span class="icon">ğŸ”Œ</span> Tapable æ’ä»¶ç³»ç»Ÿ
        </h2>

        <div class="tapable-explanation">
          <div class="tapable-card">
            <h3>äº‹ä»¶é©±åŠ¨æ¶æ„</h3>
            <p>Webpack åŸºäº Tapable åº“å®ç°äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶ï¼Œåœ¨æ•´ä¸ªæ„å»ºç”Ÿå‘½å‘¨æœŸä¸­æš´éœ²äº†æ•°ç™¾ä¸ªé’©å­</p>
            <div class="hook-types">
              <div class="hook-type">
                <h4>åŒæ­¥é’©å­</h4>
                <ul>
                  <li>SyncHook</li>
                  <li>SyncBailHook</li>
                  <li>SyncWaterfallHook</li>
                </ul>
              </div>
              <div class="hook-type">
                <h4>å¼‚æ­¥é’©å­</h4>
                <ul>
                  <li>AsyncParallelHook</li>
                  <li>AsyncSeriesHook</li>
                  <li>AsyncSeriesWaterfallHook</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="tapable-card">
            <h3>æ’ä»¶å®ç°æœºåˆ¶</h3>
            <p>æ’ä»¶é€šè¿‡ tap æ–¹æ³•è®¢é˜…ç‰¹å®šç”Ÿå‘½å‘¨æœŸäº‹ä»¶</p>
            <pre><code class="language-javascript">class MyPlugin {
  apply(compiler) {
    compiler.hooks.emit.tap('MyPlugin', compilation => {
      // åœ¨ç”Ÿæˆèµ„æºåˆ°è¾“å‡ºç›®å½•å‰æ‰§è¡Œ
      console.log('å‡†å¤‡ç”Ÿæˆæ–‡ä»¶...');
    });
  }
}</code></pre>
          </div>

          <div class="tapable-card">
            <h3>æ’ä»¶æ‰§è¡Œæµç¨‹</h3>
            <div class="plugin-flow">
              <div class="flow-step">
                <div class="step-number">1</div>
                <p>Webpack åˆ›å»º compiler å®ä¾‹</p>
              </div>
              <div class="flow-step">
                <div class="step-number">2</div>
                <p>åŠ è½½é…ç½®ä¸­çš„æ’ä»¶ï¼Œè°ƒç”¨ apply æ–¹æ³•</p>
              </div>
              <div class="flow-step">
                <div class="step-number">3</div>
                <p>æ’ä»¶æ³¨å†Œé’©å­ç›‘å¬å™¨</p>
              </div>
              <div class="flow-step">
                <div class="step-number">4</div>
                <p>æ„å»ºè¿‡ç¨‹ä¸­è§¦å‘å¯¹åº”é’©å­</p>
              </div>
              <div class="flow-step">
                <div class="step-number">5</div>
                <p>æ‰§è¡Œæ’ä»¶æ³¨å†Œçš„å›è°ƒå‡½æ•°</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="section bundle-analysis">
        <h2 class="section-title">
          <span class="icon">ğŸ“Š</span> Bundle åˆ†æ
        </h2>

        <div class="bundle-content">
          <div class="bundle-stats">
            <h3>å…¸å‹ Bundle ç»“æ„</h3>
            <div class="bundle-chart">
              <div class="chart-item" style="width: 40%; background: #3498db;">
                <div class="chart-label">åº”ç”¨ä»£ç  (40%)</div>
              </div>
              <div class="chart-item" style="width: 35%; background: #2ecc71;">
                <div class="chart-label">ä¾èµ–åº“ (35%)</div>
              </div>
              <div class="chart-item" style="width: 15%; background: #e74c3c;">
                <div class="chart-label">Webpack è¿è¡Œæ—¶ (15%)</div>
              </div>
              <div class="chart-item" style="width: 10%; background: #f39c12;">
                <div class="chart-label">æ¨¡å—æ˜ å°„ (10%)</div>
              </div>
            </div>
          </div>

          <div class="bundle-code">
            <h3>ç”Ÿæˆä»£ç ç»“æ„</h3>
            <pre><code class="language-javascript">(function(modules) { // webpackBootstrap
  // æ¨¡å—ç¼“å­˜
  var installedModules = {};

  // require å‡½æ•°
  function __webpack_require__(moduleId) {
    // ...æ¨¡å—åŠ è½½é€»è¾‘
  }

  // å…¥å£æ¨¡å—æ‰§è¡Œ
  return __webpack_require__(__webpack_require__.s = "./src/index.js");
})
({
  "./src/index.js": (function(module, exports, __webpack_require__) {
    // æ¨¡å—ä»£ç 
  }),
  "./src/Header.js": (function(module, exports, __webpack_require__) {
    // æ¨¡å—ä»£ç 
  }),
  "react": (function(module, exports) {
    // æ¨¡å—ä»£ç 
  })
});</code></pre>
          </div>
        </div>
      </div>

      <div class="section evolution">
        <h2 class="section-title">
          <span class="icon">ğŸš€</span> Webpack çš„æ¼”è¿›
        </h2>

        <div class="timeline">
          <div class="timeline-item" v-for="(item, idx) in timeline" :key="idx">
            <div class="timeline-year">{{ item.year }}</div>
            <div class="timeline-content">
              <h3>{{ item.title }}</h3>
              <p>{{ item.description }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>æ·±å…¥ç†è§£ Webpack çš„å®ç°åŸç†ï¼Œæœ‰åŠ©äºå¼€å‘æ›´é«˜æ•ˆçš„å‰ç«¯æ„å»ºæµç¨‹å’Œå®šåˆ¶åŒ–æ’ä»¶</p>
      <div class="footer-links">
        <a href="#">Webpack æºç </a>
        <a href="#">Tapable æ–‡æ¡£</a>
        <a href="#">é«˜çº§ä¼˜åŒ–æŒ‡å—</a>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// æ ¸å¿ƒæ¦‚å¿µ
const coreConcepts = ref([
  {
    icon: 'ğŸ“¦',
    title: 'ä¸€åˆ‡çš†æ¨¡å—',
    description: 'Webpack å°†æ‰€æœ‰èµ„æºï¼ˆJSã€CSSã€å›¾ç‰‡ç­‰ï¼‰è§†ä¸ºæ¨¡å—ï¼Œç»Ÿä¸€å¤„ç†ä¾èµ–å…³ç³»',
    visual: ['JS', 'CSS', 'PNG', 'SVG', 'FONT']
  },
  {
    icon: 'ğŸ§©',
    title: 'ä¾èµ–å›¾è°±',
    description: 'ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œé€’å½’æ„å»ºæ¨¡å—ä¾èµ–å›¾ï¼Œæè¿°æ‰€æœ‰èµ„æºçš„ä¾èµ–å…³ç³»',
    visual: ['å…¥å£', 'æ¨¡å—', 'ä¾èµ–', 'ä¾èµ–', 'ä¾èµ–']
  },
  {
    icon: 'ğŸ—ï¸',
    title: 'å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿ',
    description: 'åŸºäº Tapable çš„æ’ä»¶æ¶æ„ï¼Œå…è®¸åœ¨ç¼–è¯‘ç”Ÿå‘½å‘¨æœŸä¸­æ³¨å…¥è‡ªå®šä¹‰é€»è¾‘',
    visual: ['Loader', 'Plugin', 'Plugin', 'Plugin', 'Optimize']
  },
  {
    icon: 'ğŸ§ ',
    title: 'åŸºäºäº‹ä»¶çš„å·¥ä½œæµ',
    description: 'é€šè¿‡äº‹ä»¶é’©å­é©±åŠ¨æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶',
    visual: ['åˆå§‹åŒ–', 'ç¼–è¯‘', 'ä¼˜åŒ–', 'è¾“å‡º', 'å®Œæˆ']
  }
]);

// å·¥ä½œæµç¨‹æ­¥éª¤
const workflowSteps = ref([
  {
    title: 'åˆå§‹åŒ–',
    description: 'è¯»å–é…ç½®ï¼Œåˆ›å»º Compiler å®ä¾‹ï¼ŒåŠ è½½æ’ä»¶ï¼Œåˆå§‹åŒ–ç¯å¢ƒå‚æ•°',
    hooks: ['environment', 'afterEnvironment', 'initialize'],
    code: `const compiler = webpack(config);`
  },
  {
    title: 'å¼€å§‹ç¼–è¯‘',
    description: 'ç¡®å®šå…¥å£æ–‡ä»¶ï¼Œåˆ›å»º Compilation å¯¹è±¡ï¼Œå¼€å§‹æ„å»ºè¿‡ç¨‹',
    hooks: ['beforeRun', 'run', 'compile'],
    code: `compiler.run((err, stats) => {
  // ç¼–è¯‘å®Œæˆå›è°ƒ
});`
  },
  {
    title: 'æ¨¡å—è§£æ',
    description: 'è§£æå…¥å£æ–‡ä»¶ï¼Œä½¿ç”¨ loader è½¬æ¢æ¨¡å—ï¼Œé€’å½’æ”¶é›†æ‰€æœ‰ä¾èµ–',
    hooks: ['make', 'finishMake', 'buildModule'],
    code: `// ä½¿ç”¨ enhanced-resolve è§£ææ¨¡å—è·¯å¾„
const resolver = resolverFactory.get('normal');`
  },
  {
    title: 'æ„å»ºä¾èµ–å›¾',
    description: 'æ ¹æ®æ¨¡å—ä¾èµ–å…³ç³»æ„å»ºä¾èµ–å›¾è°±ï¼ŒåŒ…æ‹¬æ‰€æœ‰æ¨¡å—çš„å¼•ç”¨å…³ç³»',
    hooks: ['finishModules', 'seal'],
    code: `// ä¾èµ–å›¾æ•°æ®ç»“æ„
class ModuleGraph {
  constructor() {
    this._modules = new Map();
  }
}`
  },
  {
    title: 'ä¼˜åŒ–å¤„ç†',
    description: 'å¯¹æ¨¡å—å’Œ chunk è¿›è¡Œä¼˜åŒ–ï¼ˆTree Shakingã€ä»£ç åˆ†å‰²ç­‰ï¼‰',
    hooks: ['optimize', 'optimizeModules', 'optimizeChunks'],
    code: `// Tree Shaking æ ‡è®°æœªä½¿ç”¨å¯¼å‡º
if (!module.isUsed(exportName)) {
  // æ ‡è®°ä¸ºæœªä½¿ç”¨
}`
  },
  {
    title: 'ä»£ç ç”Ÿæˆ',
    description: 'æ ¹æ®ä¾èµ–å›¾ç”Ÿæˆæœ€ç»ˆ bundleï¼ŒåŒ…å«æ¨¡å—å°è£…ä»£ç å’Œè¿è¡Œæ—¶',
    hooks: ['afterCompile', 'emit', 'afterEmit'],
    code: `// ç”Ÿæˆæ¨¡å—ä»£ç 
source = this.generateModuleCode(module);`
  },
  {
    title: 'è¾“å‡ºæ–‡ä»¶',
    description: 'å°†ç”Ÿæˆçš„ bundle å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œå®Œæˆæ•´ä¸ªæ„å»ºè¿‡ç¨‹',
    hooks: ['done', 'assetEmitted'],
    code: `// å†™å…¥è¾“å‡ºæ–‡ä»¶
compiler.outputFileSystem.writeFile(...);`
  }
]);

// æ¨¡å—æ•°æ®
const modules = ref([
  { name: 'Header.js', deps: ['React', 'Logo.svg'] },
  { name: 'App.js', deps: ['Header.js', 'Footer.js', 'utils.js'] },
  { name: 'utils.js', deps: ['lodash'] },
  { name: 'Footer.js', deps: ['React', 'Links.js'] }
]);

// æ—¶é—´çº¿
const timeline = ref([
  {
    year: '2012',
    title: 'Webpack è¯ç”Ÿ',
    description: 'Tobias Koppers åˆ›å»º Webpackï¼Œè§£å†³ä»£ç åˆ†å‰²é—®é¢˜'
  },
  {
    year: '2014',
    title: 'Webpack 1.0',
    description: 'æ­£å¼å‘å¸ƒï¼Œå¼•å…¥ Loader ç³»ç»Ÿ'
  },
  {
    year: '2016',
    title: 'Webpack 2.0',
    description: 'æ”¯æŒ ES Modulesï¼ŒTree Shakingï¼Œæ€§èƒ½æ”¹è¿›'
  },
  {
    year: '2017',
    title: 'Webpack 3.0',
    description: 'å¼•å…¥ Scope Hoistingï¼Œæ¨¡å—è¿æ¥ä¼˜åŒ–'
  },
  {
    year: '2018',
    title: 'Webpack 4.0',
    description: 'é›¶é…ç½®å¯åŠ¨ï¼Œæ¨¡å¼åŒºåˆ†ï¼Œæ€§èƒ½å¤§å¹…æå‡'
  },
  {
    year: '2020',
    title: 'Webpack 5.0',
    description: 'æ¨¡å—è”é‚¦ï¼ŒæŒä¹…åŒ–ç¼“å­˜ï¼Œæ”¹è¿› Tree Shaking'
  },
  {
    year: '2022',
    title: 'Webpack 5.64+',
    description: 'æŒç»­ä¼˜åŒ–ï¼Œæ”¹è¿›æ„å»ºæ€§èƒ½å’Œå¼€å‘ä½“éªŒ'
  }
]);
</script>

<style lang="less" scoped>


.webpack-implementation {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  color: #2c3e50;
  background: #f8f9fa;
  line-height: 1.6;

  .hero-section {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    background: linear-gradient(135deg, #1a237e, #283593);
    border-radius: 16px;
    padding: 2.5rem;
    color: white;
    margin-bottom: 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);

    .hero-content {
      flex: 1;
      min-width: 300px;

      h1 {
        font-size: 2.8rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
      }

      p {
        font-size: 1.4rem;
        opacity: 0.9;
        margin-bottom: 2rem;
      }

      .hero-stats {
        display: flex;
        gap: 2rem;
        margin-top: 1.5rem;

        .stat {
          .number {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
          }

          .label {
            font-size: 1rem;
            opacity: 0.85;
          }
        }
      }
    }

    .hero-visual {
      flex: 1;
      min-width: 300px;
      display: flex;
      align-items: center;
      justify-content: center;

      .webpack-logo {
        position: relative;
        width: 280px;
        height: 280px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        .cube {
          position: relative;
          width: 150px;
          height: 150px;
          transform-style: preserve-3d;
          transform: rotateX(-30deg) rotateY(-30deg);
          animation: rotate 8s infinite linear;

          .face {
            position: absolute;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            backdrop-filter: blur(5px);
          }

          .top {
            transform: rotateX(90deg) translateZ(75px);
            background: rgba(142, 68, 173, 0.3);
          }

          .left {
            transform: rotateY(-90deg) translateZ(75px);
            background: rgba(52, 152, 219, 0.3);
          }

          .right {
            transform: rotateX(0deg) translateZ(75px);
            background: rgba(46, 204, 113, 0.3);
          }

          @keyframes rotate {
            from {
              transform: rotateX(-30deg) rotateY(0deg);
            }

            to {
              transform: rotateX(-30deg) rotateY(360deg);
            }
          }
        }

        .logo-text {
          margin-top: 2rem;
          font-size: 2.5rem;
          font-weight: 700;
          letter-spacing: 2px;
          text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
      }
    }
  }

  .content-container {
    background: white;
    border-radius: 16px;
    padding: 2.5rem;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    margin-bottom: 2rem;
  }

  .section {
    margin-bottom: 3rem;

    .section-title {
      font-size: 2rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #eee;

      .icon {
        font-size: 1.8rem;
      }
    }
  }

  .core-concepts {
    .concepts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;

      .concept-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease;
        border-top: 4px solid #3498db;

        &:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .concept-icon {
          font-size: 2.5rem;
          margin-bottom: 1rem;
        }

        h3 {
          margin-top: 0;
          margin-bottom: 1rem;
          color: #2c3e50;
        }

        p {
          color: #4a5568;
          min-height: 60px;
        }

        .concept-visual {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          margin-top: 1rem;

          .visual-item {
            background: #e3f2fd;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
          }
        }
      }
    }
  }

  .workflow {
    .workflow-steps {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin-bottom: 2rem;

      .step {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        border-left: 4px solid #3498db;

        .step-header {
          padding: 1.2rem 1.5rem;
          background: #f8f9fa;
          display: flex;
          align-items: center;
          border-bottom: 1px solid #eee;

          .step-number {
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 1rem;
          }

          h3 {
            margin: 0;
            font-size: 1.3rem;
            color: #2c3e50;
          }
        }

        .step-content {
          padding: 1.5rem;

          p {
            color: #4a5568;
            margin-top: 0;
            margin-bottom: 1rem;
          }

          .step-hooks {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;

            .hook {
              background: #e3f2fd;
              padding: 0.4rem 0.8rem;
              border-radius: 4px;
              font-size: 0.85rem;
              font-family: 'Fira Code', monospace;
            }
          }

          .step-code {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            font-size: 0.9rem;

            pre {
              margin: 0;

              code {
                font-family: 'Fira Code', monospace;
              }
            }
          }
        }
      }
    }

    .module-graph {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

      h3 {
        margin-top: 0;
        margin-bottom: 1.5rem;
        color: #2c3e50;
      }

      .graph-container {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        align-items: center;

        >div {
          padding: 1rem 2rem;
          border-radius: 8px;
          text-align: center;
          font-weight: 500;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }

        .entry {
          background: linear-gradient(135deg, #3498db, #2980b9);
          color: white;
          font-size: 1.1rem;

          span {
            font-size: 0.9rem;
            opacity: 0.9;
          }
        }

        .dependencies {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 1.5rem;
          background: #f8f9fa;
          width: 100%;
          padding: 1.5rem;

          .module {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            min-width: 150px;

            .module-name {
              font-weight: 600;
              margin-bottom: 0.5rem;
              color: #2c3e50;
            }

            .module-deps {
              display: flex;
              flex-direction: column;
              gap: 0.3rem;

              .dep {
                background: #e3f2fd;
                padding: 0.3rem;
                border-radius: 4px;
                font-size: 0.85rem;
              }
            }
          }
        }

        .chunks {
          display: flex;
          gap: 2rem;

          .chunk {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            padding: 1rem 2rem;
          }
        }

        .bundle {
          background: linear-gradient(135deg, #e74c3c, #c0392b);
          color: white;
          font-size: 1.1rem;
          padding: 1.2rem 3rem;
        }
      }
    }
  }

  .compilation {
    .compilation-process {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;

      .process-column {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;

        h3 {
          margin-top: 0;
          margin-bottom: 1rem;
          color: #2c3e50;
          padding-left: 0.5rem;
          border-left: 4px solid #3498db;
        }
      }

      .process-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

        h4 {
          margin-top: 0;
          margin-bottom: 0.8rem;
          color: #2c3e50;
        }

        p {
          color: #4a5568;
          margin-bottom: 1rem;
        }

        pre {
          background: #f8f9fa;
          border-radius: 8px;
          padding: 1rem;
          overflow-x: auto;
          font-size: 0.85rem;

          code {
            font-family: 'Fira Code', monospace;
          }
        }

        .ast-example {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-top: 1rem;

          .ast-code {
            flex: 1;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            font-size: 0.85rem;
          }

          .ast-arrow {
            font-size: 1.5rem;
            color: #7f8c8d;
          }

          .ast-visual {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;

            .ast-node {
              background: #e3f2fd;
              padding: 0.8rem;
              border-radius: 8px;
              text-align: center;
              font-family: 'Fira Code', monospace;
            }
          }
        }
      }
    }
  }

  .tapable-system {
    .tapable-explanation {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;

      .tapable-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

        h3 {
          margin-top: 0;
          margin-bottom: 1rem;
          color: #2c3e50;
        }

        p {
          color: #4a5568;
          margin-bottom: 1rem;
        }

        .hook-types {
          display: flex;
          gap: 1rem;

          .hook-type {
            flex: 1;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;

            h4 {
              margin-top: 0;
              margin-bottom: 0.5rem;
              color: #2c3e50;
            }

            ul {
              padding-left: 1.2rem;
              margin: 0;

              li {
                margin-bottom: 0.3rem;
                font-family: 'Fira Code', monospace;
                font-size: 0.9rem;
              }
            }
          }
        }

        pre {
          background: #f8f9fa;
          border-radius: 8px;
          padding: 1rem;
          overflow-x: auto;
          font-size: 0.85rem;

          code {
            font-family: 'Fira Code', monospace;
          }
        }

        .plugin-flow {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 1rem;

          .flow-step {
            text-align: center;

            .step-number {
              width: 30px;
              height: 30px;
              background: #3498db;
              color: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: 700;
              margin: 0 auto 0.5rem;
            }

            p {
              margin: 0;
              font-size: 0.9rem;
            }
          }
        }
      }
    }
  }

  .bundle-analysis {
    .bundle-content {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;

      .bundle-stats {
        flex: 1;
        min-width: 300px;

        h3 {
          margin-top: 0;
          margin-bottom: 1.5rem;
          color: #2c3e50;
        }

        .bundle-chart {
          height: 50px;
          display: flex;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);

          .chart-item {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 0.9rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);

            .chart-label {
              padding: 0 0.5rem;
              text-align: center;
            }
          }
        }
      }

      .bundle-code {
        flex: 1;
        min-width: 300px;

        h3 {
          margin-top: 0;
          margin-bottom: 1.5rem;
          color: #2c3e50;
        }

        pre {
          background: #2d2d2d;
          border-radius: 8px;
          padding: 1.5rem;
          overflow-x: auto;

          code {
            font-family: 'Fira Code', monospace;
            color: #f8f8f2;
            font-size: 0.9rem;
            line-height: 1.5;
          }
        }
      }
    }
  }

  .evolution {
    .timeline {
      position: relative;
      padding-left: 20px;

      &::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 4px;
        background: #3498db;
        border-radius: 2px;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 2rem;
        padding-left: 30px;

        &::before {
          content: '';
          position: absolute;
          left: -8px;
          top: 8px;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #3498db;
          border: 4px solid white;
          box-shadow: 0 0 0 2px #3498db;
        }

        .timeline-year {
          position: absolute;
          left: -70px;
          top: 5px;
          background: #3498db;
          color: white;
          padding: 0.3rem 1rem;
          border-radius: 20px;
          font-weight: 600;
        }

        .timeline-content {
          background: white;
          border-radius: 12px;
          padding: 1.5rem;
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

          h3 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #2c3e50;
          }

          p {
            color: #4a5568;
            margin: 0;
          }
        }
      }
    }
  }

  .footer {
    text-align: center;
    padding: 2rem;
    color: #7f8c8d;

    p {
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;

      a {
        color: #3498db;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s;

        &:hover {
          color: #e74c3c;
          text-decoration: underline;
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .webpack-implementation {
    padding: 10px;

    .hero-section {
      padding: 1.5rem;

      .hero-content {
        h1 {
          font-size: 2rem;
        }

        p {
          font-size: 1.1rem;
        }

        .hero-stats {
          flex-wrap: wrap;
          gap: 1rem;
        }
      }
    }

    .content-container {
      padding: 1.5rem;
    }

    .section-title {
      font-size: 1.6rem;
    }

    .timeline {
      padding-left: 10px;

      .timeline-item {
        padding-left: 20px;

        .timeline-year {
          position: relative;
          left: 0;
          top: 0;
          display: inline-block;
          margin-bottom: 0.5rem;
        }
      }
    }
  }
}
</style>
