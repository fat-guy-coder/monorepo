<template>
  <div class="ref-reactive-container">
    <header class="header">
      <h1>Vue3 <span class="ref-text">ref</span> vs <span class="reactive-text">reactive</span></h1>
      <p class="subtitle">å“åº”å¼ API æ ¸å¿ƒæ¦‚å¿µåŸºç¡€ä»‹ç»ä¸æœ€ä½³å®è·µ</p>
    </header>

    <div class="content">
      <section class="card intro">
        <div class="intro-content">
          <div class="intro-text">
            <h2>å“åº”å¼ç¼–ç¨‹æ ¸å¿ƒ</h2>
            <p>Vue3 çš„ Composition API å¼•å…¥äº† <code>ref</code> å’Œ <code>reactive</code> ä½œä¸ºåˆ›å»ºå“åº”å¼æ•°æ®çš„ä¸»è¦æ–¹å¼ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«å¯¹äºç¼–å†™é«˜æ•ˆã€å¯ç»´æŠ¤çš„ Vue
              åº”ç”¨è‡³å…³é‡è¦ã€‚</p>

            <div class="core-concepts">
              <div class="concept ref-concept">
                <div class="icon">ğŸ“Œ</div>
                <h3>ref</h3>
                <p>ç”¨äºåˆ›å»º<strong>åŸºæœ¬ç±»å‹</strong>å’Œ<strong>å¯¹è±¡å¼•ç”¨</strong>çš„å“åº”å¼åŒ…è£…å™¨</p>
              </div>
              <div class="concept reactive-concept">
                <div class="icon">ğŸ”„</div>
                <h3>reactive</h3>
                <p>ç”¨äºåˆ›å»º<strong>å¯¹è±¡</strong>å’Œ<strong>æ•°ç»„</strong>çš„æ·±å±‚å“åº”å¼ä»£ç†</p>
              </div>
            </div>
          </div>
          <div class="intro-image">
            <div class="reactivity-flow">
              <div class="data-source">æ•°æ®æº</div>
              <div class="arrow">â†’</div>
              <div class="reactivity-wrapper">
                <div class="wrapper-type">ref/reactive</div>
                <div class="wrapper-desc">å“åº”å¼åŒ…è£…</div>
              </div>
              <div class="arrow">â†’</div>
              <div class="vue-component">Vueç»„ä»¶</div>
              <div class="arrow">â†’</div>
              <div class="dom-update">DOMæ›´æ–°</div>
            </div>
          </div>
        </div>
      </section>

      <section class="card usage">
        <h2>åŸºç¡€ç”¨æ³•å¯¹æ¯”</h2>
        <div class="usage-comparison">
          <div class="ref-usage">
            <h3>ref ä½¿ç”¨æ–¹å¼</h3>
            <pre class="code-block">import { ref } from 'vue';

// åŸºæœ¬ç±»å‹
const count = ref(0);

// å¯¹è±¡ç±»å‹
const user = ref({
  name: 'å¼ ä¸‰',
  age: 30
});

// è®¿é—®å€¼
console.log(count.value); // 0

// ä¿®æ”¹å€¼
count.value = 1;
user.value.age = 31;</pre>

            <div class="usage-points">
              <div class="point">
                <div class="point-icon">â—</div>
                <p>è®¿é—®/ä¿®æ”¹æ—¶éœ€è¦ <code>.value</code></p>
              </div>
              <div class="point">
                <div class="point-icon">ğŸ”„</div>
                <p>æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼Œæ— éœ€ <code>.value</code></p>
              </div>
              <div class="point">
                <div class="point-icon">ğŸ“¦</div>
                <p>å¯ä»¥åŒ…è£…ä»»ä½•å€¼ç±»å‹</p>
              </div>
            </div>
          </div>

          <div class="reactive-usage">
            <h3>reactive ä½¿ç”¨æ–¹å¼</h3>
            <pre class="code-block">import { reactive } from 'vue';

// åªèƒ½ç”¨äºå¯¹è±¡ç±»å‹
const state = reactive({
  count: 0,
  user: {
    name: 'æå››',
    age: 25
  }
});

// ç›´æ¥è®¿é—®å±æ€§
console.log(state.count); // 0

// ç›´æ¥ä¿®æ”¹å±æ€§
state.count = 1;
state.user.age = 26;</pre>

            <div class="usage-points">
              <div class="point">
                <div class="point-icon">â—</div>
                <p>åªèƒ½ç”¨äº<strong>å¯¹è±¡</strong>ç±»å‹</p>
              </div>
              <div class="point">
                <div class="point-icon">ğŸ”</div>
                <p>æ·±å±‚å“åº”å¼ï¼ŒåµŒå¥—å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„</p>
              </div>
              <div class="point">
                <div class="point-icon">âš ï¸</div>
                <p>è§£æ„ä¼šå¤±å»å“åº”æ€§</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="card principles">
        <h2>å®ç°åŸç†å¯¹æ¯”</h2>
        <div class="principles-content">
          <div class="principle-diagram">
            <div class="ref-principle">
              <div class="title">ref å®ç°åŸç†</div>
              <div class="diagram">
                <div class="ref-wrapper">
                  <div class="label">Ref å¯¹è±¡</div>
                  <div class="value-box">
                    <div class="property">value: </div>
                    <div class="actual-value">åŸå§‹å€¼/å¯¹è±¡</div>
                  </div>
                </div>
                <div class="getter-setter">
                  <div class="getter">get value()</div>
                  <div class="setter">set value()</div>
                </div>
                <div class="track-trigger">
                  <div class="track">track()</div>
                  <div class="trigger">trigger()</div>
                </div>
              </div>
              <p class="principle-desc">é€šè¿‡ getter/setter æ‹¦æˆª <code>.value</code> æ“ä½œï¼Œå®ç°ä¾èµ–æ”¶é›†å’Œè§¦å‘æ›´æ–°</p>
            </div>

            <div class="vs">VS</div>

            <div class="reactive-principle">
              <div class="title">reactive å®ç°åŸç†</div>
              <div class="diagram">
                <div class="proxy-wrapper">
                  <div class="label">Proxy å¯¹è±¡</div>
                  <div class="original-object">åŸå§‹å¯¹è±¡</div>
                </div>
                <div class="proxy-handlers">
                  <div class="handler">get()</div>
                  <div class="handler">set()</div>
                  <div class="handler">deleteProperty()</div>
                </div>
                <div class="track-trigger">
                  <div class="track">track()</div>
                  <div class="trigger">trigger()</div>
                </div>
              </div>
              <p class="principle-desc">ä½¿ç”¨ ES6 Proxy ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œæ‹¦æˆªæ‰€æœ‰å±æ€§æ“ä½œ</p>
            </div>
          </div>

          <div class="technical-diff">
            <h3>æŠ€æœ¯å®ç°å·®å¼‚</h3>
            <div class="diff-table">
              <div class="diff-header">
                <div class="header-item">ç‰¹æ€§</div>
                <div class="header-item">ref</div>
                <div class="header-item">reactive</div>
              </div>
              <div class="diff-row">
                <div class="diff-property">å®ç°æ–¹å¼</div>
                <div class="diff-value">Getter/Setter</div>
                <div class="diff-value">Proxy</div>
              </div>
              <div class="diff-row">
                <div class="diff-property">æ”¯æŒç±»å‹</div>
                <div class="diff-value">æ‰€æœ‰ç±»å‹</div>
                <div class="diff-value">å¯¹è±¡/æ•°ç»„/Map/Set</div>
              </div>
              <div class="diff-row">
                <div class="diff-property">æ·±å±‚å“åº”</div>
                <div class="diff-value">å¯¹è±¡å±æ€§è‡ªåŠ¨è½¬æ¢</div>
                <div class="diff-value">é»˜è®¤æ·±åº¦å“åº”</div>
              </div>
              <div class="diff-row">
                <div class="diff-property">TSç±»å‹æ”¯æŒ</div>
                <div class="diff-value">Ref&lt;T&gt;</div>
                <div class="diff-value">éœ€ä½¿ç”¨æ³›å‹</div>
              </div>
              <div class="diff-row">
                <div class="diff-property">è§£æ„å“åº”æ€§</div>
                <div class="diff-value">ä¿ç•™ï¼ˆä½¿ç”¨.valueï¼‰</div>
                <div class="diff-value">ä¸¢å¤±ï¼ˆéœ€ä½¿ç”¨toRefsï¼‰</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="card scenarios">
        <h2>ä½¿ç”¨åœºæ™¯æŒ‡å—</h2>
        <div class="scenarios-content">
          <div class="ref-scenarios">
            <h3>âœ… ä½¿ç”¨ ref çš„åœºæ™¯</h3>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ”¢</div>
              <h4>åŸºæœ¬ç±»å‹å€¼</h4>
              <p>å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰</p>
              <pre class="code-block">const count = ref(0);
const message = ref('Hello');</pre>
            </div>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ“Œ</div>
              <h4>DOM å…ƒç´ å¼•ç”¨</h4>
              <p>ç»“åˆæ¨¡æ¿ ref ä½¿ç”¨</p>
              <pre class="code-block">const inputRef = ref(null);

&lt;input ref="inputRef" /&gt;</pre>
            </div>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ”„</div>
              <h4>ç»„ä»¶çŠ¶æ€åˆ‡æ¢</h4>
              <p>æ§åˆ¶å¯è§æ€§ã€æ¿€æ´»çŠ¶æ€ç­‰</p>
              <pre class="code-block">const isOpen = ref(false);

function toggle() {
  isOpen.value = !isOpen.value;
}</pre>
            </div>
          </div>

          <div class="reactive-scenarios">
            <h3>âœ… ä½¿ç”¨ reactive çš„åœºæ™¯</h3>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ§¾</div>
              <h4>å¤æ‚è¡¨å•çŠ¶æ€</h4>
              <p>åŒ…å«å¤šä¸ªå­—æ®µçš„è¡¨å•å¯¹è±¡</p>
              <pre class="code-block">const form = reactive({
  name: '',
  email: '',
  address: {
    city: '',
    zip: ''
  }
});</pre>
            </div>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ›’</div>
              <h4>è´­ç‰©è½¦/å¤æ‚å¯¹è±¡</h4>
              <p>å¤šå±‚åµŒå¥—çš„æ•°æ®ç»“æ„</p>
              <pre class="code-block">const cart = reactive({
  items: [],
  total: 0,
  discount: 0
});</pre>
            </div>
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ“Š</div>
              <h4>å…¨å±€çŠ¶æ€ç®¡ç†</h4>
              <p>æ›¿ä»£ Vuex çš„è½»é‡çº§æ–¹æ¡ˆ</p>
              <pre class="code-block">const store = reactive({
  user: null,
  settings: {},
  theme: 'light'
});

// åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ store.user</pre>
            </div>
          </div>
        </div>
      </section>

      <section class="card best-practices">
        <h2>æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜</h2>
        <div class="practices-content">
          <div class="practices">
            <div class="practice">
              <div class="practice-icon">1ï¸âƒ£</div>
              <h3>ç»„åˆä½¿ç”¨</h3>
              <p>åœ¨ reactive å¯¹è±¡ä¸­ä½¿ç”¨ refï¼š</p>
              <pre class="code-block">const state = reactive({
  count: ref(0),
  user: ref({ name: 'å¼ ä¸‰' })
});

// è®¿é—®
console.log(state.count.value); // éœ€è¦ .value</pre>
            </div>
            <div class="practice">
              <div class="practice-icon">2ï¸âƒ£</div>
              <h3>è§£æ„å“åº”æ€§</h3>
              <p>ä½¿ç”¨ <code>toRefs</code> ä¿æŒå“åº”æ€§ï¼š</p>
              <pre class="code-block">import { reactive, toRefs } from 'vue';

const state = reactive({ count: 0, name: 'å¼ ä¸‰' });
const { count, name } = toRefs(state);

// ç°åœ¨ count å’Œ name éƒ½æ˜¯ ref
count.value++; // ä¼šæ›´æ–°åŸå§‹çŠ¶æ€</pre>
            </div>
            <div class="practice">
              <div class="practice-icon">3ï¸âƒ£</div>
              <h3>ç±»å‹æ¨å¯¼</h3>
              <p>ä½¿ç”¨ TypeScript å¢å¼ºç±»å‹å®‰å…¨ï¼š</p>
              <pre class="code-block">interface User {
  id: number;
  name: string;
}

// ref ç±»å‹
const user = ref&lt;User&gt;({ id: 1, name: 'å¼ ä¸‰' });

// reactive ç±»å‹
const state = reactive&lt;{
  loading: boolean;
  data: User[]
}>({
  loading: false,
  data: []
});</pre>
            </div>
          </div>

          <div class="common-issues">
            <h3>âš ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
            <div class="issue">
              <div class="issue-icon">âŒ</div>
              <p><strong>é—®é¢˜ï¼š</strong> reactive å¯¹è±¡è§£æ„åå¤±å»å“åº”æ€§</p>
              <p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨ <code>toRefs</code> è½¬æ¢ä¸º ref é›†åˆ</p>
            </div>
            <div class="issue">
              <div class="issue-icon">âŒ</div>
              <p><strong>é—®é¢˜ï¼š</strong> å¿˜è®° ref çš„ .value è®¿é—®</p>
              <p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨ Volar æ‰©å±•è·å¾—è‡ªåŠ¨è¡¥å…¨å’Œæç¤º</p>
            </div>
            <div class="issue">
              <div class="issue-icon">âŒ</div>
              <p><strong>é—®é¢˜ï¼š</strong> é‡æ–°èµ‹å€¼ reactive å¯¹è±¡å¤±å»å“åº”æ€§</p>
              <p><strong>è§£å†³ï¼š</strong> é¿å…æ•´ä¸ªå¯¹è±¡æ›¿æ¢ï¼Œä¿®æ”¹å±æ€§æˆ–ä½¿ç”¨ Object.assign</p>
            </div>
            <div class="issue">
              <div class="issue-icon">âŒ</div>
              <p><strong>é—®é¢˜ï¼š</strong> åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ ref çš„ .value</p>
              <p><strong>è§£å†³ï¼š</strong> æ¨¡æ¿ä¸­ä¼šè‡ªåŠ¨è§£åŒ…ï¼Œæ— éœ€ .value</p>
            </div>
          </div>
        </div>
      </section>

      <section class="card summary">
        <h2>æ€»ç»“ä¸é€‰æ‹©æŒ‡å—</h2>
        <div class="summary-content">
          <div class="decision-tree">
            <h3>é€‰æ‹©æµç¨‹å›¾</h3>
            <div class="tree">
              <div class="node start">å¼€å§‹</div>
              <div class="arrow">â†“</div>
              <div class="node question">å¤„ç†åŸºæœ¬ç±»å‹ï¼Ÿ</div>
              <div class="branch">
                <div class="branch-yes">æ˜¯ â†’ ä½¿ç”¨ ref</div>
                <div class="branch-no">å¦</div>
              </div>
              <div class="arrow">â†“</div>
              <div class="node question">éœ€è¦æ•´ä¸ªå¯¹è±¡å“åº”ï¼Ÿ</div>
              <div class="branch">
                <div class="branch-yes">æ˜¯ â†’ ä½¿ç”¨ reactive</div>
                <div class="branch-no">å¦ â†’ ä½¿ç”¨ ref</div>
              </div>
              <div class="arrow">â†“</div>
              <div class="node question">éœ€è¦è§£æ„ä½¿ç”¨ï¼Ÿ</div>
              <div class="branch">
                <div class="branch-yes">æ˜¯ â†’ ä½¿ç”¨ ref + toRefs</div>
                <div class="branch-no">å¦ â†’ ç›´æ¥ä½¿ç”¨</div>
              </div>
            </div>
          </div>

          <div class="key-takeaways">
            <h3>æ ¸å¿ƒè¦ç‚¹æ€»ç»“</h3>
            <ul>
              <li><strong>ref</strong> - é€šç”¨å“åº”å¼å¼•ç”¨ï¼Œé€‚ç”¨äºæ‰€æœ‰æ•°æ®ç±»å‹</li>
              <li><strong>reactive</strong> - å¯¹è±¡ä»£ç†ï¼Œé€‚ç”¨äºå¤æ‚æ•°æ®ç»“æ„</li>
              <li>æ¨¡æ¿ä¸­ ref è‡ªåŠ¨è§£åŒ…ï¼Œæ— éœ€ <code>.value</code></li>
              <li>reactive è§£æ„ä¼šå¤±å»å“åº”æ€§ï¼Œä½¿ç”¨ <code>toRefs</code> è§£å†³</li>
              <li>ä¸¤è€…åº•å±‚éƒ½ä½¿ç”¨ Vue çš„å“åº”å¼ç³»ç»Ÿï¼Œä½†å®ç°æ–¹å¼ä¸åŒ</li>
              <li>å¤§å‹é¡¹ç›®æ¨èç»Ÿä¸€ä½¿ç”¨ ref ä¿æŒä¸€è‡´æ€§</li>
            </ul>

            <div class="final-tip">
              <div class="tip-icon">ğŸ’¡</div>
              <p>åœ¨ Vue 3.3+ ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>reactivity transform</code> è¯­æ³•ç³–ï¼Œè®© ref ä½¿ç”¨æ›´ç®€æ´</p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <footer class="footer">
      <p>Vue3 å“åº”å¼ç¼–ç¨‹ | Composition API æ ¸å¿ƒæ¦‚å¿µ</p>
      <div class="links">
        <a href="https://vuejs.org/guide/essentials/reactivity-fundamentals.html" target="_blank">å®˜æ–¹æ–‡æ¡£</a>
        <a href="https://vuejs.org/api/reactivity-core.html" target="_blank">API å‚è€ƒ</a>
        <a href="https://github.com/vuejs/core" target="_blank">GitHub ä»“åº“</a>
      </div>
    </footer>
  </div>
</template>

<script lang="ts" setup>
import { ref, onMounted } from 'vue';

// ç¤ºä¾‹å“åº”å¼æ•°æ®
const activeTab = ref('usage');

onMounted(() => {
  console.log('ref ä¸ reactive å¯¹æ¯”ç»„ä»¶å·²æŒ‚è½½');
});
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.ref-reactive-container {
  font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  background-color: #f8fafc;
  color: #334155;
  min-height: 100vh;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 40px;
  padding: 30px 0;
  border-bottom: 1px solid #e2e8f0;

  h1 {
    font-size: 2.8rem;
    margin-bottom: 12px;
    font-weight: 700;
    color: #1e293b;

    .ref-text {
      color: #3b82f6;
    }

    .reactive-text {
      color: #8b5cf6;
    }
  }

  .subtitle {
    font-size: 1.2rem;
    color: #64748b;
    max-width: 600px;
    margin: 0 auto;
  }
}

.content {
  display: grid;
  grid-template-columns: 1fr;
  gap: 25px;
}

.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
  padding: 30px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
  }

  h2 {
    font-size: 1.8rem;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid #e2e8f0;
    color: #1e293b;
    position: relative;

    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 80px;
      height: 2px;
      background: #3b82f6;
    }
  }
}

.intro {
  .intro-content {
    display: flex;
    gap: 30px;
    align-items: center;

    @media (max-width: 768px) {
      flex-direction: column;
    }
  }

  .intro-text {
    flex: 1;

    p {
      margin-bottom: 20px;
      font-size: 1.1rem;
      color: #475569;

      code {
        background: #e2e8f0;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'Fira Code', monospace;
      }
    }

    .core-concepts {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 30px;

      @media (max-width: 500px) {
        grid-template-columns: 1fr;
      }

      .concept {
        background: white;
        border-radius: 10px;
        padding: 25px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        border-top: 4px solid;
        transition: transform 0.3s ease;

        &:hover {
          transform: translateY(-5px);
        }

        .icon {
          font-size: 2.5rem;
          margin-bottom: 15px;
        }

        h3 {
          font-size: 1.4rem;
          margin-bottom: 10px;
        }

        p {
          color: #64748b;
          margin-bottom: 0;

          strong {
            color: #1e293b;
          }
        }
      }

      .ref-concept {
        border-top-color: #3b82f6;

        h3 {
          color: #3b82f6;
        }
      }

      .reactive-concept {
        border-top-color: #8b5cf6;

        h3 {
          color: #8b5cf6;
        }
      }
    }
  }

  .intro-image {
    flex: 1;
    display: flex;
    justify-content: center;
  }

  .reactivity-flow {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 15px;
    background: #f1f5f9;
    border-radius: 12px;
    padding: 30px 20px;

    &>div {
      padding: 15px 25px;
      border-radius: 8px;
      font-weight: 600;
      text-align: center;
    }

    .data-source {
      background: #dbeafe;
      color: #1d4ed8;
    }

    .reactivity-wrapper {
      background: #ede9fe;
      color: #7c3aed;
    }

    .vue-component {
      background: #dcfce7;
      color: #166534;
    }

    .dom-update {
      background: #ffedd5;
      color: #9a3412;
    }

    .arrow {
      font-size: 1.5rem;
      color: #94a3b8;
    }
  }
}

.usage {
  .usage-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  .ref-usage,
  .reactive-usage {
    background: #f8fafc;
    border-radius: 10px;
    padding: 25px;
    border: 1px solid #e2e8f0;

    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      position: relative;
      padding-left: 30px;

      &::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 3px;
        border-radius: 2px;
      }
    }
  }

  .ref-usage {
    border-top: 4px solid #3b82f6;

    h3 {
      color: #3b82f6;

      &::before {
        background: #3b82f6;
      }
    }
  }

  .reactive-usage {
    border-top: 4px solid #8b5cf6;

    h3 {
      color: #8b5cf6;

      &::before {
        background: #8b5cf6;
      }
    }
  }

  .usage-points {
    margin-top: 20px;

    .point {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      padding: 10px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 6px;

      .point-icon {
        font-size: 1.2rem;
      }

      p {
        color: #475569;

        code {
          background: #e2e8f0;
          padding: 2px 6px;
          border-radius: 4px;
          font-family: 'Fira Code', monospace;
        }
      }
    }
  }
}

.principles {
  .principles-content {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }

  .principle-diagram {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 30px;
    align-items: center;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;

      .vs {
        margin: 20px 0;
        text-align: center;
      }
    }

    .ref-principle,
    .reactive-principle {
      background: #f8fafc;
      border-radius: 10px;
      padding: 25px;
      border: 1px solid #e2e8f0;
    }

    .ref-principle {
      border-top: 4px solid #3b82f6;
    }

    .reactive-principle {
      border-top: 4px solid #8b5cf6;
    }

    .title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
    }

    .vs {
      font-weight: bold;
      color: #64748b;
      font-size: 1.5rem;
    }

    .diagram {
      background: white;
      border-radius: 8px;
      padding: 20px;
      border: 1px solid #e2e8f0;
      position: relative;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: center;

      &>div {
        margin: 10px 0;
      }
    }

    .ref-wrapper,
    .proxy-wrapper {
      background: #f1f5f9;
      padding: 15px;
      border-radius: 6px;
      border: 1px dashed #cbd5e1;
    }

    .getter-setter,
    .proxy-handlers {
      display: flex;
      justify-content: space-around;
      margin: 15px 0;

      &>div {
        background: #e0f2fe;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
      }
    }

    .track-trigger {
      display: flex;
      justify-content: space-around;

      &>div {
        background: #dcfce7;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
      }
    }

    .principle-desc {
      margin-top: 20px;
      text-align: center;
      color: #64748b;
      font-style: italic;
    }
  }

  .technical-diff {
    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: #1e293b;
    }
  }

  .diff-table {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e2e8f0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);

    .diff-header,
    .diff-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;

      @media (max-width: 600px) {
        grid-template-columns: 1fr;
      }
    }

    .diff-header {
      background: #f1f5f9;
      font-weight: 600;
      border-bottom: 1px solid #e2e8f0;
    }

    .diff-row {
      &:nth-child(even) {
        background: #f8fafc;
      }

      &:hover {
        background: #f0f7ff;
      }
    }

    .header-item,
    .diff-property,
    .diff-value {
      padding: 15px;
    }

    .diff-property {
      font-weight: 500;
      color: #1e293b;
    }

    .diff-value {
      color: #475569;
    }
  }
}

.scenarios {
  .scenarios-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  .ref-scenarios,
  .reactive-scenarios {
    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      padding-left: 30px;
      position: relative;

      &::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 3px;
        border-radius: 2px;
      }
    }
  }

  .ref-scenarios {
    h3 {
      color: #3b82f6;

      &::before {
        background: #3b82f6;
      }
    }
  }

  .reactive-scenarios {
    h3 {
      color: #8b5cf6;

      &::before {
        background: #8b5cf6;
      }
    }
  }

  .scenario-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }

    .scenario-icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    h4 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #1e293b;
    }

    p {
      color: #64748b;
      margin-bottom: 15px;
      font-size: 0.95rem;
    }
  }
}

.best-practices {
  .practices-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  .practices {
    .practice {
      background: white;
      border-radius: 8px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;

      &:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      }

      .practice-icon {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      h3 {
        font-size: 1.3rem;
        margin-bottom: 10px;
        color: #1e293b;
      }

      p {
        color: #64748b;
        margin-bottom: 15px;
        font-size: 0.95rem;
      }
    }
  }

  .common-issues {
    background: #fffbeb;
    border-radius: 10px;
    padding: 25px;
    border: 1px solid #fde68a;

    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: #b45309;
      position: relative;
      padding-left: 30px;

      &::before {
        content: 'âš ï¸';
        position: absolute;
        left: 0;
      }
    }

    .issue {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      padding-bottom: 20px;
      border-bottom: 1px solid #fde68a;

      &:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }

      .issue-icon {
        font-size: 1.5rem;
        color: #f59e0b;
      }

      p {
        color: #78350f;

        strong {
          color: #b45309;
        }
      }
    }
  }
}

.summary {
  .summary-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  .decision-tree {
    background: #f0f7ff;
    border-radius: 10px;
    padding: 25px;
    border: 1px solid #dbeafe;

    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: #1e293b;
      text-align: center;
    }

    .tree {
      display: flex;
      flex-direction: column;
      align-items: center;

      .node {
        background: white;
        border-radius: 8px;
        padding: 15px 30px;
        margin: 10px 0;
        border: 2px solid;
        font-weight: 600;
        text-align: center;
        min-width: 200px;
      }

      .start {
        border-color: #10b981;
        background: #dcfce7;
      }

      .question {
        border-color: #3b82f6;
        background: #dbeafe;
      }

      .arrow {
        font-size: 1.5rem;
        color: #94a3b8;
      }

      .branch {
        display: flex;
        gap: 20px;
        margin: 10px 0;

        &>div {
          padding: 10px 20px;
          border-radius: 6px;
          font-weight: 500;
        }

        .branch-yes {
          background: #dcfce7;
          color: #166534;
        }

        .branch-no {
          background: #fee2e2;
          color: #b91c1c;
        }
      }
    }
  }

  .key-takeaways {
    background: #f0fdf4;
    border-radius: 10px;
    padding: 25px;
    border: 1px solid #bbf7d0;

    h3 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: #1e293b;
    }

    ul {
      list-style: none;
      margin-bottom: 20px;

      li {
        margin-bottom: 12px;
        padding-left: 30px;
        position: relative;

        &::before {
          content: 'â€¢';
          position: absolute;
          left: 15px;
          color: #10b981;
          font-weight: bold;
        }

        strong {
          color: #1d4ed8;
        }
      }
    }

    .final-tip {
      background: white;
      border-radius: 8px;
      padding: 20px;
      display: flex;
      gap: 15px;
      align-items: center;
      border-left: 4px solid #10b981;

      .tip-icon {
        font-size: 1.8rem;
        color: #10b981;
      }

      p {
        color: #475569;
      }
    }
  }
}

.code-block {
  background: #1e293b;
  color: #e2e8f0;
  padding: 18px;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
  overflow-x: auto;
  margin: 15px 0;
  line-height: 1.5;
  border: 1px solid #334155;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 40px;
    background: rgba(255, 255, 255, 0.05);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px 8px 0 0;
  }
}

.footer {
  text-align: center;
  margin-top: 50px;
  padding: 30px 0;
  border-top: 1px solid #e2e8f0;
  color: #64748b;

  .links {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 15px;

    a {
      color: #3b82f6;
      text-decoration: none;
      font-weight: 500;
      position: relative;
      padding: 5px 10px;

      &::after {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 0;
        height: 2px;
        background: #3b82f6;
        transition: width 0.3s ease;
      }

      &:hover::after {
        width: 100%;
      }
    }
  }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2.2rem;
  }
}
</style>
