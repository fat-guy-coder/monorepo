<template>
  <div class="next-tick-container">
    <header class="header">
      <h1><span class="highlight">$nextTick</span> åŸºç¡€ä»‹ç»</h1>
      <p>Vue çš„å¼‚æ­¥æ›´æ–°æœºåˆ¶ä¸ DOM æ“ä½œæ—¶æœº</p>
    </header>

    <div class="content-card">
      <section class="intro-section">
        <div class="icon-box">
          <div class="icon">â±ï¸</div>
        </div>
        <div class="text-content">
          <h2>ä»€ä¹ˆæ˜¯ $nextTickï¼Ÿ</h2>
          <p>
            <code>$nextTick</code> æ˜¯ Vue æä¾›çš„ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œç”¨äºåœ¨ DOM æ›´æ–°å®Œæˆåæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚
            å®ƒç¡®ä¿åœ¨æ•°æ®å˜åŒ–åï¼Œå½“ DOM æ›´æ–°å®Œæˆæ—¶æ‰§è¡Œä»£ç ï¼Œæ˜¯å¤„ç† Vue å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—çš„å…³é”®å·¥å…·ã€‚
          </p>
        </div>
      </section>
    </div>

    <div class="columns-layout">
      <div class="column">
        <div class="content-card">
          <h2 class="section-title">
            <span class="icon">ğŸ“Œ</span> æ ¸å¿ƒä½œç”¨
          </h2>

          <div class="feature-item">
            <div class="feature-icon">1</div>
            <div>
              <h3>DOM æ›´æ–°åæ“ä½œ</h3>
              <p>åœ¨æ•°æ®å˜åŒ–åç«‹å³æ“ä½œæ›´æ–°åçš„ DOM</p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">2</div>
            <div>
              <h3>è§£å†³å¼‚æ­¥æ›´æ–°é—®é¢˜</h3>
              <p>ç¡®ä¿åœ¨ Vue å®Œæˆå¼‚æ­¥ DOM æ›´æ–°åæ‰§è¡Œä»£ç </p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">3</div>
            <div>
              <h3>è·å–æœ€æ–° DOM çŠ¶æ€</h3>
              <p>è®¿é—®å› æ•°æ®å˜åŒ–è€Œæ›´æ–°çš„ DOM å…ƒç´ </p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">4</div>
            <div>
              <h3>é¿å…æ¸²æŸ“ç«äº‰æ¡ä»¶</h3>
              <p>é˜²æ­¢åœ¨ DOM æ›´æ–°è¿‡ç¨‹ä¸­æ‰§è¡Œæ“ä½œ</p>
            </div>
          </div>
        </div>

        <div class="content-card">
          <h2 class="section-title">
            <span class="icon">âš™ï¸</span> å®ç°åŸç†
          </h2>

          <div class="principle-steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—</h3>
                <p>Vue å°†æ•°æ®å˜æ›´æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œæ‰¹é‡æ›´æ–° DOM</p>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>å¾®ä»»åŠ¡ä¼˜å…ˆçº§</h3>
                <p>é»˜è®¤ä½¿ç”¨ Promise.then å®ç°å¾®ä»»åŠ¡è°ƒåº¦</p>
                <div class="code-snippet">
                  <pre>Promise.resolve().then(flushCallbacks)</pre>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>ä¼˜é›…é™çº§ç­–ç•¥</h3>
                <p>åœ¨ä¸æ”¯æŒ Promise çš„ç¯å¢ƒä¸­ä½¿ç”¨é™çº§æ–¹æ¡ˆï¼š</p>
                <ul>
                  <li>MutationObserver</li>
                  <li>setImmediate</li>
                  <li>setTimeout</li>
                </ul>
              </div>
            </div>

            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3>å›è°ƒæ‰§è¡Œæ—¶æœº</h3>
                <p>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸåæ‰§è¡Œå›è°ƒ</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="column">
        <div class="content-card">
          <h2 class="section-title">
            <span class="icon">ğŸ’¡</span> ä½¿ç”¨åœºæ™¯
          </h2>

          <div class="scenario-tabs">
            <div class="tabs-header">
              <button v-for="(tab, index) in tabs" :key="index" :class="{ active: activeTab === index }"
                @click="activeTab = index">
                {{ tab.title }}
              </button>
            </div>

            <div class="tab-content">
              <div v-if="activeTab === 0" class="scenario-detail">
                <h3>è·å–æ›´æ–°åçš„ DOM</h3>
                <p>åœ¨æ•°æ®å˜åŒ–åç«‹å³è®¿é—®æ›´æ–°åçš„ DOM å…ƒç´ </p>

                <div class="code-block">
                  <pre><code>// æ›´æ–°æ•°æ®
this.message = 'Updated!';

// åœ¨ nextTick ä¸­è®¿é—® DOM
this.$nextTick(() => {
  const el = document.getElementById('message');
  console.log(el.textContent); // è¾“å‡º: Updated!
});</code></pre>
                </div>
              </div>

              <div v-if="activeTab === 1" class="scenario-detail">
                <h3>é›†æˆç¬¬ä¸‰æ–¹ DOM åº“</h3>
                <p>åœ¨ Vue æ›´æ–° DOM ååˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“</p>

                <div class="code-block">
                  <pre><code>// æ˜¾ç¤ºåŒ…å«å›¾è¡¨çš„ç»„ä»¶
this.showChart = true;

// åœ¨ DOM æ›´æ–°ååˆå§‹åŒ–å›¾è¡¨
this.$nextTick(() => {
  this.initChart(); // åˆå§‹åŒ–ç¬¬ä¸‰æ–¹å›¾è¡¨åº“
});</code></pre>
                </div>
              </div>

              <div v-if="activeTab === 2" class="scenario-detail">
                <h3>æ»šåŠ¨åˆ°æœ€æ–°å†…å®¹</h3>
                <p>åœ¨åˆ—è¡¨æ›´æ–°åæ»šåŠ¨åˆ°åº•éƒ¨æŸ¥çœ‹æœ€æ–°é¡¹</p>

                <div class="code-block">
                  <pre><code>// æ·»åŠ æ–°æ¶ˆæ¯
this.messages.push(newMessage);

// æ»šåŠ¨åˆ°åº•éƒ¨
this.$nextTick(() => {
  const container = this.$refs.messageContainer;
  container.scrollTop = container.scrollHeight;
});</code></pre>
                </div>
              </div>

              <div v-if="activeTab === 3" class="scenario-detail">
                <h3>ç„¦ç‚¹ç®¡ç†</h3>
                <p>åœ¨æ˜¾ç¤ºè¾“å…¥æ¡†åè‡ªåŠ¨èšç„¦</p>

                <div class="code-block">
                  <pre><code>// æ˜¾ç¤ºè¾“å…¥æ¡†
this.showInput = true;

// åœ¨ DOM æ›´æ–°åèšç„¦
this.$nextTick(() => {
  this.$refs.inputField.focus();
});</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-card">
      <h2 class="section-title">
        <span class="icon">ğŸ§ª</span> å®æ—¶æ¼”ç¤º
      </h2>

      <div class="demo-area">
        <div class="demo-controls">
          <button @click="updateMessage">æ›´æ–°æ¶ˆæ¯</button>
          <button @click="toggleList">åˆ‡æ¢åˆ—è¡¨</button>
          <button @click="addItem">æ·»åŠ é¡¹ç›®</button>
          <button @click="resetDemo">é‡ç½®æ¼”ç¤º</button>
        </div>

        <div class="demo-container">
          <div class="demo-panel">
            <div class="demo-title">DOM çŠ¶æ€</div>
            <div class="message-display" ref="messageElement">{{ message }}</div>

            <div v-if="showList" class="item-list">
              <div v-for="(item, index) in items" :key="index" class="list-item">
                {{ item }}
              </div>
            </div>
          </div>

          <div class="console-panel">
            <div class="console-header">
              <span>æ§åˆ¶å°è¾“å‡º</span>
              <button @click="clearLogs">æ¸…ç©ºæ—¥å¿—</button>
            </div>
            <div class="console-output">
              <div v-for="(log, index) in logs" :key="index" class="log-entry">
                <span class="timestamp">[{{ log.timestamp }}]</span>
                <span :class="log.type">{{ log.message }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="explanation">
          <div class="explanation-item">
            <div class="status-indicator" :class="withoutNextTick ? 'error' : 'success'"></div>
            <div>
              <h3>æ—  $nextTick çš„æƒ…å†µ</h3>
              <p>ç›´æ¥è®¿é—® DOM å…ƒç´ å¯èƒ½å¾—åˆ°æ›´æ–°å‰çš„çŠ¶æ€</p>
            </div>
          </div>

          <div class="explanation-item">
            <div class="status-indicator" :class="withNextTick ? 'success' : 'pending'"></div>
            <div>
              <h3>ä½¿ç”¨ $nextTick çš„æƒ…å†µ</h3>
              <p>ç¡®ä¿åœ¨ DOM æ›´æ–°åè®¿é—®å…ƒç´ ï¼Œå¾—åˆ°æ­£ç¡®çŠ¶æ€</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="content-card summary">
      <h2 class="section-title">
        <span class="icon">âœ…</span> æœ€ä½³å®è·µæ€»ç»“
      </h2>

      <div class="best-practices">
        <div class="practice">
          <div class="checkmark">âœ“</div>
          <p>åœ¨éœ€è¦æ“ä½œæ›´æ–°åçš„ DOM æ—¶ä½¿ç”¨ <code>$nextTick</code></p>
        </div>

        <div class="practice">
          <div class="checkmark">âœ“</div>
          <p>ä¸ç¬¬ä¸‰æ–¹ DOM åº“é›†æˆæ—¶ä½¿ç”¨</p>
        </div>

        <div class="practice">
          <div class="checkmark">âœ“</div>
          <p>éœ€è¦è®¿é—®è®¡ç®—åçš„æ ·å¼æˆ–å¸ƒå±€æ—¶ä½¿ç”¨</p>
        </div>

        <div class="practice">
          <div class="checkmark">âœ“</div>
          <p>é¿å…åœ¨åŒä¸€ä¸ª tick å†…è¿‡åº¦ä½¿ç”¨</p>
        </div>

        <div class="practice">
          <div class="checkmark">âœ“</div>
          <p>åœ¨ç»„åˆå¼ API ä¸­ä½¿ç”¨ <code>nextTick</code> å¯¼å…¥</p>
          <div class="code-snippet">
            <pre>import { nextTick } from 'vue';</pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted, nextTick } from 'vue';

// æ ‡ç­¾é¡µçŠ¶æ€
const tabs = ref([
  { title: 'DOM æ“ä½œ' },
  { title: 'ç¬¬ä¸‰æ–¹åº“' },
  { title: 'æ»šåŠ¨ä½ç½®' },
  { title: 'ç„¦ç‚¹æ§åˆ¶' }
]);
const activeTab = ref(0);

// æ¼”ç¤ºçŠ¶æ€
const message = ref('åˆå§‹æ¶ˆæ¯');
const showList = ref(false);
const items = ref(['é¡¹ç›® 1', 'é¡¹ç›® 2']);
const logs = ref<{ timestamp: string, message: string, type: string }[]>([]);
const messageElement = ref<HTMLElement | null>(null);

// çŠ¶æ€æ ‡å¿—
const withoutNextTick = ref(false);
const withNextTick = ref(false);

// æ·»åŠ æ—¥å¿—
const addLog = (message: string, type = 'info') => {
  const now = new Date();
  const timestamp = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
  logs.value.push({ timestamp, message, type });
};

// æ›´æ–°æ¶ˆæ¯
const updateMessage = () => {
  // æ—  nextTick çš„æƒ…å†µ
  message.value = 'æ›´æ–°åçš„æ¶ˆæ¯';

  if (messageElement.value) {
    const textWithoutNextTick = messageElement.value.textContent;
    addLog(`æ—  nextTick: DOM å†…å®¹ä¸º "${textWithoutNextTick}"`, withoutNextTick.value ? 'error' : 'warning');
    withoutNextTick.value = true;
  }

  // ä½¿ç”¨ nextTick çš„æƒ…å†µ
  nextTick(() => {
    if (messageElement.value) {
      const textWithNextTick = messageElement.value.textContent;
      addLog(`ä½¿ç”¨ nextTick: DOM å†…å®¹ä¸º "${textWithNextTick}"`, 'success');
      withNextTick.value = true;
    }
  });
};

// åˆ‡æ¢åˆ—è¡¨
const toggleList = () => {
  showList.value = !showList.value;
  addLog(`åˆ—è¡¨çŠ¶æ€: ${showList.value ? 'æ˜¾ç¤º' : 'éšè—'}`, 'info');
};

// æ·»åŠ é¡¹ç›®
const addItem = () => {
  const newItem = `é¡¹ç›® ${items.value.length + 1}`;
  items.value.push(newItem);

  nextTick(() => {
    addLog(`å·²æ·»åŠ é¡¹ç›®: ${newItem}`, 'success');
  });
};

// é‡ç½®æ¼”ç¤º
const resetDemo = () => {
  message.value = 'åˆå§‹æ¶ˆæ¯';
  showList.value = false;
  items.value = ['é¡¹ç›® 1', 'é¡¹ç›® 2'];
  logs.value = [];
  withoutNextTick.value = false;
  withNextTick.value = false;
  addLog('æ¼”ç¤ºå·²é‡ç½®', 'info');
};

// æ¸…ç©ºæ—¥å¿—
const clearLogs = () => {
  logs.value = [];
};

// åˆå§‹åŒ–
onMounted(() => {
  addLog('ç»„ä»¶å·²æŒ‚è½½ï¼Œæ¼”ç¤ºå‡†å¤‡å°±ç»ª', 'info');
});
</script>

<style lang="less" scoped>
@primary-color: #3498db;
@secondary-color: #2ecc71;
@accent-color: #9b59b6;
@warning-color: #f39c12;
@error-color: #e74c3c;
@text-color: #2c3e50;
@light-bg: #f8f9fa;
@border-color: #eaeaea;
@card-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
@success-bg: rgba(46, 204, 113, 0.1);
@error-bg: rgba(231, 76, 60, 0.1);
@code-bg: #f5f7fa;

.next-tick-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  color: @text-color;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 30px;
  padding: 20px 0;

  h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    color: @text-color;

    .highlight {
      color: @primary-color;
      background: linear-gradient(120deg, rgba(52, 152, 219, 0.1), rgba(155, 89, 182, 0.1));
      padding: 0 10px;
      border-radius: 6px;
    }
  }

  p {
    font-size: 1.2rem;
    color: lighten(@text-color, 20%);
  }
}

.content-card {
  background: white;
  border-radius: 10px;
  padding: 25px;
  margin-bottom: 25px;
  box-shadow: @card-shadow;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-3px);
  }
}

.section-title {
  display: flex;
  align-items: center;
  font-size: 1.6rem;
  color: @primary-color;
  margin-top: 0;
  margin-bottom: 25px;
  padding-bottom: 12px;
  border-bottom: 2px solid lighten(@primary-color, 35%);

  .icon {
    margin-right: 12px;
    font-size: 1.4rem;
  }
}

.intro-section {
  display: flex;
  align-items: center;
  gap: 25px;

  .icon-box {
    flex-shrink: 0;

    .icon {
      font-size: 3.5rem;
      background: linear-gradient(135deg, @primary-color, @accent-color);
      color: white;
      width: 90px;
      height: 90px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 16px rgba(52, 152, 219, 0.2);
    }
  }

  .text-content {
    h2 {
      font-size: 1.8rem;
      margin-top: 0;
      margin-bottom: 15px;
      color: @text-color;
    }

    p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: lighten(@text-color, 10%);
    }

    code {
      background: @code-bg;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      color: @accent-color;
      font-weight: 500;
    }
  }
}

.columns-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 25px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 8px;
  background: @light-bg;
  transition: all 0.3s ease;

  &:hover {
    background: lighten(@primary-color, 45%);
    transform: translateX(5px);
  }

  .feature-icon {
    width: 36px;
    height: 36px;
    background: @primary-color;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.1rem;
    flex-shrink: 0;
  }

  h3 {
    margin: 0 0 6px 0;
    font-size: 1.15rem;
    color: @text-color;
  }

  p {
    margin: 0;
    color: lighten(@text-color, 20%);
    font-size: 0.95rem;
  }
}

.principle-steps {
  .step {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px dashed @border-color;

    &:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .step-number {
      width: 32px;
      height: 32px;
      background: @secondary-color;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
      margin-top: 3px;
    }

    .step-content {
      h3 {
        margin: 0 0 8px 0;
        font-size: 1.15rem;
        color: @text-color;
      }

      p {
        margin: 0 0 10px 0;
        color: lighten(@text-color, 15%);
      }

      ul {
        margin: 10px 0;
        padding-left: 20px;

        li {
          margin-bottom: 5px;
        }
      }
    }

    .code-snippet {
      background: @code-bg;
      border-radius: 6px;
      padding: 12px 15px;
      margin-top: 10px;
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      color: @accent-color;
      overflow-x: auto;
    }
  }
}

.scenario-tabs {
  .tabs-header {
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    flex-wrap: wrap;

    button {
      background: @light-bg;
      border: none;
      padding: 10px 20px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;

      &:hover {
        background: lighten(@primary-color, 40%);
        color: @primary-color;
      }

      &.active {
        background: @primary-color;
        color: white;
      }
    }
  }

  .scenario-detail {
    h3 {
      margin-top: 0;
      color: @text-color;
      font-size: 1.3rem;
    }

    p {
      color: lighten(@text-color, 15%);
      margin-bottom: 15px;
    }
  }
}

.code-block {
  background: @code-bg;
  border-radius: 8px;
  padding: 15px;
  overflow-x: auto;
  margin: 15px 0;
  border-left: 4px solid @primary-color;

  pre {
    margin: 0;
    font-family: 'Fira Code', monospace;
    font-size: 0.95rem;
    line-height: 1.5;

    code {
      color: @text-color;
    }
  }
}

.demo-area {
  .demo-controls {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    flex-wrap: wrap;

    button {
      background: @primary-color;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: background 0.2s;

      &:hover {
        background: darken(@primary-color, 8%);
      }

      &:nth-child(2) {
        background: @accent-color;

        &:hover {
          background: darken(@accent-color, 8%);
        }
      }

      &:nth-child(3) {
        background: @secondary-color;

        &:hover {
          background: darken(@secondary-color, 8%);
        }
      }

      &:last-child {
        background: @text-color;

        &:hover {
          background: lighten(@text-color, 10%);
        }
      }
    }
  }

  .demo-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin-bottom: 25px;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .demo-panel {
    border: 1px solid @border-color;
    border-radius: 8px;
    overflow: hidden;

    .demo-title {
      background: @primary-color;
      color: white;
      padding: 12px 15px;
      font-weight: 500;
    }

    .message-display {
      padding: 25px;
      text-align: center;
      font-size: 1.3rem;
      font-weight: 500;
      background: lighten(@primary-color, 45%);
      transition: all 0.3s ease;
    }

    .item-list {
      padding: 15px;
      background: lighten(@secondary-color, 45%);

      .list-item {
        padding: 10px 15px;
        margin-bottom: 8px;
        background: white;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

        &:last-child {
          margin-bottom: 0;
        }
      }
    }
  }

  .console-panel {
    border: 1px solid @border-color;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    flex-direction: column;

    .console-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 15px;
      background: @text-color;
      color: white;

      button {
        background: @error-color;
        color: white;
        border: none;
        padding: 5px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;

        &:hover {
          background: darken(@error-color, 8%);
        }
      }
    }

    .console-output {
      flex: 1;
      background: #2c3e50;
      color: #ecf0f1;
      padding: 15px;
      height: 250px;
      overflow-y: auto;
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;

      .log-entry {
        padding: 8px 0;
        border-bottom: 1px solid lighten(#2c3e50, 10%);

        .timestamp {
          color: #95a5a6;
          margin-right: 12px;
        }

        .info {
          color: #3498db;
        }

        .warning {
          color: #f39c12;
        }

        .error {
          color: #e74c3c;
        }

        .success {
          color: #2ecc71;
        }
      }
    }
  }
}

.explanation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;

  .explanation-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    border-radius: 8px;
    background: @light-bg;

    h3 {
      margin: 0 0 5px 0;
      font-size: 1.1rem;
    }

    p {
      margin: 0;
      font-size: 0.95rem;
      color: lighten(@text-color, 15%);
    }

    .status-indicator {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      flex-shrink: 0;

      &.success {
        background: @secondary-color;
      }

      &.error {
        background: @error-color;
      }

      &.pending {
        background: #bdc3c7;
      }
    }
  }
}

.summary {
  .best-practices {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;

    .practice {
      display: flex;
      gap: 12px;
      padding: 15px;
      background: lighten(@secondary-color, 48%);
      border-radius: 8px;
      border-left: 4px solid @secondary-color;

      .checkmark {
        width: 28px;
        height: 28px;
        background: @secondary-color;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        flex-shrink: 0;
      }

      p {
        margin: 0;
        font-size: 1.05rem;
      }

      .code-snippet {
        margin-top: 10px;
        background: rgba(255, 255, 255, 0.7);
        padding: 10px;
        border-radius: 6px;
        font-family: 'Fira Code', monospace;
        font-size: 0.9rem;
        color: @accent-color;
      }
    }
  }
}
</style>
