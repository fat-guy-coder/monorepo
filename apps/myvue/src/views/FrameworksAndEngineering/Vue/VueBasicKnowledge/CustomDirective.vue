<template>
  <div class="custom-directives-container">
    <!-- æ ‡é¢˜å’Œæ¦‚è¿°éƒ¨åˆ† -->
    <header>
      <h1>Vue è‡ªå®šä¹‰æŒ‡ä»¤åŸºç¡€ä»‹ç»</h1>
      <p class="overview">
        è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ Vue å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå…è®¸å¼€å‘è€…ç›´æ¥æ“ä½œ DOM å…ƒç´ ã€‚å®ƒä»¬æä¾›äº†ä¸€ç§å°è£… DOM æ“ä½œçš„æ–¹å¼ï¼Œ
        å¯ä»¥åœ¨ç»„ä»¶ä¸­é‡ç”¨è¿™äº›æ“ä½œé€»è¾‘ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†åº•å±‚ DOM äº¤äº’ã€‚
      </p>
    </header>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="content-wrapper">
      <!-- å·¦ä¾§å¯¼èˆª -->
      <nav class="navigation">
        <div v-for="(item, index) in navItems" :key="index" :class="{ active: activeSection === index }"
          @click="activeSection = index">
          {{ item.title }}
        </div>
      </nav>

      <!-- å³ä¾§å†…å®¹ -->
      <div class="content">
        <!-- æ¦‚å¿µéƒ¨åˆ† -->
        <section v-show="activeSection === 0">
          <h2>è‡ªå®šä¹‰æŒ‡ä»¤æ¦‚å¿µ</h2>

          <div class="card">
            <h3>ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ</h3>
            <p>
              è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ Vue æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸å¼€å‘è€…æ³¨å†Œè‡ªå·±çš„æŒ‡ä»¤æ¥æ‰©å±• Vue çš„åŠŸèƒ½ã€‚
              å®ƒä»¬ä¸»è¦ç”¨äºéœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œçš„åœºæ™¯ã€‚
            </p>

            <div class="comparison">
              <div class="comparison-item">
                <h4>å†…ç½®æŒ‡ä»¤</h4>
                <ul>
                  <li>v-model - åŒå‘æ•°æ®ç»‘å®š</li>
                  <li>v-show - æ¡ä»¶æ˜¾ç¤º</li>
                  <li>v-if/v-else - æ¡ä»¶æ¸²æŸ“</li>
                  <li>v-for - åˆ—è¡¨æ¸²æŸ“</li>
                  <li>v-on - äº‹ä»¶ç›‘å¬</li>
                  <li>v-bind - å±æ€§ç»‘å®š</li>
                </ul>
              </div>
              <div class="comparison-item">
                <h4>è‡ªå®šä¹‰æŒ‡ä»¤</h4>
                <ul>
                  <li>v-focus - è‡ªåŠ¨èšç„¦</li>
                  <li>v-debounce - é˜²æŠ–å¤„ç†</li>
                  <li>v-click-outside - ç‚¹å‡»å¤–éƒ¨</li>
                  <li>v-permission - æƒé™æ§åˆ¶</li>
                  <li>v-draggable - æ‹–æ‹½åŠŸèƒ½</li>
                  <li>v-copy - å¤åˆ¶æ–‡æœ¬</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ</h3>
            <div class="benefits-grid">
              <div class="benefit">
                <div class="icon">ğŸ”„</div>
                <h4>ä»£ç å¤ç”¨</h4>
                <p>å°è£… DOM æ“ä½œé€»è¾‘ï¼Œé¿å…é‡å¤ä»£ç </p>
              </div>
              <div class="benefit">
                <div class="icon">ğŸ“¦</div>
                <h4>åŠŸèƒ½å°è£…</h4>
                <p>å°†å¤æ‚ DOM æ“ä½œå°è£…ä¸ºç®€å•æŒ‡ä»¤</p>
              </div>
              <div class="benefit">
                <div class="icon">âš™ï¸</div>
                <h4>åº•å±‚æ“ä½œ</h4>
                <p>ç›´æ¥æ“ä½œ DOM å…ƒç´ ï¼Œå¤„ç† Vue éš¾ä»¥å¤„ç†çš„æƒ…å†µ</p>
              </div>
              <div class="benefit">
                <div class="icon">ğŸ§©</div>
                <h4>ç»„ä»¶è§£è€¦</h4>
                <p>å°†ä¸ç»„ä»¶æ— å…³çš„ DOM é€»è¾‘åˆ†ç¦»</p>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸé’©å­</h3>
            <div class="hooks-table">
              <table>
                <thead>
                  <tr>
                    <th>é’©å­å‡½æ•°</th>
                    <th>è°ƒç”¨æ—¶æœº</th>
                    <th>å‚æ•°</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>created</td>
                    <td>åœ¨ç»‘å®šå…ƒç´ çš„ attribute æˆ–äº‹ä»¶ç›‘å¬å™¨è¢«åº”ç”¨ä¹‹å‰è°ƒç”¨</td>
                    <td>el, binding, vnode, prevVnode</td>
                  </tr>
                  <tr>
                    <td>beforeMount</td>
                    <td>åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM å‰è°ƒç”¨</td>
                    <td>el, binding, vnode</td>
                  </tr>
                  <tr>
                    <td>mounted</td>
                    <td>åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æŒ‚è½½å®Œæˆåè°ƒç”¨</td>
                    <td>el, binding, vnode</td>
                  </tr>
                  <tr>
                    <td>beforeUpdate</td>
                    <td>åœ¨åŒ…å«ç»„ä»¶çš„ VNode æ›´æ–°ä¹‹å‰è°ƒç”¨</td>
                    <td>el, binding, vnode, prevVnode</td>
                  </tr>
                  <tr>
                    <td>updated</td>
                    <td>åœ¨åŒ…å«ç»„ä»¶çš„ VNode åŠå…¶å­ç»„ä»¶çš„ VNode æ›´æ–°åè°ƒç”¨</td>
                    <td>el, binding, vnode, prevVnode</td>
                  </tr>
                  <tr>
                    <td>beforeUnmount</td>
                    <td>åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½ä¹‹å‰è°ƒç”¨</td>
                    <td>el, binding, vnode</td>
                  </tr>
                  <tr>
                    <td>unmounted</td>
                    <td>åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½ä¹‹åè°ƒç”¨</td>
                    <td>el, binding, vnode</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- ä½¿ç”¨éƒ¨åˆ† -->
        <section v-show="activeSection === 1">
          <h2>è‡ªå®šä¹‰æŒ‡ä»¤ä½¿ç”¨</h2>

          <div class="card">
            <h3>å…¨å±€æ³¨å†ŒæŒ‡ä»¤</h3>
            <div class="code-sample">
              <pre><code>// main.ts
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)

// æ³¨å†Œå…¨å±€æŒ‡ä»¤ v-focus
app.directive('focus', {
  mounted(el) {
    el.focus()
  }
})

app.mount('#app')</code></pre>
            </div>

            <div class="explanation">
              <h4>ç‰¹ç‚¹ï¼š</h4>
              <ul>
                <li>åœ¨åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶ä¸­å¯ç”¨</li>
                <li>é€‚åˆé¢‘ç¹ä½¿ç”¨çš„æŒ‡ä»¤</li>
                <li>åœ¨åº”ç”¨åˆ›å»ºæ—¶æ³¨å†Œ</li>
              </ul>
            </div>
          </div>

          <div class="card">
            <h3>å±€éƒ¨æ³¨å†ŒæŒ‡ä»¤</h3>
            <div class="code-sample">
              <pre><code>&lt;script setup lang="ts"&gt;
// åœ¨ç»„ä»¶å†…æ³¨å†ŒæŒ‡ä»¤
const vFocus = {
  mounted(el: HTMLElement) {
    el.focus()
  }
}
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-focus placeholder="è‡ªåŠ¨èšç„¦" /&gt;
&lt;/template&gt;</code></pre>
            </div>

            <div class="explanation">
              <h4>ç‰¹ç‚¹ï¼š</h4>
              <ul>
                <li>ä»…åœ¨å½“å‰ç»„ä»¶ä¸­å¯ç”¨</li>
                <li>é€‚åˆç‰¹å®šç»„ä»¶ä½¿ç”¨çš„æŒ‡ä»¤</li>
                <li>ä½¿ç”¨å‘½åçº¦å®šï¼švNameOfDirective</li>
              </ul>
            </div>
          </div>

          <div class="card">
            <h3>æŒ‡ä»¤å‚æ•°åŸºç¡€ä»‹ç»</h3>
            <div class="directive-params">
              <div class="param-card">
                <h4>el</h4>
                <p>æŒ‡ä»¤ç»‘å®šåˆ°çš„ DOM å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥æ“ä½œ</p>
              </div>
              <div class="param-card">
                <h4>binding</h4>
                <p>åŒ…å«æŒ‡ä»¤ä¿¡æ¯çš„å¯¹è±¡ï¼š
                <ul>
                  <li>value - ä¼ é€’ç»™æŒ‡ä»¤çš„å€¼</li>
                  <li>oldValue - ä¹‹å‰çš„å€¼</li>
                  <li>arg - æŒ‡ä»¤å‚æ•°</li>
                  <li>modifiers - ä¿®é¥°ç¬¦å¯¹è±¡</li>
                  <li>instance - ç»„ä»¶å®ä¾‹</li>
                </ul>
                </p>
              </div>
              <div class="param-card">
                <h4>vnode</h4>
                <p>ä»£è¡¨ç»‘å®šå…ƒç´ çš„åº•å±‚ VNode</p>
              </div>
              <div class="param-card">
                <h4>prevNode</h4>
                <p>ä¹‹å‰çš„æ¸²æŸ“ä¸­ä»£è¡¨æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ çš„ VNode</p>
              </div>
            </div>
          </div>
        </section>

        <!-- å¸¸ç”¨æŒ‡ä»¤éƒ¨åˆ† -->
        <section v-show="activeSection === 2">
          <h2>å¸¸ç”¨è‡ªå®šä¹‰æŒ‡ä»¤</h2>

          <div class="card">
            <h3>v-focus - è‡ªåŠ¨èšç„¦</h3>
            <div class="directive-demo">
              <div class="code-sample">
                <pre><code>// æ³¨å†ŒæŒ‡ä»¤
app.directive('focus', {
  mounted(el) {
    el.focus()
  },
  updated(el) {
    if (el.dataset.focus === 'true') {
      el.focus()
    }
  }
})

// ä½¿ç”¨
&lt;input v-focus data-focus="true" /&gt;</code></pre>
              </div>
              <div class="demo">
                <input v-focus placeholder="è‡ªåŠ¨èšç„¦è¾“å…¥æ¡†" class="demo-input" />
              </div>
            </div>
          </div>

          <div class="card">
            <h3>v-debounce - é˜²æŠ–å¤„ç†</h3>
            <div class="directive-demo">
              <div class="code-sample">
                <pre><code>app.directive('debounce', {
  mounted(el, binding) {
    let delay = binding.value || 500
    let timer: ReturnType&lt;typeof setTimeout&gt;

    el.addEventListener('input', () => {
      clearTimeout(timer)
      timer = setTimeout(() => {
        binding.instance[binding.arg] = el.value
      }, delay)
    })
  }
})

// ä½¿ç”¨
&lt;input v-debounce:searchText="500" /&gt;</code></pre>
              </div>
              <div class="demo">
                <input v-model="searchTerm" v-debounce="500" placeholder="è¾“å…¥æ—¶500msé˜²æŠ–" class="demo-input" />
                <div class="debounce-result">è¾“å…¥å†…å®¹: {{ searchTerm }}</div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>v-click-outside - ç‚¹å‡»å¤–éƒ¨</h3>
            <div class="directive-demo">
              <div class="code-sample">
                <pre><code>app.directive('click-outside', {
  mounted(el, binding) {
    el.clickOutsideEvent = (event: MouseEvent) => {
      if (!(el === event.target || el.contains(event.target))) {
        binding.value()
      }
    }
    document.addEventListener('click', el.clickOutsideEvent)
  },
  unmounted(el) {
    document.removeEventListener('click', el.clickOutsideEvent)
  }
})

// ä½¿ç”¨
&lt;div v-click-outside="closeDropdown"&gt;
  &lt;button @click="toggleDropdown"&gt;æ‰“å¼€èœå•&lt;/button&gt;
  &lt;div v-if="dropdownOpen"&gt;èœå•å†…å®¹&lt;/div&gt;
&lt;/div&gt;</code></pre>
              </div>
              <div class="demo">
                <div class="dropdown-container">
                  <button @click="dropdownOpen = !dropdownOpen" class="demo-button">
                    {{ dropdownOpen ? 'å…³é—­èœå•' : 'æ‰“å¼€èœå•' }}
                  </button>
                  <div v-if="dropdownOpen" class="dropdown-menu" v-click-outside="closeDropdown">
                    <div class="dropdown-item">èœå•é¡¹ 1</div>
                    <div class="dropdown-item">èœå•é¡¹ 2</div>
                    <div class="dropdown-item">èœå•é¡¹ 3</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>v-permission - æƒé™æ§åˆ¶</h3>
            <div class="directive-demo">
              <div class="code-sample">
                <pre><code>app.directive('permission', {
  mounted(el, binding) {
    const { value } = binding
    const permissions = ['admin', 'editor'] // ç”¨æˆ·æƒé™

    if (value && !permissions.includes(value)) {
      el.parentNode?.removeChild(el)
    }
  }
})

// ä½¿ç”¨
&lt;button v-permission="'admin'"&gt;ç®¡ç†å‘˜æŒ‰é’®&lt;/button&gt;</code></pre>
              </div>
              <div class="demo">
                <div class="permission-demo">
                  <button v-permission="'admin'" class="demo-button">ç®¡ç†å‘˜æŒ‰é’®</button>
                  <p class="permission-note">å½“å‰ç”¨æˆ·æƒé™: editor (ä»…æ˜¾ç¤ºå…·æœ‰ editor æƒé™çš„æŒ‰é’®)</p>
                  <button v-permission="'editor'" class="demo-button">ç¼–è¾‘è€…æŒ‰é’®</button>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>v-copy - å¤åˆ¶æ–‡æœ¬</h3>
            <div class="directive-demo">
              <div class="code-sample">
                <pre><code>app.directive('copy', {
  mounted(el, binding) {
    el.copyHandler = () => {
      const text = binding.value || el.innerText
      navigator.clipboard.writeText(text)
        .then(() => {
          alert('å¤åˆ¶æˆåŠŸ: ' + text)
        })
        .catch(err => {
          console.error('å¤åˆ¶å¤±è´¥:', err)
        })
    }
    el.addEventListener('click', el.copyHandler)
  },
  unmounted(el) {
    el.removeEventListener('click', el.copyHandler)
  }
})

// ä½¿ç”¨
&lt;button v-copy="'è¦å¤åˆ¶çš„æ–‡æœ¬'"&gt;å¤åˆ¶&lt;/button&gt;</code></pre>
              </div>
              <div class="demo">
                <button v-copy="'https://github.com/vuejs/core'" class="demo-button">
                  å¤åˆ¶ Vue GitHub é“¾æ¥
                </button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <footer>
      <p>è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ Vue å¼ºå¤§çš„æ‰©å±•æœºåˆ¶ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æå¤§æé«˜ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
      <div class="footer-links">
        <a href="https://vuejs.org/guide/reusability/custom-directives.html" target="_blank">
          Vue å®˜æ–¹æ–‡æ¡£
        </a>
        <a href="https://github.com/vuejs/awesome-vue#custom-directives" target="_blank">
          æ›´å¤šæŒ‡ä»¤ç¤ºä¾‹
        </a>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// å¯¼èˆªçŠ¶æ€
const activeSection = ref(0);
const navItems = ref([
  { title: 'åŸºæœ¬æ¦‚å¿µ' },
  { title: 'ä½¿ç”¨æ–¹æ³•' },
  { title: 'å¸¸ç”¨æŒ‡ä»¤' }
]);

// æ¼”ç¤ºçŠ¶æ€
const searchTerm = ref('');
const dropdownOpen = ref(false);

// v-focus æŒ‡ä»¤
const vFocus = {
  mounted: (el: HTMLElement) => el.focus()
};

// v-debounce æŒ‡ä»¤
const vDebounce = {
  mounted(el: HTMLElement, binding: any) {
    const delay = binding.value || 500;
    let timer: ReturnType<typeof setTimeout>;

    el.addEventListener('input', () => {
      clearTimeout(timer);
      timer = setTimeout(() => {
        // å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šè§¦å‘äº‹ä»¶æˆ–æ›´æ–°çŠ¶æ€
        console.log('é˜²æŠ–åè¾“å…¥:', (el as HTMLInputElement).value);
      }, delay);
    });
  }
};

// v-click-outside æŒ‡ä»¤
const vClickOutside = {
  mounted(el: HTMLElement, binding: any) {
    (el as any).clickOutsideEvent = (event: MouseEvent) => {
      if (!(el === event.target || el.contains(event.target as Node))) {
        binding.value();
      }
    };
    document.addEventListener('click', (el as any).clickOutsideEvent);
  },
  unmounted(el: HTMLElement) {
    document.removeEventListener('click', (el as any).clickOutsideEvent);
  }
};

// v-permission æŒ‡ä»¤
const vPermission = {
  mounted(el: HTMLElement, binding: any) {
    const permissions = ['editor']; // æ¨¡æ‹Ÿå½“å‰ç”¨æˆ·æƒé™
    if (binding.value && !permissions.includes(binding.value)) {
      el.style.display = 'none';
    }
  }
};

// v-copy æŒ‡ä»¤
const vCopy = {
  mounted(el: HTMLElement, binding: any) {
    el.addEventListener('click', () => {
      const text = binding.value || el.innerText;
      navigator.clipboard.writeText(text)
        .then(() => {
          alert(`å¤åˆ¶æˆåŠŸ: ${text}`);
        })
        .catch(err => {
          console.error('å¤åˆ¶å¤±è´¥:', err);
          alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
        });
    });
  }
};

// å…³é—­ä¸‹æ‹‰èœå•
const closeDropdown = () => {
  dropdownOpen.value = false;
};
</script>

<style scoped lang="less">
@primary-color: #42b983;
@secondary-color: #35495e;
@accent-color: #e7f4ee;
@background-color: #f9f9f9;
@card-color: #ffffff;
@text-color: #2c3e50;
@border-color: #e0e0e0;
@code-bg: #2d2d2d;

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.custom-directives-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: @text-color;
  background-color: @background-color;
  line-height: 1.6;

  header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid @border-color;

    h1 {
      color: @secondary-color;
      margin-bottom: 15px;
      font-size: 2.5rem;
      position: relative;
      display: inline-block;

      &::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: @primary-color;
        border-radius: 2px;
      }
    }

    .overview {
      max-width: 800px;
      margin: 20px auto 0;
      font-size: 1.1rem;
      color: lighten(@text-color, 20%);
    }
  }

  .content-wrapper {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;

    @media (max-width: 768px) {
      flex-direction: column;
    }
  }

  .navigation {
    flex: 0 0 200px;
    display: flex;
    flex-direction: column;
    gap: 10px;

    @media (max-width: 768px) {
      flex-direction: row;
      flex-wrap: wrap;
      flex: none;
    }

    div {
      padding: 15px 20px;
      background: #f0f7f3;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      color: @secondary-color;

      &:hover {
        background: darken(#f0f7f3, 5%);
        transform: translateX(5px);

        @media (max-width: 768px) {
          transform: translateY(-3px);
        }
      }

      &.active {
        background: @primary-color;
        color: white;
        font-weight: bold;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
    }
  }

  .content {
    flex: 1;

    section {
      margin-bottom: 30px;

      h2 {
        color: @secondary-color;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid @border-color;
      }
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid @border-color;

      h3 {
        color: @secondary-color;
        margin-bottom: 20px;
        font-size: 1.4rem;
      }

      h4 {
        color: @primary-color;
        margin: 15px 0 10px;
      }

      p {
        margin-bottom: 15px;
        line-height: 1.7;
        color: lighten(@text-color, 15%);
      }

      ul {
        padding-left: 25px;
        margin-bottom: 20px;

        li {
          margin-bottom: 10px;
          line-height: 1.6;
        }
      }
    }

    .comparison {
      display: flex;
      gap: 30px;
      margin-top: 20px;

      @media (max-width: 600px) {
        flex-direction: column;
      }

      .comparison-item {
        flex: 1;
        background: #f8fcf9;
        border-radius: 8px;
        padding: 20px;
        border: 1px solid @border-color;

        h4 {
          margin-bottom: 15px;
          padding-bottom: 10px;
          border-bottom: 1px solid @border-color;
        }

        ul {
          padding-left: 20px;

          li {
            margin-bottom: 8px;
            padding: 8px 0;
            border-bottom: 1px dashed @border-color;
          }
        }
      }
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;

      .benefit {
        background: #f8fcf9;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        border: 1px solid @border-color;

        .icon {
          font-size: 2.5rem;
          margin-bottom: 15px;
        }

        h4 {
          margin-bottom: 10px;
          color: @primary-color;
        }
      }
    }

    .hooks-table {
      overflow-x: auto;

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;

        th,
        td {
          padding: 12px 15px;
          text-align: left;
          border-bottom: 1px solid @border-color;
        }

        th {
          background-color: @primary-color;
          color: white;
          font-weight: bold;
        }

        tr:nth-child(even) {
          background-color: #f8fcf9;
        }

        tr:hover {
          background-color: darken(#f8fcf9, 2%);
        }
      }
    }

    .code-sample {
      background: @code-bg;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;

      pre {
        margin: 0;

        code {
          color: #f8f8f2;
          font-family: 'Fira Code', 'Courier New', monospace;
          font-size: 0.95rem;
          line-height: 1.5;

          .comment {
            color: #75715e;
          }

          .keyword {
            color: #f92672;
          }

          .function {
            color: #66d9ef;
          }

          .string {
            color: #a6e22e;
          }

          .number {
            color: #ae81ff;
          }
        }
      }
    }

    .explanation {
      background: #f0f7f3;
      border-radius: 8px;
      padding: 20px;
      margin-top: 15px;

      h4 {
        margin-top: 0;
        margin-bottom: 10px;
      }
    }

    .directive-params {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;

      .param-card {
        background: #f8fcf9;
        border-radius: 8px;
        padding: 20px;
        border: 1px solid @border-color;

        h4 {
          margin-top: 0;
          margin-bottom: 10px;
          color: @primary-color;
        }

        ul {
          padding-left: 20px;
          margin-top: 10px;

          li {
            margin-bottom: 5px;
            font-size: 0.9rem;
          }
        }
      }
    }

    .directive-demo {
      display: flex;
      gap: 30px;
      margin-top: 20px;

      @media (max-width: 900px) {
        flex-direction: column;
      }

      .code-sample {
        flex: 1;
      }

      .demo {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 200px;
        background: #f0f7f3;
        border-radius: 8px;
        padding: 20px;
        border: 1px solid @border-color;

        .demo-input {
          padding: 10px 15px;
          border: 1px solid @border-color;
          border-radius: 6px;
          width: 100%;
          max-width: 300px;
          font-size: 1rem;

          &:focus {
            outline: none;
            border-color: @primary-color;
            box-shadow: 0 0 0 2px fade(@primary-color, 20%);
          }
        }

        .debounce-result {
          margin-top: 15px;
          font-size: 0.9rem;
          color: @primary-color;
          font-weight: 500;
        }

        .dropdown-container {
          position: relative;
          width: 100%;
          max-width: 300px;
          text-align: center;
        }

        .demo-button {
          padding: 10px 20px;
          background: @primary-color;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 1rem;
          transition: background 0.3s;

          &:hover {
            background: darken(@primary-color, 10%);
          }
        }

        .dropdown-menu {
          position: absolute;
          top: 45px;
          left: 0;
          width: 100%;
          background: white;
          border: 1px solid @border-color;
          border-radius: 6px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          z-index: 10;
          overflow: hidden;
        }

        .dropdown-item {
          padding: 12px 15px;
          border-bottom: 1px solid @border-color;
          cursor: pointer;
          transition: background 0.2s;

          &:last-child {
            border-bottom: none;
          }

          &:hover {
            background: #f0f7f3;
          }
        }

        .permission-demo {
          display: flex;
          flex-direction: column;
          gap: 15px;
          align-items: center;
          width: 100%;
        }

        .permission-note {
          font-size: 0.9rem;
          color: #666;
          text-align: center;
        }
      }
    }
  }

  footer {
    margin-top: 40px;
    padding: 25px;
    background-color: #f0f7f3;
    border-radius: 12px;
    text-align: center;
    font-size: 1.1rem;
    border-top: 2px solid @border-color;

    p {
      margin-bottom: 15px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;

      a {
        color: @primary-color;
        text-decoration: none;
        font-weight: 500;

        &:hover {
          text-decoration: underline;
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .custom-directives-container {
    padding: 15px;

    header h1 {
      font-size: 2rem;
    }
  }
}
</style>
