<template>
  <div class="virtual-dom-container">
    <header class="header">
      <h1>Vue è™šæ‹Ÿ DOM åŸºæœ¬è§£æ</h1>
      <p class="subtitle">ç†è§£ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒæ¸²æŸ“æœºåˆ¶</p>
    </header>

    <div class="content">
      <div class="intro-card">
        <div class="icon-box">ğŸ’¡</div>
        <div class="intro-content">
          <h2>ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOMï¼Ÿ</h2>
          <p>è™šæ‹Ÿ DOM (Virtual DOM) æ˜¯ Vueã€React ç­‰ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µã€‚å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ JavaScript å¯¹è±¡ï¼Œä½œä¸ºçœŸå® DOM çš„æŠ½è±¡è¡¨ç¤ºã€‚å½“åº”ç”¨çŠ¶æ€å˜åŒ–æ—¶ï¼Œæ¡†æ¶ä¼šå…ˆåœ¨è™šæ‹Ÿ DOM
            ä¸Šè¿›è¡Œæ“ä½œï¼Œç„¶åé€šè¿‡é«˜æ•ˆçš„æ¯”è¾ƒç®—æ³•è®¡ç®—å‡ºæœ€å°æ›´æ–°æ“ä½œï¼Œæœ€ååº”ç”¨åˆ°çœŸå® DOM ä¸Šã€‚</p>
        </div>
      </div>

      <div class="core-section">
        <div class="concept-card">
          <div class="concept-header">
            <div class="concept-icon">ğŸ§ </div>
            <h3>è™šæ‹Ÿ DOM çš„æ ¸å¿ƒæ¦‚å¿µ</h3>
          </div>
          <div class="concept-body">
            <ul>
              <li><strong>æŠ½è±¡è¡¨ç¤º</strong>ï¼šè™šæ‹Ÿ DOM æ˜¯çœŸå® DOM ç»“æ„çš„ JavaScript å¯¹è±¡è¡¨ç¤º</li>
              <li><strong>è½»é‡çº§</strong>ï¼šæ“ä½œè™šæ‹Ÿ DOM æ¯”æ“ä½œçœŸå® DOM æ›´å¿«ã€æ›´é«˜æ•ˆï¼ˆä¸ä¸€å®šï¼Œå› ä¸ºè™šæ‹Ÿ DOM éœ€è¦åˆ›å»ºå¯¹è±¡ï¼ŒçœŸå® DOM ä¸éœ€è¦ï¼‰</li>
              <li><strong>Diff ç®—æ³•</strong>ï¼šæ¯”è¾ƒæ–°æ—§è™šæ‹Ÿ DOM æ ‘ï¼Œæ‰¾å‡ºæœ€å°å˜æ›´é›†</li>
              <li><strong>æ‰¹é‡æ›´æ–°</strong>ï¼šå°†å¤šä¸ª DOM æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ›´æ–°</li>
              <li><strong>è·¨å¹³å°</strong>ï¼šç›¸åŒçš„è™šæ‹Ÿ DOM å¯ä»¥æ¸²æŸ“åˆ°ä¸åŒå¹³å°ï¼ˆWebã€Nativeï¼‰</li>
            </ul>
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-header">
            <div class="concept-icon">âš™ï¸</div>
            <h3>è™šæ‹Ÿ DOM å·¥ä½œæµç¨‹</h3>
          </div>
          <div class="concept-body">
            <div class="workflow">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">æ•°æ®å˜æ›´è§¦å‘é‡æ–°æ¸²æŸ“</div>
              </div>
              <div class="step-arrow">â†’</div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM æ ‘</div>
              </div>
              <div class="step-arrow">â†’</div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">æ¯”è¾ƒæ–°æ—§è™šæ‹Ÿ DOMï¼ˆDiffï¼‰</div>
              </div>
              <div class="step-arrow">â†’</div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">è®¡ç®—æœ€å°å˜æ›´é›†</div>
              </div>
              <div class="step-arrow">â†’</div>
              <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">æ‰¹é‡æ›´æ–°çœŸå® DOM</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="implementation-section">
        <h2>ç®€æ˜“è™šæ‹Ÿ DOM å®ç°</h2>
        <div class="implementation-container">
          <div class="code-explanation">
            <p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„è™šæ‹Ÿ DOM å®ç°ï¼Œå±•ç¤ºäº†å…¶æ ¸å¿ƒåŸç†ï¼š</p>

            <div class="code-block">
              <pre><code>// è™šæ‹ŸDOMèŠ‚ç‚¹ç±»
class VNode {
  constructor(tag, props, children) {
    this.tag = tag;       // æ ‡ç­¾å
    this.props = props;   // å±æ€§å¯¹è±¡
    this.children = children; // å­èŠ‚ç‚¹æ•°ç»„
  }
}

// åˆ›å»ºè™šæ‹ŸDOM
function createVNode(tag, props, children) {
  return new VNode(tag, props, children);
}

// å°†è™šæ‹ŸDOMæ¸²æŸ“ä¸ºçœŸå®DOM
function render(vnode) {
  if (typeof vnode === 'string') {
    return document.createTextNode(vnode);
  }

  const el = document.createElement(vnode.tag);

  // è®¾ç½®å±æ€§
  for (const key in vnode.props) {
    el.setAttribute(key, vnode.props[key]);
  }

  // æ¸²æŸ“å­èŠ‚ç‚¹
  vnode.children.forEach(child => {
    el.appendChild(render(child));
  });

  return el;
}

// Diffç®—æ³•ç®€åŒ–å®ç°
function diff(oldVNode, newVNode) {
  // å¦‚æœèŠ‚ç‚¹ç±»å‹ä¸åŒï¼Œç›´æ¥æ›¿æ¢
  if (oldVNode.tag !== newVNode.tag) {
    return (parent) => {
      parent.replaceChild(render(newVNode), parent.childNodes[0]);
    };
  }

  const patches = [];

  // æ¯”è¾ƒå±æ€§å·®å¼‚
  const propsPatches = diffProps(oldVNode.props, newVNode.props);
  if (propsPatches) {
    patches.push((node) => {
      for (const key in propsPatches) {
        if (propsPatches[key] === null) {
          node.removeAttribute(key);
        } else {
          node.setAttribute(key, propsPatches[key]);
        }
      }
    });
  }

  // æ¯”è¾ƒå­èŠ‚ç‚¹å·®å¼‚
  const childrenPatches = diffChildren(oldVNode.children, newVNode.children);
  childrenPatches.forEach((childPatch, index) => {
    if (childPatch) {
      patches.push((node) => {
        childPatch(node.childNodes[index]);
      });
    }
  });

  return (node) => {
    patches.forEach(patch => patch(node));
  };
}

// åº”ç”¨å·®å¼‚æ›´æ–°
function patch(parent, patches) {
  patches(parent);
}

// ç¤ºä¾‹ä½¿ç”¨
const oldVTree = createVNode('div', { id: 'app' }, [
  createVNode('h1', { class: 'title' }, ['Hello World']),
  createVNode('p', {}, ['This is the old content'])
]);

const newVTree = createVNode('div', { id: 'app' }, [
  createVNode('h1', { class: 'title updated' }, ['Hello Vue']),
  createVNode('p', {}, ['This is updated content']),
  createVNode('p', {}, ['New paragraph added'])
]);

// é¦–æ¬¡æ¸²æŸ“
const app = document.getElementById('app');
app.appendChild(render(oldVTree));

// æ•°æ®æ›´æ–°å
setTimeout(() => {
  const patches = diff(oldVTree, newVTree);
  patch(app, patches);
}, 2000);</code></pre>
            </div>
          </div>

          <div class="implementation-details">
            <h3>å…³é”®å®ç°ç»†èŠ‚</h3>
            <ul>
              <li><strong>VNode ç±»</strong>ï¼šè¡¨ç¤ºè™šæ‹Ÿ DOM èŠ‚ç‚¹çš„åŸºæœ¬ç»“æ„</li>
              <li><strong>render å‡½æ•°</strong>ï¼šå°†è™šæ‹Ÿ DOM è½¬æ¢ä¸ºçœŸå® DOM</li>
              <li><strong>diff ç®—æ³•</strong>ï¼šæ¯”è¾ƒæ–°æ—§è™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚</li>
              <li><strong>patch å‡½æ•°</strong>ï¼šå°†å·®å¼‚åº”ç”¨åˆ°çœŸå® DOM</li>
              <li><strong>æ‰¹é‡æ›´æ–°</strong>ï¼šæ”¶é›†æ‰€æœ‰å˜æ›´åä¸€æ¬¡æ€§æ›´æ–°</li>
            </ul>

            <div class="performance-tip">
              <div class="tip-icon">ğŸš€</div>
              <p>Vue 3 å¯¹è™šæ‹Ÿ DOM è¿›è¡Œäº†é‡å¤§ä¼˜åŒ–ï¼ŒåŒ…æ‹¬é™æ€æ ‘æå‡ã€è¡¥ä¸æ ‡è®°å’ŒåŸºäº Proxy çš„å“åº”å¼ç³»ç»Ÿï¼Œä½¿å…¶æ¯” Vue 2 å¿« 2 å€ã€‚</p>
            </div>
          </div>
        </div>
      </div>

      <div class="comparison-section">
        <h2>è™šæ‹Ÿ DOM ä¸çœŸå® DOM å¯¹æ¯”</h2>
        <div class="comparison-grid">
          <div class="comparison-header">å¯¹æ¯”ç»´åº¦</div>
          <div class="comparison-header">çœŸå® DOM</div>
          <div class="comparison-header">è™šæ‹Ÿ DOM</div>

          <div class="comparison-row">æ“ä½œé€Ÿåº¦</div>
          <div class="negative">å¿«ï¼ˆç›´æ¥æ“ä½œ DOM é€Ÿåº¦å¿«ï¼‰</div>
          <div class="positive">æ…¢ï¼ˆè¦å…ˆåœ¨å†…å­˜ä¸­æ“ä½œï¼Œç„¶åæ¸²æŸ“åˆ° DOMï¼‰</div>

          <div class="comparison-row">æ›´æ–°å½±å“</div>
          <div class="negative">é«˜ï¼ˆé¢‘ç¹æ›´æ–°å¯¼è‡´é‡ç»˜å›æµï¼‰ï¼ˆä¹Ÿå¯ä»¥åˆ©ç”¨fragmentæ¥ä¼˜åŒ–ï¼‰</div>
          <div class="positive">ä½ï¼ˆæ‰¹é‡æ›´æ–°ï¼Œæœ€å°åŒ–æ“ä½œï¼‰</div>

          <div class="comparison-row">å†…å­˜å ç”¨</div>
          <div class="positive">ä½ï¼ˆæµè§ˆå™¨åŸç”Ÿå¯¹è±¡ï¼‰</div>
          <div class="negative">è¾ƒé«˜ï¼ˆéœ€è¦é¢å¤–å­˜å‚¨è™šæ‹Ÿæ ‘ï¼‰</div>

          <div class="comparison-row">é¦–æ¬¡æ¸²æŸ“</div>
          <div class="positive">å¿«ï¼ˆç›´æ¥åˆ›å»ºï¼‰</div>
          <div class="negative">ç¨æ…¢ï¼ˆéœ€åˆ›å»ºè™šæ‹Ÿæ ‘ï¼‰</div>

          <div class="comparison-row">å¤æ‚æ›´æ–°</div>
          <div class="negative">æ€§èƒ½å·®ï¼ˆé¢‘ç¹æ“ä½œï¼‰æ€§èƒ½å¥½ï¼ˆç›´æ¥æ“ä½œdomï¼‰</div>
          <div class="positive">æ€§èƒ½å¥½ï¼ˆDiff ç®—æ³•ä¼˜åŒ–ï¼‰æ€§èƒ½å·®(éœ€è¦ç”Ÿæˆæ›´å¤šè™šæ‹ŸèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ)</div>

          <div class="comparison-row">å¼€å‘ä½“éªŒ</div>
          <div class="negative">ç¹çï¼ˆæ‰‹åŠ¨ç®¡ç†æ›´æ–°ï¼‰</div>
          <div class="positive">ä¼˜ç§€ï¼ˆå£°æ˜å¼ç¼–ç¨‹ï¼‰</div>

          <div class="comparison-row">è·¨å¹³å°èƒ½åŠ›</div>
          <div class="negative">ä»…é™æµè§ˆå™¨</div>
          <div class="positive">æ”¯æŒå¤šå¹³å°ï¼ˆWebã€Nativeï¼‰</div>
        </div>
      </div>

      <div class="pros-cons-section">
        <h2>è™šæ‹Ÿ DOM çš„ä¼˜åŠ¿ä¸ç¼ºé™·</h2>
        <div class="pros-cons-container">
          <div class="pros">
            <div class="section-header">
              <div class="icon">âœ…</div>
              <h3>ä¼˜åŠ¿</h3>
            </div>
            <ul>
              <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„ DOM æ“ä½œï¼Œé¿å…é¢‘ç¹é‡ç»˜å’Œå›æµ</li>
              <li><strong>å£°æ˜å¼ç¼–ç¨‹</strong>ï¼šå¼€å‘è€…åªéœ€å…³æ³¨æ•°æ®å˜åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ DOM</li>
              <li><strong>è·¨å¹³å°æ¸²æŸ“</strong>ï¼šåŒä¸€å¥—è™šæ‹Ÿ DOM å¯æ¸²æŸ“åˆ° Webã€ç§»åŠ¨ç«¯ç­‰ä¸åŒå¹³å°</li>
              <li><strong>å¤æ‚æ›´æ–°ä¼˜åŒ–</strong>ï¼šé€šè¿‡ Diff ç®—æ³•æ™ºèƒ½è®¡ç®—æœ€å°æ›´æ–°é›†</li>
              <li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šç®€åŒ– UI æ›´æ–°é€»è¾‘ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
            </ul>
          </div>

          <div class="cons">
            <div class="section-header">
              <div class="icon">âš ï¸</div>
              <h3>ç¼ºé™·</h3>
            </div>
            <ul>
              <li><strong>å†…å­˜å ç”¨</strong>ï¼šéœ€è¦é¢å¤–å†…å­˜å­˜å‚¨è™šæ‹Ÿ DOM æ ‘</li>
              <li><strong>é¦–æ¬¡æ¸²æŸ“è¾ƒæ…¢</strong>ï¼šéœ€è¦åˆ›å»ºè™šæ‹Ÿ DOM æ ‘ï¼Œç„¶åæ¸²æŸ“åˆ°çœŸå® DOM</li>
              <li><strong>ä¸é€‚åˆç®€å•åœºæ™¯</strong>ï¼šå¯¹äºç®€å•é™æ€é¡µé¢ï¼Œè™šæ‹Ÿ DOM åè€Œå¢åŠ å¼€é”€</li>
              <li><strong>è¿‡åº¦ä¾èµ– Diff ç®—æ³•</strong>ï¼šç®—æ³•æ•ˆç‡ç›´æ¥å½±å“æ€§èƒ½</li>
              <li><strong>å­¦ä¹ æ›²çº¿</strong>ï¼šéœ€è¦ç†è§£å…¶å·¥ä½œåŸç†æ‰èƒ½é«˜æ•ˆä½¿ç”¨</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="vue3-optimizations">
        <h2>Vue 3 ä¸­çš„è™šæ‹Ÿ DOM ä¼˜åŒ–</h2>
        <div class="optimizations-grid">
          <div class="optimization-card">
            <div class="optimization-icon">ğŸ·ï¸</div>
            <h3>é™æ€æ ‘æå‡</h3>
            <p>æ£€æµ‹å’Œæå‡é™æ€èŠ‚ç‚¹ï¼Œåœ¨é‡æ–°æ¸²æŸ“æ—¶è·³è¿‡æ•´ä¸ªå­æ ‘</p>
          </div>

          <div class="optimization-card">
            <div class="optimization-icon">ğŸ“Œ</div>
            <h3>é™æ€å±æ€§æå‡</h3>
            <p>æå‡é™æ€å±æ€§åˆ°æ¸²æŸ“å‡½æ•°å¤–éƒ¨ï¼Œé¿å…é‡å¤åˆ›å»º</p>
          </div>

          <div class="optimization-card">
            <div class="optimization-icon">ğŸ¯</div>
            <h3>è¡¥ä¸æ ‡è®°</h3>
            <p>æ ‡è®°åŠ¨æ€èŠ‚ç‚¹ï¼Œåœ¨ Diff è¿‡ç¨‹ä¸­åªæ£€æŸ¥æœ‰æ ‡è®°çš„éƒ¨åˆ†</p>
          </div>

          <div class="optimization-card">
            <div class="optimization-icon">ğŸ§©</div>
            <h3>Fragment æ”¯æŒ</h3>
            <p>æ”¯æŒå¤šæ ¹èŠ‚ç‚¹ç»„ä»¶ï¼Œå‡å°‘ä¸å¿…è¦çš„åŒ…è£…å…ƒç´ </p>
          </div>

          <div class="optimization-card">
            <div class="optimization-icon">ğŸ”§</div>
            <h3>ç¼–è¯‘å™¨ä¼˜åŒ–</h3>
            <p>åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œæ›´å¤šä¼˜åŒ–ï¼Œç”Ÿæˆæ›´é«˜æ•ˆçš„æ¸²æŸ“å‡½æ•°</p>
          </div>

          <div class="optimization-card">
            <div class="optimization-icon">âš¡</div>
            <h3>åŸºäº Proxy çš„å“åº”å¼</h3>
            <p>æ›´ç»†ç²’åº¦çš„ä¾èµ–è¿½è¸ªï¼Œå‡å°‘ä¸å¿…è¦çš„ç»„ä»¶é‡æ¸²æŸ“</p>
          </div>
        </div>
      </div>

      <div class="best-practices">
        <h2>æœ€ä½³å®è·µ</h2>
        <div class="practices-grid">
          <div class="practice-card">
            <div class="practice-icon">ğŸ”‘</div>
            <h3>åˆç†ä½¿ç”¨ key</h3>
            <p>ä¸º v-for åˆ—è¡¨é¡¹æä¾›å”¯ä¸€ keyï¼Œå¸®åŠ© Diff ç®—æ³•è¯†åˆ«èŠ‚ç‚¹</p>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸ§±</div>
            <h3>é¿å…æ·±å±‚åµŒå¥—</h3>
            <p>å‡å°‘ç»„ä»¶åµŒå¥—å±‚çº§ï¼Œé™ä½ Diff ç®—æ³•å¤æ‚åº¦</p>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸš«</div>
            <h3>é¿å…ä¸å¿…è¦çš„æ›´æ–°</h3>
            <p>ä½¿ç”¨ v-once æ ‡è®°é™æ€å†…å®¹ï¼Œé¿å…é‡å¤æ¸²æŸ“</p>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸ“¦</div>
            <h3>ç»„ä»¶æ‹†åˆ†</h3>
            <p>å°†å¤§ç»„ä»¶æ‹†åˆ†ä¸ºå°ç»„ä»¶ï¼Œå‡å°‘æ¸²æŸ“èŒƒå›´</p>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸ“Š</div>
            <h3>æ€§èƒ½ç›‘æ§</h3>
            <p>ä½¿ç”¨ Vue Devtools ç›‘æ§ç»„ä»¶æ¸²æŸ“æ€§èƒ½</p>
          </div>

          <div class="practice-card">
            <div class="practice-icon">âš™ï¸</div>
            <h3>åˆç†ä½¿ç”¨ v-show</h3>
            <p>é¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€æ—¶ä½¿ç”¨ v-show è€Œé v-if</p>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>Â© 2023 Vue è™šæ‹Ÿ DOM åŸºç¡€ä»‹ç» | æ·±å…¥ç†è§£ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒæ¸²æŸ“æœºåˆ¶</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// è™šæ‹ŸDOMç”Ÿå‘½å‘¨æœŸç¤ºä¾‹æ•°æ®
const lifecycleSteps = ref([
  { step: "æ•°æ®å˜æ›´", description: "å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–" },
  { step: "è§¦å‘æ›´æ–°", description: "ç»„ä»¶é‡æ–°æ¸²æŸ“å‡½æ•°è¢«è°ƒç”¨" },
  { step: "ç”ŸæˆVNode", description: "åˆ›å»ºæ–°çš„è™šæ‹ŸDOMæ ‘" },
  { step: "Diffæ¯”è¾ƒ", description: "æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMæ ‘å·®å¼‚" },
  { step: "è®¡ç®—è¡¥ä¸", description: "è®¡ç®—æœ€å°DOMæ“ä½œé›†åˆ" },
  { step: "åº”ç”¨æ›´æ–°", description: "å°†å˜æ›´åº”ç”¨åˆ°çœŸå®DOM" }
]);
</script>

<style scoped lang="less">
// å˜é‡å®šä¹‰
@primary-color: #42b883;
@secondary-color: #35495e;
@accent-color: #ff6b6b;
@light-bg: #f8f9fa;
@card-bg: #ffffff;
@border-color: #e1e4e8;
@text-color: #2c3e50;
@light-text: #6c757d;
@success-color: #42b883;
@warning-color: #f39c12;
@shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
@radius: 10px;

// åŸºç¡€æ ·å¼
.virtual-dom-container {
  font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  color: @text-color;
  background-color: @light-bg;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 40px;
  padding: 40px 20px;
  background: linear-gradient(135deg, #42b883, #35495e);
  border-radius: @radius;
  box-shadow: @shadow;
  color: white;

  h1 {
    font-size: 2.8rem;
    font-weight: 700;
    margin-bottom: 0.8rem;
    letter-spacing: -0.5px;
  }

  .subtitle {
    font-size: 1.3rem;
    font-weight: 300;
    opacity: 0.9;
    max-width: 700px;
    margin: 0 auto;
  }
}

.content {
  padding: 0 20px;
}

.intro-card {
  display: flex;
  align-items: center;
  background: @card-bg;
  border-radius: @radius;
  padding: 30px;
  margin-bottom: 40px;
  box-shadow: @shadow;

  .icon-box {
    font-size: 3.5rem;
    margin-right: 30px;
    min-width: 80px;
    text-align: center;
  }

  h2 {
    font-size: 2rem;
    color: @secondary-color;
    margin-bottom: 20px;
  }

  p {
    font-size: 1.15rem;
    line-height: 1.8;
  }
}

.core-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
  gap: 25px;
  margin-bottom: 50px;

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }
}

.concept-card {
  background: @card-bg;
  border-radius: @radius;
  overflow: hidden;
  box-shadow: @shadow;
}

.concept-header {
  display: flex;
  align-items: center;
  padding: 20px;
  background: linear-gradient(to right, #42b883, #4fc08d);
  color: white;

  .concept-icon {
    font-size: 2rem;
    margin-right: 15px;
  }

  h3 {
    margin: 0;
    font-size: 1.6rem;
  }
}

.concept-body {
  padding: 25px;

  ul {
    padding-left: 25px;
    margin: 0;

    li {
      margin-bottom: 15px;
      font-size: 1.1rem;
      line-height: 1.7;

      &::marker {
        color: @primary-color;
      }
    }
  }
}

.workflow {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
}

.step {
  background: #e3f4ed;
  border-radius: 8px;
  padding: 15px;
  min-width: 150px;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);

  .step-number {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: @primary-color;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin: 0 auto 10px;
  }

  .step-content {
    font-weight: 500;
  }
}

.step-arrow {
  color: @primary-color;
  font-size: 1.5rem;
  font-weight: bold;

  @media (max-width: 768px) {
    transform: rotate(90deg);
    margin: 5px 0;
  }
}

.implementation-section {
  margin-bottom: 50px;

  h2 {
    font-size: 1.8rem;
    color: @secondary-color;
    text-align: center;
    margin-bottom: 30px;
  }
}

.implementation-container {
  display: grid;
  grid-template-columns: 1fr 350px;
  gap: 25px;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
}

.code-explanation {
  background: @card-bg;
  border-radius: @radius;
  padding: 25px;
  box-shadow: @shadow;

  p {
    font-size: 1.1rem;
    line-height: 1.8;
    margin-bottom: 20px;
  }
}

.code-block {
  background: #2c3e50;
  border-radius: 8px;
  padding: 25px;
  margin-bottom: 20px;
  overflow-x: auto;

  pre {
    margin: 0;
    color: #f8f8f2;
    font-size: 0.95rem;
    line-height: 1.5;
    white-space: pre;
  }
}

.implementation-details {
  background: @card-bg;
  border-radius: @radius;
  padding: 25px;
  box-shadow: @shadow;

  h3 {
    font-size: 1.3rem;
    color: @secondary-color;
    margin-top: 0;
    margin-bottom: 20px;
  }

  ul {
    padding-left: 25px;
    margin-bottom: 30px;

    li {
      margin-bottom: 12px;
      font-size: 1.05rem;
      line-height: 1.6;

      &::marker {
        color: @primary-color;
      }
    }
  }
}

.performance-tip {
  background: #e3f4ed;
  border-radius: 8px;
  padding: 20px;
  display: flex;

  .tip-icon {
    font-size: 2rem;
    margin-right: 15px;
    color: @primary-color;
  }

  p {
    margin: 0;
    font-size: 1.05rem;
    line-height: 1.7;
  }
}

.comparison-section {
  margin-bottom: 50px;

  h2 {
    font-size: 1.8rem;
    color: @secondary-color;
    text-align: center;
    margin-bottom: 30px;
  }
}

.comparison-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  border-radius: @radius;
  overflow: hidden;
  box-shadow: @shadow;

  >div {
    padding: 15px;
    border-bottom: 1px solid @border-color;

    &:nth-child(2n+1) {
      font-weight: 600;
      background: #f0f7f4;
    }
  }
}

.comparison-header {
  background: @primary-color;
  color: white;
  font-weight: bold;
  text-align: center;
}

.comparison-row {
  background: #f8f9fa;
}

.positive {
  background: #e3f4ed !important;
  position: relative;

  &::after {
    content: "âœ“";
    color: @success-color;
    font-weight: bold;
    position: absolute;
    right: 15px;
  }
}

.negative {
  background: #fdeded !important;
  position: relative;

  &::after {
    content: "âš ";
    color: @accent-color;
    font-weight: bold;
    position: absolute;
    right: 15px;
  }
}

.pros-cons-section {
  margin-bottom: 50px;

  h2 {
    font-size: 1.8rem;
    color: @secondary-color;
    text-align: center;
    margin-bottom: 30px;
  }
}

.pros-cons-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 25px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.pros,
.cons {
  background: @card-bg;
  border-radius: @radius;
  padding: 25px;
  box-shadow: @shadow;
}

.section-header {
  display: flex;
  align-items: center;
  margin-bottom: 20px;

  .icon {
    font-size: 1.8rem;
    margin-right: 15px;
  }

  h3 {
    margin: 0;
    font-size: 1.5rem;
  }
}

.pros {
  border-top: 4px solid @success-color;
}

.cons {
  border-top: 4px solid @accent-color;
}

ul {
  padding-left: 25px;
  margin: 0;

  li {
    margin-bottom: 15px;
    font-size: 1.1rem;
    line-height: 1.7;
  }
}

.vue3-optimizations {
  margin-bottom: 50px;

  h2 {
    font-size: 1.8rem;
    color: @secondary-color;
    text-align: center;
    margin-bottom: 30px;
  }
}

.optimizations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.optimization-card {
  background: @card-bg;
  border-radius: @radius;
  padding: 25px;
  box-shadow: @shadow;
  text-align: center;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }

  .optimization-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: @primary-color;
  }

  h3 {
    font-size: 1.4rem;
    margin-top: 0;
    margin-bottom: 15px;
    color: @secondary-color;
  }

  p {
    font-size: 1.05rem;
    line-height: 1.7;
    margin: 0;
  }
}

.best-practices {
  margin-bottom: 50px;

  h2 {
    font-size: 1.8rem;
    color: @secondary-color;
    text-align: center;
    margin-bottom: 30px;
  }
}

.practices-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.practice-card {
  background: @card-bg;
  border-radius: @radius;
  padding: 25px;
  box-shadow: @shadow;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }

  .practice-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: @primary-color;
  }

  h3 {
    font-size: 1.4rem;
    margin-top: 0;
    margin-bottom: 15px;
    color: @secondary-color;
  }

  p {
    font-size: 1.05rem;
    line-height: 1.7;
    margin: 0;
  }
}

.footer {
  text-align: center;
  padding: 30px 20px;
  margin-top: 50px;
  color: @light-text;
  font-size: 0.95rem;
  border-top: 1px solid @border-color;
}

@media (max-width: 768px) {
  .intro-card {
    flex-direction: column;
    text-align: center;

    .icon-box {
      margin-right: 0;
      margin-bottom: 20px;
    }
  }

  .workflow {
    flex-direction: column;
  }

  .step-arrow {
    transform: rotate(90deg);
    margin: 5px 0;
  }
}
</style>
