<template>
  <div class="vapor-principle">
    <div class="hero">
      <div class="hero-content">
        <h1>Vue Vaporæ¨¡å¼åŸç†æ·±åº¦è§£æ</h1>
        <p class="subtitle">æ­å¼€ä¸‹ä¸€ä»£æ— è™šæ‹ŸDOMæ¸²æŸ“å¼•æ“çš„æŠ€æœ¯å¥¥ç§˜</p>
      </div>
      <div class="hero-animation">
        <div class="animation-container">
          <div class="state-circle">çŠ¶æ€</div>
          <div class="compile-arrow">âœ</div>
          <div class="instructions">ç¼–è¯‘æŒ‡ä»¤</div>
          <div class="dom-arrow">âœ</div>
          <div class="dom-circle">DOMæ›´æ–°</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸ“œ Vaporæ¨¡å¼æ ¸å¿ƒè®¾è®¡ç†å¿µ</h2>

      <div class="core-principles">
        <div class="principle">
          <div class="principle-icon">âš¡</div>
          <div>
            <h3>ç¼–è¯‘æ—¶ä¼˜åŒ–</h3>
            <p>åœ¨æ„å»ºé˜¶æ®µåˆ†ææ¨¡æ¿ç»“æ„ï¼Œç”Ÿæˆé«˜æ•ˆçš„æ›´æ–°æŒ‡ä»¤</p>
          </div>
        </div>

        <div class="principle">
          <div class="principle-icon">ğŸ—œï¸</div>
          <div>
            <h3>è½»é‡åŒ–è¿è¡Œæ—¶</h3>
            <p>ç§»é™¤è™šæ‹ŸDOMåŠå…¶ç›¸å…³å¼€é”€ï¼Œç›´æ¥æ“ä½œåŸç”ŸDOM</p>
          </div>
        </div>

        <div class="principle">
          <div class="principle-icon">ğŸ¯</div>
          <div>
            <h3>ç²¾ç»†åŒ–æ›´æ–°</h3>
            <p>ä»…æ›´æ–°å®é™…å˜åŒ–çš„DOMèŠ‚ç‚¹ï¼Œé¿å…ä¸å¿…è¦çš„æ“ä½œ</p>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸ”„ ä¼ ç»Ÿè™šæ‹ŸDOMæ›´æ–°æµç¨‹</h2>

      <div class="update-process">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>çŠ¶æ€å˜åŒ–</h3>
            <p>å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–</p>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>åˆ›å»ºè™šæ‹ŸDOMæ ‘</h3>
            <p>é‡æ–°ç”Ÿæˆæ•´ä¸ªç»„ä»¶çš„è™šæ‹ŸDOMè¡¨ç¤º</p>
            <div class="code-snippet">
              <pre>const vnode = { tag: 'div', children: [...] }</pre>
            </div>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Diffç®—æ³•æ¯”è¾ƒ</h3>
            <p>å¯¹æ¯”æ–°æ—§è™šæ‹ŸDOMæ ‘ï¼Œæ‰¾å‡ºå·®å¼‚</p>
            <div class="complexity">O(n)æ—¶é—´å¤æ‚åº¦</div>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>ç”Ÿæˆæ›´æ–°æ“ä½œ</h3>
            <p>å°†å·®å¼‚è½¬æ¢ä¸ºDOMæ“ä½œæŒ‡ä»¤</p>
            <div class="code-snippet">
              <pre>patch(el, oldVNode, newVNode)</pre>
            </div>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">5</div>
          <div class="step-content">
            <h3>åº”ç”¨DOMæ›´æ–°</h3>
            <p>æ‰§è¡ŒDOMæ“ä½œæ›´æ–°ç•Œé¢</p>
          </div>
        </div>
      </div>

      <div class="limitation">
        <div class="limitation-icon">âš ï¸</div>
        <div class="limitation-content">
          <h3>æ ¸å¿ƒé—®é¢˜ï¼šåŒé‡å¼€é”€</h3>
          <p>1. åˆ›å»ºè™šæ‹ŸDOMæ ‘çš„å¼€é”€ (å†…å­˜ + CPU)</p>
          <p>2. Diffç®—æ³•æ‰§è¡Œçš„å¼€é”€ (O(n)å¤æ‚åº¦)</p>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸš€ Vaporæ¨¡å¼æ›´æ–°åŸç†</h2>

      <div class="vapor-update-process">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>ç¼–è¯‘é˜¶æ®µ</h3>
            <p>åˆ†ææ¨¡æ¿ç»“æ„ï¼Œç”Ÿæˆæ›´æ–°æŒ‡ä»¤</p>
            <div class="code-snippet">
              <pre>// ç¼–è¯‘æ—¶ç”Ÿæˆçš„æ›´æ–°å‡½æ•°
function update_count(val) {
  setText(__ctx.countEl, val)
}</pre>
            </div>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>çŠ¶æ€å˜åŒ–</h3>
            <p>å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–</p>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>ç›´æ¥æ‰§è¡Œæ›´æ–°å‡½æ•°</h3>
            <p>è°ƒç”¨ç¼–è¯‘ç”Ÿæˆçš„ç²¾ç¡®æ›´æ–°æŒ‡ä»¤</p>
            <div class="code-snippet">
              <pre>// çŠ¶æ€å˜åŒ–æ—¶ç›´æ¥è°ƒç”¨
count.value++  =>  update_count(1)</pre>
            </div>
          </div>
        </div>

        <div class="arrow">âœ</div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>DOMç²¾ç¡®æ›´æ–°</h3>
            <p>ç›´æ¥ä¿®æ”¹å—å½±å“çš„å…·ä½“DOMèŠ‚ç‚¹</p>
          </div>
        </div>
      </div>

      <div class="vapor-advantages">
        <div class="advantage">
          <div class="advantage-icon">ğŸš«</div>
          <div>
            <h3>æ— è™šæ‹ŸDOMåˆ›å»º</h3>
            <p>èŠ‚çœåˆ›å»ºè™šæ‹ŸDOMæ ‘çš„æ—¶é—´å’Œå†…å­˜</p>
          </div>
        </div>

        <div class="advantage">
          <div class="advantage-icon">âŒ</div>
          <div>
            <h3>æ— Diffç®—æ³•</h3>
            <p>é¿å…O(n)å¤æ‚åº¦çš„æ¯”è¾ƒæ“ä½œ</p>
          </div>
        </div>

        <div class="advantage">
          <div class="advantage-icon">ğŸ¯</div>
          <div>
            <h3>ç²¾ç¡®æ›´æ–°</h3>
            <p>ç›´æ¥å®šä½åˆ°éœ€è¦æ›´æ–°çš„DOMèŠ‚ç‚¹</p>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸ”§ ç¼–è¯‘æ—¶ä¼˜åŒ–æŠ€æœ¯</h2>

      <div class="compilation-tech">
        <div class="tech">
          <h3><span class="tech-icon">ğŸ·ï¸</span> é™æ€æå‡</h3>
          <div class="tech-content">
            <p>å°†é™æ€å†…å®¹æå‡åˆ°ç»„ä»¶èŒƒå›´å¤–ï¼Œé¿å…é‡å¤åˆ›å»º</p>
            <div class="code-comparison">
              <div class="code-block">
                <h4>åŸå§‹æ¨¡æ¿</h4>
                <pre>&lt;div&gt;
  &lt;h1&gt;Static Title&lt;/h1&gt;
  &lt;p&gt;&#123;&#123; dynamicContent &#125;&#125;&lt;/p&gt;
&lt;/div&gt;</pre>
              </div>
              <div class="arrow">âœ</div>
              <div class="code-block">
                <h4>ç¼–è¯‘å</h4>
                <pre>const _hoisted = createStaticVNode(
  "&lt;h1&gt;Static Title&lt;/h1&gt;"
)

function render() {
  return [
    _hoisted,
    createTextNode(ctx.dynamicContent)
  ]
}</pre>
              </div>
            </div>
          </div>
        </div>

        <div class="tech">
          <h3><span class="tech-icon">ğŸ“</span> é”šç‚¹å®šä½</h3>
          <div class="tech-content">
            <p>ä¸ºåŠ¨æ€èŠ‚ç‚¹åˆ›å»ºç›´æ¥å¼•ç”¨</p>
            <div class="code-snippet">
              <pre>// ç¼–è¯‘æ—¶ç”Ÿæˆé”šç‚¹å¼•ç”¨
const __ctx = {
  countEl: /* å®šä½åˆ°countå…ƒç´  */
}</pre>
            </div>
            <div class="visual-example">
              <div class="dom-node">
                &lt;div&gt;
                <div class="dom-node dynamic">
                  &lt;p&gt;Count: &#123;&#123; count &#125;&#125;&lt;/p&gt;
                  <div class="anchor">anchored</div>
                </div>
                &lt;/div&gt;
              </div>
            </div>
          </div>
        </div>

        <div class="tech">
          <h3><span class="tech-icon">ğŸ“Œ</span> æ›´æ–°æŒ‡ä»¤</h3>
          <div class="tech-content">
            <p>ä¸ºæ¯ä¸ªå“åº”å¼æ•°æ®ç”Ÿæˆæ›´æ–°å‡½æ•°</p>
            <div class="code-snippet">
              <pre>// ç¼–è¯‘æ—¶ç”Ÿæˆçš„æ›´æ–°å‡½æ•°
function update_count(value) {
  setText(__ctx.countEl, value)
}</pre>
            </div>
            <div class="explanation">
              <p>å“åº”å¼æ•°æ®å˜åŒ–æ—¶ç›´æ¥è°ƒç”¨æ­¤å‡½æ•°æ›´æ–°DOM</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">âš™ï¸ å“åº”å¼ç³»ç»Ÿé›†æˆ</h2>

      <div class="reactivity-integration">
        <div class="integration-step">
          <div class="step-header">
            <div class="step-number">1</div>
            <h3>å“åº”å¼ä¾èµ–è¿½è¸ª</h3>
          </div>
          <p>ç¼–è¯‘æ—¶åˆ†ææ¨¡æ¿ä¸­çš„å“åº”å¼ä¾èµ–å…³ç³»</p>
          <div class="code-snippet">
            <pre>// æ¨¡æ¿: &lt;p&gt;&#123;&#123; count&#125;&#125;&lt;/p&gt;
// ç¼–è¯‘ç»“æœ:
watchEffect(() => {
  update_count(count.value)
})</pre>
          </div>
        </div>

        <div class="integration-step">
          <div class="step-header">
            <div class="step-number">2</div>
            <h3>é«˜æ•ˆæ›´æ–°è§¦å‘</h3>
          </div>
          <p>å“åº”å¼æ•°æ®å˜åŒ–æ—¶ç›´æ¥è°ƒç”¨æ›´æ–°å‡½æ•°</p>
          <div class="code-snippet">
            <pre>count.value++  // => update_count(count.value)</pre>
          </div>
          <div class="performance-note">
            <div class="perf-icon">âš¡</div>
            <p>ç›´æ¥æ›´æ–°DOMï¼Œæ— ä¸­é—´å¤„ç†æ­¥éª¤</p>
          </div>
        </div>

        <div class="integration-step">
          <div class="step-header">
            <div class="step-number">3</div>
            <h3>DOMæ“ä½œä¼˜åŒ–</h3>
          </div>
          <p>æ‰¹é‡å¤„ç†è¿ç»­æ›´æ–°ï¼Œå‡å°‘é‡æ’é‡ç»˜</p>
          <div class="code-snippet">
            <pre>batch(() => {
  update_name(newName)
  update_age(newAge)
})</pre>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸ“Š æ€§èƒ½ä¼˜åŒ–æœºåˆ¶</h2>

      <div class="performance-mechanisms">
        <div class="mechanism">
          <h3><span class="mech-icon">ğŸ“¦</span> å†…å­˜ä¼˜åŒ–</h3>
          <div class="mech-content">
            <div class="perf-bar">
              <div class="bar-label">è™šæ‹ŸDOMï¼š250KB</div>
              <div class="bar virtual" style="width: 100%"></div>
            </div>
            <div class="perf-bar">
              <div class="bar-label">Vaporæ¨¡å¼ï¼š80KB</div>
              <div class="bar vapor" style="width: 32%"></div>
            </div>
            <p>ç§»é™¤è™šæ‹ŸDOMå­˜å‚¨ï¼Œå‡å°‘60%ä»¥ä¸Šå†…å­˜å ç”¨</p>
          </div>
        </div>

        <div class="mechanism">
          <h3><span class="mech-icon">â±ï¸</span> æ‰§è¡Œæ—¶é—´ä¼˜åŒ–</h3>
          <div class="timeline">
            <div class="timeline-virtual">
              <div class="time-label">è™šæ‹ŸDOMæ›´æ–°: 12ms</div>
              <div class="time-segment" style="width: 100%"></div>
            </div>
            <div class="timeline-vapor">
              <div class="time-label">Vaporæ›´æ–°: 3ms</div>
              <div class="time-segment" style="width: 25%"></div>
            </div>
          </div>
          <p>è·³è¿‡è™šæ‹ŸDOMæ“ä½œï¼Œå‡å°‘75%æ›´æ–°æ—¶é—´</p>
        </div>

        <div class="mechanism">
          <h3><span class="mech-icon">ğŸ”„</span> æ›´æ–°ç²’åº¦ä¼˜åŒ–</h3>
          <div class="update-granularity">
            <div class="virtual-update">
              <div class="title">è™šæ‹ŸDOM</div>
              <div class="update-area">
                <div class="updated">æ›´æ–°èŠ‚ç‚¹</div>
                <div class="unchanged">æœªå˜åŒ–</div>
                <div class="unchanged">æœªå˜åŒ–</div>
                <div class="unchanged">æœªå˜åŒ–</div>
              </div>
            </div>
            <div class="vapor-update">
              <div class="title">Vaporæ¨¡å¼</div>
              <div class="update-area">
                <div class="updated">æ›´æ–°èŠ‚ç‚¹</div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
          </div>
          <p>ä»…æ›´æ–°å®é™…å˜åŒ–çš„èŠ‚ç‚¹ï¼Œé¿å…é¢å¤–æ“ä½œ</p>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸ” Vaporæ¨¡å¼ä¸ä¼ ç»Ÿæ¨¡å¼å¯¹æ¯”</h2>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>ç‰¹æ€§</th>
              <th>ä¼ ç»Ÿè™šæ‹ŸDOM</th>
              <th>Vaporæ¨¡å¼</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>æ›´æ–°æœºåˆ¶</td>
              <td>è™šæ‹ŸDOM Diff/è¡¥ä¸</td>
              <td>ç›´æ¥DOMæ“ä½œ</td>
            </tr>
            <tr>
              <td>å†…å­˜ä½¿ç”¨</td>
              <td>é«˜ï¼ˆå­˜å‚¨è™šæ‹ŸDOMæ ‘ï¼‰</td>
              <td>ä½ï¼ˆä»…DOMå¼•ç”¨ï¼‰</td>
            </tr>
            <tr>
              <td>CPUå¼€é”€</td>
              <td>é«˜ï¼ˆDiffç®—æ³•ï¼‰</td>
              <td>ä½ï¼ˆç›´æ¥æ›´æ–°ï¼‰</td>
            </tr>
            <tr>
              <td>åˆæ¬¡æ¸²æŸ“</td>
              <td>è¾ƒå¿«</td>
              <td>ç¨æ…¢ï¼ˆç¼–è¯‘ä¼˜åŒ–ï¼‰</td>
            </tr>
            <tr>
              <td>æ›´æ–°æ€§èƒ½</td>
              <td>ä¸­ç­‰</td>
              <td>æå¿«ï¼ˆ2-5å€æå‡ï¼‰</td>
            </tr>
            <tr>
              <td>å¤æ‚åœºæ™¯</td>
              <td>åŠ¨æ€æ¨¡æ¿æ”¯æŒå¥½</td>
              <td>é™æ€æ¨¡æ¿ä¼˜åŒ–å¼º</td>
            </tr>
            <tr>
              <td>é€‚ç”¨åœºæ™¯</td>
              <td>é€šç”¨åº”ç”¨</td>
              <td>æ€§èƒ½å…³é”®ç»„ä»¶</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">ğŸš€ Vaporæ¨¡å¼çš„æœªæ¥æ¼”è¿›</h2>

      <div class="future-evolution">
        <div class="evolution-item">
          <h3><span class="evolution-icon">ğŸ”®</span> ç¼–è¯‘å™¨å¢å¼º</h3>
          <ul>
            <li>æ›´æ™ºèƒ½çš„é™æ€åˆ†æ</li>
            <li>æ›´ç»†ç²’åº¦çš„æ›´æ–°æŒ‡ä»¤</li>
            <li>ä¼˜åŒ–æ¨¡æ¿æ§åˆ¶æµ</li>
          </ul>
        </div>

        <div class="evolution-item">
          <h3><span class="evolution-icon">ğŸ› ï¸</span> æ··åˆæ¨¡å¼å¢å¼º</h3>
          <ul>
            <li>æ— ç¼åˆ‡æ¢è™šæ‹ŸDOMä¸Vaporæ¨¡å¼</li>
            <li>ä¼˜åŒ–æ··åˆæ¨¡å¼é€šä¿¡æœºåˆ¶</li>
            <li>è·¨æ¨¡å¼ç»„ä»¶äº¤äº’ä¼˜åŒ–</li>
          </ul>
        </div>

        <div class="evolution-item">
          <h3><span class="evolution-icon">âš™ï¸</span> å¼€å‘è€…ä½“éªŒ</h3>
          <ul>
            <li>å¢å¼ºè°ƒè¯•å·¥å…·æ”¯æŒ</li>
            <li>æ€§èƒ½åˆ†æå·¥å…·é›†æˆ</li>
            <li>è¿ç§»è¾…åŠ©å·¥å…·</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="conclusion">
      <h2>ğŸ’ Vaporæ¨¡å¼çš„æ ¸å¿ƒä»·å€¼</h2>
      <p>Vaporæ¨¡å¼ä»£è¡¨äº†å‰ç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–çš„æ–°æ–¹å‘ï¼Œé€šè¿‡åˆ›æ–°çš„ç¼–è¯‘æ—¶ä¼˜åŒ–å’Œç›´æ¥DOMæ“ä½œç­–ç•¥ï¼Œä¸ºæ€§èƒ½å…³é”®åº”ç”¨æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒå°¤å…¶é€‚ç”¨äºéœ€è¦é«˜é¢‘æ›´æ–°ã€å¤§æ•°æ®é‡æ¸²æŸ“å’Œä½æ€§èƒ½è®¾å¤‡çš„åœºæ™¯ã€‚</p>

      <div class="resources">
        <h3>æ·±å…¥å­¦ä¹ èµ„æºï¼š</h3>
        <ul>
          <li><a href="#">Vaporæ¨¡å¼æŠ€æœ¯ç™½çš®ä¹¦</a></li>
          <li><a href="#">ç¼–è¯‘ä¼˜åŒ–åŸç†åŸºç¡€ä»‹ç»</a></li>
          <li><a href="#">æ€§èƒ½åŸºå‡†æµ‹è¯•æŠ¥å‘Š</a></li>
        </ul>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
// ç»„ä»¶é€»è¾‘ï¼ˆæ¼”ç¤ºç”¨ï¼‰
import { ref } from 'vue';

// ç¤ºä¾‹çŠ¶æ€
const demoVisible = ref(false);

// åˆ‡æ¢ç¤ºä¾‹æ˜¾ç¤ºçŠ¶æ€
const toggleDemo = () => {
  demoVisible.value = !demoVisible.value;
};
</script>

<style lang="less" scoped>
@font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
@primary-color: #42b883;
@secondary-color: #35495e;
@text-primary: #2c3e50;
@text-secondary: #7f8c8d;
@border-color: #e0e0e0;
@background-light: #f8fafc;
@card-bg: #ffffff;
@virtual-color: #e74c3c;
@vapor-color: #42b883;
@warning-color: #ff9800;

.vapor-principle {
  font-family: @font-family;
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px 25px;
  background-color: @background-light;
  color: @text-primary;
  line-height: 1.6;
}

.hero {
  background: linear-gradient(135deg, fade(@primary-color, 10%), fade(@primary-color, 5%));
  border-radius: 16px;
  padding: 50px 40px;
  margin-bottom: 40px;
  text-align: center;
  border: 1px solid fade(@primary-color, 15%);

  .hero-content {
    max-width: 800px;
    margin: 0 auto 30px;

    h1 {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 20px;
      color: @text-primary;
    }

    .subtitle {
      font-size: 1.4rem;
      color: @text-secondary;
      max-width: 600px;
      margin: 0 auto;
    }
  }

  .hero-animation {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);

    .animation-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;

      >div {
        padding: 20px 30px;
        border-radius: 8px;
        font-weight: bold;
      }

      .state-circle {
        background: fade(@primary-color, 15%);
        color: darken(@primary-color, 15%);
        border: 2px dashed @primary-color;
      }

      .instructions {
        background: fade(@warning-color, 15%);
        color: darken(@warning-color, 20%);
        border: 2px solid @warning-color;
      }

      .dom-circle {
        background: fade(@vapor-color, 15%);
        color: darken(@vapor-color, 15%);
        border: 2px solid @vapor-color;
      }

      .compile-arrow,
      .dom-arrow {
        font-size: 2.5rem;
        color: @text-secondary;
      }
    }
  }
}

.section {
  background: @card-bg;
  border-radius: 16px;
  padding: 35px;
  margin-bottom: 35px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);

  .section-title {
    font-size: 1.8rem;
    margin-top: 0;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid fade(@primary-color, 10%);
    display: flex;
    align-items: center;
    gap: 15px;
  }
}

.core-principles {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;

  .principle {
    display: flex;
    gap: 20px;
    align-items: flex-start;
    padding: 20px;
    background: fade(@primary-color, 5%);
    border-radius: 12px;
    border-left: 4px solid @primary-color;

    .principle-icon {
      font-size: 2.2rem;
      min-width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: fade(@primary-color, 15%);
      color: @primary-color;
      border-radius: 50%;
    }

    h3 {
      font-size: 1.3rem;
      margin-top: 0;
      margin-bottom: 10px;
    }

    p {
      margin: 0;
      color: @text-secondary;
      line-height: 1.7;
    }
  }
}

.update-process,
.vapor-update-process {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 15px;
  margin-bottom: 30px;

  .step {
    min-width: 200px;
    padding: 20px;
    border-radius: 12px;
    background: fade(@text-secondary, 5%);
    text-align: center;
    flex: 1;

    .step-number {
      width: 40px;
      height: 40px;
      background: @virtual-color;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
      font-weight: bold;
      font-size: 1.2rem;
    }

    h3 {
      font-size: 1.2rem;
      margin-top: 0;
      margin-bottom: 10px;
    }

    p {
      margin: 0;
      color: @text-secondary;
      font-size: 0.95rem;
    }

    .complexity {
      margin-top: 10px;
      padding: 8px;
      background: fade(@virtual-color, 10%);
      border-radius: 6px;
      font-weight: 500;
      color: @virtual-color;
    }
  }

  .arrow {
    font-size: 2rem;
    color: @text-secondary;
    flex-shrink: 0;
  }
}

.vapor-update-process .step .step-number {
  background: @vapor-color;
}

.limitation {
  display: flex;
  gap: 20px;
  align-items: center;
  padding: 20px;
  background: fade(@virtual-color, 8%);
  border-radius: 12px;
  border-left: 4px solid @virtual-color;

  .limitation-icon {
    font-size: 2.5rem;
  }

  h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 10px;
    color: @virtual-color;
  }

  p {
    margin: 5px 0;
    color: @text-secondary;
  }
}

.vapor-advantages {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 30px;

  .advantage {
    display: flex;
    gap: 15px;
    padding: 20px;
    background: fade(@vapor-color, 8%);
    border-radius: 12px;

    .advantage-icon {
      font-size: 1.8rem;
      min-width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: fade(@vapor-color, 15%);
      color: @vapor-color;
      border-radius: 50%;
    }

    h3 {
      font-size: 1.2rem;
      margin-top: 0;
      margin-bottom: 8px;
    }

    p {
      margin: 0;
      color: @text-secondary;
      font-size: 0.95rem;
    }
  }
}

.compilation-tech {
  .tech {
    margin-bottom: 35px;

    h3 {
      font-size: 1.4rem;
      margin-top: 0;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tech-icon {
      font-size: 1.4rem;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: fade(@primary-color, 15%);
      color: @primary-color;
      border-radius: 50%;
    }

    p {
      margin-top: 0;
      margin-bottom: 15px;
      color: @text-secondary;
    }
  }
}

.code-comparison {
  display: flex;
  gap: 20px;
  align-items: center;
  flex-wrap: wrap;

  .code-block {
    flex: 1;
    min-width: 300px;

    h4 {
      font-size: 1.1rem;
      margin-top: 0;
      margin-bottom: 10px;
      color: @text-secondary;
      font-weight: 500;
    }
  }

  .arrow {
    font-size: 1.8rem;
    color: @text-secondary;
  }
}

.code-snippet {
  background: #2d3747;
  color: #e2e8f0;
  padding: 20px;
  border-radius: 10px;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  line-height: 1.6;
  overflow-x: auto;
  margin: 15px 0;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);

  pre {
    margin: 0;
  }
}

.visual-example {
  margin-top: 20px;
  padding: 20px;
  background: fade(@text-secondary, 5%);
  border-radius: 12px;

  .dom-node {
    font-family: 'Fira Code', monospace;
    padding: 15px;
    background: white;
    border: 1px solid @border-color;
    border-radius: 8px;

    .dynamic {
      position: relative;
      margin: 10px 0 0 20px;
      padding: 10px;
      background: fade(@vapor-color, 10%);
      border: 1px dashed fade(@vapor-color, 50%);
      border-radius: 6px;

      .anchor {
        position: absolute;
        top: -12px;
        right: -12px;
        background: @vapor-color;
        color: white;
        font-size: 0.7rem;
        padding: 3px 8px;
        border-radius: 20px;
      }
    }
  }
}

.reactivity-integration {
  .integration-step {
    margin-bottom: 35px;
    padding-bottom: 25px;
    border-bottom: 1px solid @border-color;

    &:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .step-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;

      .step-number {
        min-width: 36px;
        height: 36px;
        background: @vapor-color;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }
    }

    p {
      color: @text-secondary;
      margin-top: 0;
      margin-bottom: 15px;
    }
  }
}

.performance-mechanisms {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(330px, 1fr));
  gap: 30px;

  .mechanism {
    h3 {
      font-size: 1.3rem;
      margin-top: 0;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .mech-icon {
      font-size: 1.4rem;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: fade(@primary-color, 15%);
      color: @primary-color;
      border-radius: 50%;
    }

    p {
      margin-top: 15px;
      color: @text-secondary;
    }
  }
}

.perf-bar {
  margin-bottom: 15px;

  .bar-label {
    font-size: 0.9rem;
    margin-bottom: 8px;
    color: @text-secondary;
  }

  .bar {
    height: 25px;
    border-radius: 4px;

    &.virtual {
      background: fade(@virtual-color, 60%);
    }

    &.vapor {
      background: fade(@vapor-color, 60%);
    }
  }
}

.timeline {

  .timeline-virtual,
  .timeline-vapor {
    margin-bottom: 25px;

    .time-label {
      font-size: 0.9rem;
      margin-bottom: 8px;
      color: @text-secondary;
    }

    .time-segment {
      height: 20px;
      border-radius: 4px;
    }
  }

  .timeline-virtual .time-segment {
    background: fade(@virtual-color, 60%);
  }

  .timeline-vapor .time-segment {
    background: fade(@vapor-color, 60%);
  }
}

.update-granularity {
  display: flex;
  gap: 30px;

  >div {
    flex: 1;

    .title {
      font-weight: 500;
      margin-bottom: 10px;
      color: @text-secondary;
    }
  }

  .update-area {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;

    >div {
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-weight: 500;
    }
  }

  .virtual-update .update-area {
    >div {
      background: fade(@virtual-color, 20%);
      border: 1px solid fade(@virtual-color, 40%);

      &.unchanged {
        background: fade(@text-secondary, 10%);
        color: @text-secondary;
        border: 1px solid @border-color;
      }
    }
  }

  .vapor-update .update-area {
    >div {
      background: @vapor-color;
      color: white;
      border: 1px solid darken(@vapor-color, 10%);

      &:empty {
        background: fade(@text-secondary, 5%);
        border: 1px dashed fade(@text-secondary, 30%);
      }
    }
  }
}

.comparison-table {
  overflow-x: auto;

  table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);

    th,
    td {
      padding: 16px 20px;
      text-align: left;
    }

    thead {
      background: @primary-color;
      color: white;

      th {
        font-weight: 600;
        border-bottom: 2px solid darken(@primary-color, 10%);
      }
    }

    tbody {
      tr:nth-child(even) {
        background: fade(@primary-color, 5%);
      }

      tr:hover {
        background: fade(@primary-color, 10%);
      }

      td {
        border-bottom: 1px solid @border-color;
      }
    }
  }
}

.future-evolution {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;

  .evolution-item {
    h3 {
      font-size: 1.3rem;
      margin-top: 0;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .evolution-icon {
      font-size: 1.4rem;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: fade(@primary-color, 15%);
      color: @primary-color;
      border-radius: 50%;
    }

    ul {
      padding-left: 20px;
      margin: 0;

      li {
        margin-bottom: 10px;
        color: @text-secondary;
      }
    }
  }
}

.conclusion {
  background: linear-gradient(135deg, fade(@primary-color, 8%), fade(@primary-color, 4%));
  border-radius: 16px;
  padding: 40px;
  margin-top: 30px;
  text-align: center;
  border: 1px solid fade(@primary-color, 15%);

  h2 {
    font-size: 2rem;
    margin-top: 0;
    margin-bottom: 25px;
  }

  p {
    font-size: 1.1rem;
    max-width: 800px;
    margin: 0 auto 30px;
    line-height: 1.7;
    color: @text-secondary;
  }
}

.resources {
  text-align: left;
  max-width: 600px;
  margin: 40px auto 0;
  padding-top: 20px;
  border-top: 1px solid fade(@primary-color, 20%);

  h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 15px;
  }

  ul {
    padding-left: 0;
    list-style: none;

    li {
      margin-bottom: 12px;

      a {
        color: @primary-color;
        text-decoration: none;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 8px;

        &::before {
          content: "ğŸ”—";
        }

        &:hover {
          text-decoration: underline;
        }
      }
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .hero {
    padding: 30px 20px;

    h1 {
      font-size: 2.2rem;
    }

    .subtitle {
      font-size: 1.2rem;
    }
  }

  .section {
    padding: 25px 20px;
  }

  .update-process,
  .vapor-update-process {
    flex-direction: column;

    .arrow {
      transform: rotate(90deg);
      margin: 10px 0;
    }
  }

  .core-principles,
  .comparison-table,
  .future-evolution {
    grid-template-columns: 1fr;
  }
}
</style>
