<template>
  <div class="react-error-guide">
    <header>
      <h1>React é”™è¯¯å¤„ç†åŸºæœ¬ä»‹ç»</h1>
      <p>æŒæ¡ React åº”ç”¨ä¸­çš„é”™è¯¯è¾¹ç•Œã€æ•è·å’Œå¤„ç†ç­–ç•¥</p>
      <div class="stats">
        <div class="stat-card">
          <div class="stat-value">5+</div>
          <div class="stat-label">æ ¸å¿ƒæ–¹æ³•</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">3</div>
          <div class="stat-label">é”™è¯¯è¾¹ç•Œç±»å‹</div>
        </div>
      </div>
    </header>

    <div class="content-wrapper">
      <!-- æ¦‚è¿°éƒ¨åˆ† -->
      <div class="section">
        <h2>ğŸ“Œ React é”™è¯¯å¤„ç†æ¦‚è¿°</h2>
        <div class="overview-grid">
          <div class="overview-card">
            <h3>ä¸ºä»€ä¹ˆéœ€è¦é”™è¯¯å¤„ç†ï¼Ÿ</h3>
            <ul>
              <li>é˜²æ­¢æ•´ä¸ªåº”ç”¨å› å±€éƒ¨é”™è¯¯è€Œå´©æºƒ</li>
              <li>æä¾›ä¼˜é›…çš„é”™è¯¯æ¢å¤æœºåˆ¶</li>
              <li>å¢å¼ºç”¨æˆ·ä½“éªŒï¼Œé¿å…ç™½å±</li>
              <li>æ”¶é›†é”™è¯¯ä¿¡æ¯ç”¨äºè°ƒè¯•æ”¹è¿›</li>
            </ul>
          </div>
          <div class="overview-card">
            <h3>React é”™è¯¯å¤„ç†ç‰¹ç‚¹</h3>
            <ul>
              <li>ç»„ä»¶æ ‘é”™è¯¯ä¸ä¼šä¼ æ’­åˆ°çˆ¶ç»„ä»¶</li>
              <li>æœªæ•è·é”™è¯¯ä¼šå¯¼è‡´æ•´ä¸ªç»„ä»¶æ ‘å¸è½½</li>
              <li>é”™è¯¯è¾¹ç•Œæ˜¯ä¸»è¦çš„é”™è¯¯å¤„ç†æœºåˆ¶</li>
              <li>å¼‚æ­¥ä»£ç éœ€è¦ç‰¹æ®Šå¤„ç†</li>
            </ul>
          </div>
          <div class="overview-card">
            <h3>é”™è¯¯å¤„ç†åŸåˆ™</h3>
            <div class="principles">
              <div class="principle">å±€éƒ¨åŒ–å¤„ç†</div>
              <div class="principle">ä¼˜é›…é™çº§</div>
              <div class="principle">ä¿¡æ¯é€æ˜</div>
              <div class="principle">å¿«é€Ÿæ¢å¤</div>
            </div>
          </div>
        </div>
      </div>

      <!-- é”™è¯¯è¾¹ç•Œ -->
      <div class="section">
        <h2>ğŸ›¡ï¸ é”™è¯¯è¾¹ç•Œ (Error Boundaries)</h2>
        <div class="error-boundary-flow">
          <div class="boundary-card">
            <h3>ä»€ä¹ˆæ˜¯é”™è¯¯è¾¹ç•Œï¼Ÿ</h3>
            <p>
              é”™è¯¯è¾¹ç•Œæ˜¯ React ç»„ä»¶ï¼Œç”¨äºæ•è·å…¶å­ç»„ä»¶æ ‘ä¸­ä»»ä½•ä½ç½®çš„ JavaScript
              é”™è¯¯ï¼Œè®°å½•è¿™äº›é”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºå¤‡ç”¨ UIã€‚
            </p>
            <div class="boundary-visual">
              <div class="component-tree">
                <div class="component boundary">ErrorBoundary</div>
                <div class="tree-arrow">â†“</div>
                <div class="component-group">
                  <div class="component">Header</div>
                  <div class="component error">
                    ProductList <span class="error-badge">Error</span>
                  </div>
                  <div class="component">Footer</div>
                </div>
              </div>
            </div>
          </div>

          <div class="implementation">
            <h3>å®ç°é”™è¯¯è¾¹ç•Œç»„ä»¶</h3>
            <div class="code-columns">
              <div class="code-block">
                <h4>ç±»ç»„ä»¶å®ç°</h4>
                <pre>
class ErrorBoundary extends React.Component {
  state = { hasError: false, error: null };

  static getDerivedStateFromError(error) {
    // æ›´æ–° state ä»¥æ˜¾ç¤ºå¤‡ç”¨ UI
    return { hasError: true, error };
  }

  componentDidCatch(error, errorInfo) {
    // è®°å½•é”™è¯¯ä¿¡æ¯
    logErrorToService(error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return &lt;FallbackUI error={this.state.error} />;
    }
    return this.props.children;
  }
}

// ä½¿ç”¨
&lt;ErrorBoundary>
  &lt;MyComponent />
&lt;/ErrorBoundary></pre
                >
              </div>
              <div class="code-block">
                <h4>Hook å®ç° (ä½¿ç”¨ react-error-boundary)</h4>
                <pre>
import { ErrorBoundary } from 'react-error-boundary';

function ErrorFallback({ error, resetErrorBoundary }) {
  return (
    &lt;div role="alert">
      &lt;p>å‡ºé”™äº†:&lt;/p>
      &lt;pre>{error.message}&lt;/pre>
      &lt;button onClick={resetErrorBoundary}>é‡è¯•&lt;/button>
    &lt;/div>
  );
}

function App() {
  return (
    &lt;ErrorBoundary
      FallbackComponent={ErrorFallback}
      onReset={() => window.location.reload()}
    >
      &lt;MyComponent />
    &lt;ErrorBoundary>
  );
}</pre
                >
              </div>
            </div>
          </div>

          <div class="best-practices">
            <h3>é”™è¯¯è¾¹ç•Œæœ€ä½³å®è·µ</h3>
            <div class="practices-grid">
              <div class="practice">
                <div class="icon">ğŸ“</div>
                <h4>æˆ˜ç•¥ä½ç½®æ”¾ç½®</h4>
                <p>åœ¨å…³é”®ç»„ä»¶å‘¨å›´æ”¾ç½®é”™è¯¯è¾¹ç•Œï¼Œå¦‚è·¯ç”±ç»„ä»¶ã€å¤æ‚ç»„ä»¶</p>
              </div>
              <div class="practice">
                <div class="icon">ğŸ”„</div>
                <h4>æä¾›æ¢å¤æœºåˆ¶</h4>
                <p>åœ¨å¤‡ç”¨ UI ä¸­æä¾›é‡è¯•æˆ–åˆ·æ–°é€‰é¡¹</p>
              </div>
              <div class="practice">
                <div class="icon">ğŸ“</div>
                <h4>è®°å½•é”™è¯¯ä¿¡æ¯</h4>
                <p>ä½¿ç”¨ componentDidCatch è®°å½•é”™è¯¯åˆ°ç›‘æ§ç³»ç»Ÿ</p>
              </div>
              <div class="practice">
                <div class="icon">ğŸš«</div>
                <h4>é¿å…è¿‡åº¦ä½¿ç”¨</h4>
                <p>ä¸è¦åœ¨æ¯ä¸ªç»„ä»¶ä¸Šä½¿ç”¨é”™è¯¯è¾¹ç•Œï¼Œä¿æŒåˆç†ç²’åº¦</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- å…¶ä»–é”™è¯¯å¤„ç†æ–¹å¼ -->
      <div class="section">
        <h2>âš™ï¸ å…¶ä»–é”™è¯¯å¤„ç†æŠ€æœ¯</h2>
        <div class="techniques-grid">
          <div class="technique-card">
            <h3>1. Try/Catch å¤„ç†</h3>
            <p>é€‚ç”¨äºï¼šäº‹ä»¶å¤„ç†ã€å¼‚æ­¥ä»£ç ã€é React ä»£ç </p>
            <pre class="code-block">
function handleClick() {
  try {
    // å¯èƒ½å‡ºé”™çš„ä»£ç 
    riskyOperation();
  } catch (error) {
    // å¤„ç†é”™è¯¯
    showErrorToast(error.message);
    logError(error);
  }
}

async function fetchData() {
  try {
    const data = await apiCall();
    setData(data);
  } catch (error) {
    setErrorState(error);
  }
}</pre
            >
          </div>

          <div class="technique-card">
            <h3>2. é”™è¯¯çŠ¶æ€å¤„ç†</h3>
            <p>ä½¿ç”¨çŠ¶æ€ç®¡ç†å¤„ç†é¢„æœŸé”™è¯¯</p>
            <pre class="code-block">
function DataFetcher() {
  const [data, setData] = useState(null);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const result = await fetch('/api/data');
        setData(await result.json());
      } catch (err) {
        setError(err.message);
      }
    };

    fetchData();
  }, []);

  if (error) {
    return &lt;ErrorDisplay message={error} />;
  }

  return &lt;DataView data={data} />;
}</pre
            >
          </div>

          <div class="technique-card">
            <h3>3. å…¨å±€é”™è¯¯å¤„ç†</h3>
            <p>æ•è·æœªå¤„ç†çš„é”™è¯¯å’Œ Promise æ‹’ç»</p>
            <pre class="code-block">
// æ•è·æœªå¤„ç†çš„é”™è¯¯
window.addEventListener('error', (event) => {
  logError(event.error);
});

// æ•è·æœªå¤„ç†çš„ Promise æ‹’ç»
window.addEventListener('unhandledrejection', (event) => {
  logError(event.reason);
});

// React 18+ å…¨å±€é”™è¯¯å¤„ç†
import { unstable_createRoot } from 'react-dom';

const root = unstable_createRoot(container);
root.render(
  &lt;React.unstable_ErrorBoundary
    fallback={&lt;GlobalErrorScreen />}
  >
    &lt;App />
  &lt;/React.unstable_ErrorBoundary>
);</pre
            >
          </div>

          <div class="technique-card">
            <h3>4. é”™è¯¯æŠ¥å‘ŠæœåŠ¡</h3>
            <p>é›†æˆä¸“ä¸šé”™è¯¯ç›‘æ§æœåŠ¡</p>
            <div class="services">
              <div class="service">Sentry</div>
              <div class="service">Bugsnag</div>
              <div class="service">Rollbar</div>
              <div class="service">LogRocket</div>
            </div>
            <pre class="code-block">
import * as Sentry from '@sentry/react';

// åˆå§‹åŒ–
Sentry.init({
  dsn: 'YOUR_DSN',
  integrations: [new Sentry.BrowserTracing()],
  tracesSampleRate: 1.0,
});

// é”™è¯¯è¾¹ç•Œé›†æˆ
const SentryErrorBoundary = Sentry.ErrorBoundary;

// æ‰‹åŠ¨æ•è·é”™è¯¯
try {
  riskyOperation();
} catch (err) {
  Sentry.captureException(err);
}</pre
            >
          </div>
        </div>
      </div>

      <!-- é”™è¯¯ç±»å‹å¤„ç† -->
      <div class="section">
        <h2>ğŸ” ç‰¹å®šé”™è¯¯ç±»å‹å¤„ç†</h2>
        <div class="error-types">
          <div class="error-type">
            <h3>æ¸²æŸ“é”™è¯¯</h3>
            <p>ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯</p>
            <div class="solution"><span class="method">å¤„ç†æ–¹æ³•ï¼š</span> é”™è¯¯è¾¹ç•Œ</div>
            <pre class="code-block">
function ProductCard({ product }) {
  // å¦‚æœ product ä¸º nullï¼Œä¼šæŠ›å‡ºé”™è¯¯
  return &lt;div>{product.name}&lt;/div>;
}</pre
            >
          </div>

          <div class="error-type">
            <h3>ç”Ÿå‘½å‘¨æœŸé”™è¯¯</h3>
            <p>åœ¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­å‘ç”Ÿçš„é”™è¯¯</p>
            <div class="solution"><span class="method">å¤„ç†æ–¹æ³•ï¼š</span> é”™è¯¯è¾¹ç•Œ + try/catch</div>
            <pre class="code-block">
class UserProfile extends React.Component {
  componentDidMount() {
    try {
      fetchUserData();
    } catch (error) {
      // å¤„ç†é”™è¯¯
    }
  }
}</pre
            >
          </div>

          <div class="error-type">
            <h3>äº‹ä»¶å¤„ç†é”™è¯¯</h3>
            <p>åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­å‘ç”Ÿçš„é”™è¯¯</p>
            <div class="solution"><span class="method">å¤„ç†æ–¹æ³•ï¼š</span> try/catch</div>
            <pre class="code-block">
function handleSubmit() {
  try {
    validateForm();
    submitForm();
  } catch (error) {
    showToast(error.message);
  }
}</pre
            >
          </div>

          <div class="error-type">
            <h3>å¼‚æ­¥é”™è¯¯</h3>
            <p>åœ¨ Promiseã€async/await ä¸­çš„é”™è¯¯</p>
            <div class="solution"><span class="method">å¤„ç†æ–¹æ³•ï¼š</span> catch æ–¹æ³• + é”™è¯¯çŠ¶æ€</div>
            <pre class="code-block">
useEffect(() => {
  fetchData()
    .then(setData)
    .catch(error => {
      setError(error);
    });
}, []);</pre
            >
          </div>
        </div>
      </div>

      <!-- é”™è¯¯å¤„ç†ç­–ç•¥ -->
      <div class="section">
        <h2>ğŸ¯ React é”™è¯¯å¤„ç†ç­–ç•¥</h2>
        <div class="strategy-cards">
          <div class="strategy-card">
            <div class="strategy-header">é˜²å¾¡æ€§ç¼–ç¨‹</div>
            <ul>
              <li>ä½¿ç”¨ PropTypes æˆ– TypeScript</li>
              <li>ç©ºå€¼æ£€æŸ¥ (optional chaining)</li>
              <li>é»˜è®¤å€¼å’Œå›é€€å†…å®¹</li>
            </ul>
            <pre class="code-block">
// ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦
product?.name

// æä¾›é»˜è®¤å€¼
const name = user.name || 'æœªçŸ¥ç”¨æˆ·';

// å›é€€å†…å®¹
{data ? &lt;DataView data={data} /> : &lt;Loading />}</pre
            >
          </div>

          <div class="strategy-card">
            <div class="strategy-header">åˆ†å±‚å¤„ç†</div>
            <ul>
              <li>é¡¶å±‚ï¼šå…¨å±€é”™è¯¯è¾¹ç•Œ</li>
              <li>è·¯ç”±çº§ï¼šæ¯ä¸ªè·¯ç”±é”™è¯¯è¾¹ç•Œ</li>
              <li>ç»„ä»¶çº§ï¼šå…³é”®ç»„ä»¶é”™è¯¯è¾¹ç•Œ</li>
              <li>æ“ä½œçº§ï¼štry/catch å±€éƒ¨å¤„ç†</li>
            </ul>
            <div class="layer-visual">
              <div class="layer">å…¨å±€è¾¹ç•Œ</div>
              <div class="layer-arrow">â†“</div>
              <div class="layer">è·¯ç”±è¾¹ç•Œ</div>
              <div class="layer-arrow">â†“</div>
              <div class="layer">ç»„ä»¶è¾¹ç•Œ</div>
              <div class="layer-arrow">â†“</div>
              <div class="layer">try/catch</div>
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-header">ç”¨æˆ·å‹å¥½çš„é”™è¯¯åé¦ˆ</div>
            <ul>
              <li>æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
              <li>é¿å…æŠ€æœ¯æœ¯è¯­</li>
              <li>æä¾›è§£å†³æ–¹æ¡ˆæˆ–ä¸‹ä¸€æ­¥</li>
              <li>è®¾è®¡å‹å¥½çš„é”™è¯¯é¡µé¢</li>
            </ul>
            <div class="error-example">
              <div class="error-card">
                <div class="error-icon">âš ï¸</div>
                <h4>è¯·æ±‚å¤±è´¥</h4>
                <p>æ— æ³•åŠ è½½æ•°æ®ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•</p>
                <button class="retry-btn">é‡è¯•</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p>React é”™è¯¯å¤„ç†æŒ‡å— Â© 2023 | ä½¿ç”¨ Vue 3 + TypeScript å®ç°</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// ç¤ºä¾‹é”™è¯¯æ•°æ®
const errorExample = ref({
  message: "Cannot read property 'name' of null",
  componentStack: `
    at ProductCard (webpack-internal:///./src/components/ProductCard.js:25:5)
    at ProductList (webpack-internal:///./src/components/ProductList.js:10:7)
    at ErrorBoundary (webpack-internal:///./src/components/ErrorBoundary.js:9:5)
    at App (webpack-internal:///./src/App.js:15:5)
  `,
})
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

.react-error-guide {
  font-family:
    'Inter',
    -apple-system,
    BlinkMacSystemFont,
    sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  color: #2c3e50;
  background-color: #f8fafc;
  min-height: 100vh;
  line-height: 1.6;

  header {
    text-align: center;
    margin-bottom: 30px;
    padding: 30px 20px;
    background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
    border-radius: 12px;
    color: white;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

    h1 {
      font-size: 2.4rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 700px;
      margin: 0 auto 25px;
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;

      .stat-card {
        background: rgba(255, 255, 255, 0.15);
        border-radius: 10px;
        padding: 15px 25px;
        min-width: 120px;

        .stat-value {
          font-size: 2.2rem;
          font-weight: 700;
          margin-bottom: 5px;
        }

        .stat-label {
          font-size: 0.95rem;
          opacity: 0.85;
        }
      }
    }
  }

  .content-wrapper {
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.05);
    overflow: hidden;
    padding: 30px;
  }

  .section {
    margin-bottom: 40px;

    h2 {
      font-size: 1.8rem;
      color: #4361ee;
      margin-bottom: 25px;
      padding-bottom: 12px;
      border-bottom: 2px solid #eef2ff;
      position: relative;

      &::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 80px;
        height: 3px;
        background: #4361ee;
        border-radius: 3px;
      }
    }
  }

  .overview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;

    .overview-card {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      h3 {
        font-size: 1.3rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 15px;
      }

      ul {
        padding-left: 20px;
        margin: 0;

        li {
          margin-bottom: 10px;
          position: relative;
          font-size: 0.95rem;
          color: #475569;

          &::before {
            content: 'â€¢';
            color: #4361ee;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
          }
        }
      }

      .principles {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;

        .principle {
          background: #eef2ff;
          color: #4361ee;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 500;
        }
      }
    }
  }

  .error-boundary-flow {
    .boundary-card {
      background: white;
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      h3 {
        font-size: 1.3rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 15px;
      }

      p {
        font-size: 0.95rem;
        color: #475569;
        margin-bottom: 20px;
      }
    }

    .boundary-visual {
      background: #f8f9fe;
      border-radius: 8px;
      padding: 20px;
      display: flex;
      justify-content: center;

      .component-tree {
        display: flex;
        flex-direction: column;
        align-items: center;

        .component {
          background: white;
          border: 1px solid #cbd5e1;
          border-radius: 6px;
          padding: 12px 20px;
          text-align: center;
          margin: 5px 0;
          position: relative;
          min-width: 180px;

          &.boundary {
            background: #eef2ff;
            border-color: #a3bffa;
            font-weight: 600;
            color: #434190;
          }

          &.error {
            background: #fff5f5;
            border-color: #fed7d7;
            color: #c53030;
          }
        }

        .tree-arrow {
          margin: 10px 0;
          color: #a0aec0;
          font-weight: bold;
        }

        .component-group {
          display: flex;
          gap: 15px;

          .component {
            min-width: 120px;
          }
        }

        .error-badge {
          background: #feb2b2;
          color: #c53030;
          font-size: 0.7rem;
          padding: 2px 6px;
          border-radius: 10px;
          margin-left: 8px;
        }
      }
    }

    .implementation {
      background: white;
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      h3 {
        font-size: 1.3rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 20px;
      }

      .code-columns {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;

        @media (max-width: 900px) {
          grid-template-columns: 1fr;
        }

        .code-block {
          background: #f8f9fe;
          border-radius: 8px;
          padding: 15px;
          border: 1px solid #e2e8f0;

          h4 {
            font-size: 1.1rem;
            color: #4c51bf;
            margin-top: 0;
            margin-bottom: 10px;
          }

          pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            line-height: 1.5;
            margin: 0;
          }
        }
      }
    }

    .best-practices {
      h3 {
        font-size: 1.3rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 20px;
      }

      .practices-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px;

        .practice {
          background: white;
          border-radius: 8px;
          padding: 20px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
          border: 1px solid #e2e8f0;
          transition: transform 0.2s ease;

          &:hover {
            transform: translateY(-3px);
          }

          .icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
          }

          h4 {
            font-size: 1.1rem;
            color: #4c51bf;
            margin-top: 0;
            margin-bottom: 10px;
          }

          p {
            font-size: 0.9rem;
            color: #4a5568;
            margin: 0;
            line-height: 1.5;
          }
        }
      }
    }
  }

  .techniques-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;

    .technique-card {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      h3 {
        font-size: 1.2rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 15px;
      }

      p {
        font-size: 0.9rem;
        color: #4a5568;
        margin-bottom: 15px;
        font-style: italic;
      }

      .services {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 15px;

        .service {
          background: #eef2ff;
          color: #4c51bf;
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 500;
        }
      }
    }
  }

  .error-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;

    .error-type {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      h3 {
        font-size: 1.2rem;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 10px;
      }

      p {
        font-size: 0.9rem;
        color: #4a5568;
        margin-bottom: 15px;
      }

      .solution {
        background: #f0fff4;
        padding: 8px 12px;
        border-radius: 6px;
        margin-bottom: 15px;
        font-size: 0.9rem;

        .method {
          font-weight: 600;
          color: #2f855a;
        }
      }
    }
  }

  .strategy-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;

    .strategy-card {
      background: white;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid #e2e8f0;

      .strategy-header {
        font-size: 1.3rem;
        font-weight: 600;
        color: #3a0ca3;
        margin-top: 0;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #eef2ff;
      }

      ul {
        padding-left: 20px;
        margin: 0 0 20px 0;

        li {
          margin-bottom: 10px;
          position: relative;
          font-size: 0.95rem;
          color: #475569;

          &::before {
            content: 'â€¢';
            color: #4361ee;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
          }
        }
      }

      .layer-visual {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin-top: 15px;

        .layer {
          background: #eef2ff;
          color: #4c51bf;
          padding: 10px 20px;
          border-radius: 20px;
          font-weight: 500;
          min-width: 150px;
          text-align: center;
        }

        .layer-arrow {
          color: #a0aec0;
          font-weight: bold;
        }
      }

      .error-example {
        background: #f8f9fe;
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;

        .error-card {
          background: white;
          border: 1px solid #fed7d7;
          border-radius: 8px;
          padding: 20px;
          text-align: center;

          .error-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #e53e3e;
          }

          h4 {
            font-size: 1.2rem;
            color: #c53030;
            margin: 0 0 10px 0;
          }

          p {
            font-size: 0.9rem;
            color: #4a5568;
            margin-bottom: 15px;
          }

          .retry-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.2s;

            &:hover {
              background: #3182ce;
            }
          }
        }
      }
    }
  }

  .code-block {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 8px;
    font-family: 'Fira Code', monospace;
    font-size: 0.85rem;
    overflow-x: auto;
    line-height: 1.5;
    margin: 15px 0;
  }

  footer {
    text-align: center;
    margin-top: 40px;
    padding: 20px;
    color: #64748b;
    font-size: 0.9rem;
    border-top: 1px solid #e2e8f0;
  }

  @media (max-width: 768px) {
    header {
      h1 {
        font-size: 1.8rem;
      }

      p {
        font-size: 1rem;
      }

      .stats {
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }
    }
  }
}
</style>
