<template>
  <div class="react-19-features-container">
    <header class="page-header">
      <h1 class="title">React 19+ æ–°ç‰¹æ€§å‰ç»</h1>
      <p class="subtitle">æ¢ç´¢ç¼–è¯‘å™¨ä¼˜åŒ–ã€Actions APIã€æ–‡æ¡£ç»„ä»¶ç­‰ä¸‹ä¸€ä»£ç‰¹æ€§</p>
    </header>

    <main class="content">
      <!-- ç‰ˆæœ¬æ¦‚è¿° -->
      <section class="overview-section">
        <div class="card">
          <h2 class="card-title">React 19+ ç‰ˆæœ¬æ¦‚è¿°</h2>
          <div class="card-content">
            <div class="overview-content">
              <p class="intro-text">
                React 19 å¸¦æ¥äº†é©å‘½æ€§çš„ç¼–è¯‘å™¨ä¼˜åŒ–ã€Actions APIã€æ–‡æ¡£ç»„ä»¶ç­‰ç‰¹æ€§ï¼Œè¿›ä¸€æ­¥ç®€åŒ–å¼€å‘å¹¶æå‡æ€§èƒ½ã€‚
              </p>
              <div class="version-highlights">
                <h3>æ ¸å¿ƒäº®ç‚¹</h3>
                <div class="highlights-grid">
                  <div class="highlight-item">
                    <div class="highlight-icon">âš¡</div>
                    <div class="highlight-text">
                      <h4>Reactç¼–è¯‘å™¨</h4>
                      <p>è‡ªåŠ¨Memoizationï¼Œå‡å°‘æ‰‹åŠ¨ä¼˜åŒ–</p>
                    </div>
                  </div>
                  <div class="highlight-item">
                    <div class="highlight-icon">ğŸ”„</div>
                    <div class="highlight-text">
                      <h4>Actions API</h4>
                      <p>ç»Ÿä¸€çš„æ•°æ®å˜æ›´å’Œè¡¨å•å¤„ç†</p>
                    </div>
                  </div>
                  <div class="highlight-item">
                    <div class="highlight-icon">ğŸ“„</div>
                    <div class="highlight-text">
                      <h4>æ–‡æ¡£ç»„ä»¶</h4>
                      <p>åŸç”Ÿæ”¯æŒæ–‡æ¡£ç»“æ„</p>
                    </div>
                  </div>
                  <div class="highlight-item">
                    <div class="highlight-icon">ğŸ¨</div>
                    <div class="highlight-text">
                      <h4>èµ„æºåŠ è½½</h4>
                      <p>æ™ºèƒ½èµ„æºé¢„åŠ è½½å’Œç¼“å­˜</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- React ç¼–è¯‘å™¨ -->
      <section class="compiler-section">
        <div class="card">
          <h2 class="card-title">React ç¼–è¯‘å™¨ (React Compiler)</h2>
          <div class="card-content">
            <div class="compiler-content">
              <div class="compiler-intro">
                <h3>è‡ªåŠ¨ä¼˜åŒ–æ—¶ä»£</h3>
                <p>React Compiler è‡ªåŠ¨åˆ†æç»„ä»¶ä»£ç ï¼Œæ™ºèƒ½æ·»åŠ  memoizationï¼Œå‡å°‘æ‰‹åŠ¨ä¼˜åŒ–å·¥ä½œã€‚</p>

                <div class="compiler-comparison">
                  <div class="compiler-version">
                    <h4>React 18 åŠä¹‹å‰</h4>
                    <div class="code-block">
                      <pre><code>import { memo, useMemo, useCallback } from 'react';

// éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–
const ExpensiveComponent = memo(({ data, onUpdate }) => {
  const processedData = useMemo(() => {
    return data.map(item => expensiveCalculation(item));
  }, [data]);

  const handleUpdate = useCallback((newValue) => {
    onUpdate(newValue);
  }, [onUpdate]);

  return (
    &lt;div&gt;
      {processedData.map(item => (
        &lt;div key={item.id}&gt;{item.value}&lt;/div&gt;
      ))}
      &lt;button onClick={handleUpdate}&gt;Update&lt;/button&gt;
    &lt;/div&gt;
  );
});</code></pre>
                    </div>
                  </div>

                  <div class="compiler-version">
                    <h4>React 19 + ç¼–è¯‘å™¨</h4>
                    <div class="code-block">
                      <pre><code>// React Compiler è‡ªåŠ¨ä¼˜åŒ–
const ExpensiveComponent = ({ data, onUpdate }) => {
  // ç¼–è¯‘å™¨è‡ªåŠ¨ memoize è¿™ä¸ªè®¡ç®—
  const processedData = data.map(item =>
    expensiveCalculation(item)
  );

  // ç¼–è¯‘å™¨è‡ªåŠ¨ memoize è¿™ä¸ªå‡½æ•°
  const handleUpdate = (newValue) => {
    onUpdate(newValue);
  };

  return (
    &lt;div&gt;
      {processedData.map(item => (
        &lt;div key={item.id}&gt;{item.value}&lt;/div&gt;
      ))}
      &lt;button onClick={handleUpdate}&gt;Update&lt;/button&gt;
    &lt;/div&gt;
  );
};</code></pre>
                    </div>
                  </div>
                </div>
              </div>

              <div class="compiler-features">
                <h3>ç¼–è¯‘å™¨ç‰¹æ€§</h3>
                <div class="features-grid">
                  <div class="feature-item">
                    <h4>è‡ªåŠ¨ Memoization</h4>
                    <p>æ™ºèƒ½è¯†åˆ«çº¯è®¡ç®—å’Œç¨³å®šå‡½æ•°ï¼Œè‡ªåŠ¨æ·»åŠ ä¼˜åŒ–</p>
                  </div>
                  <div class="feature-item">
                    <h4>ä¾èµ–åˆ†æ</h4>
                    <p>ç²¾ç¡®åˆ†æä¾èµ–å…³ç³»ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</p>
                  </div>
                  <div class="feature-item">
                    <h4>ç¼–è¯‘æ—¶ä¼˜åŒ–</h4>
                    <p>åœ¨æ„å»ºæ—¶è¿›è¡Œä¼˜åŒ–ï¼Œè¿è¡Œæ—¶é›¶å¼€é”€</p>
                  </div>
                  <div class="feature-item">
                    <h4>æ¸è¿›é‡‡ç”¨</h4>
                    <p>å¯ä»¥é€æ­¥åœ¨é¡¹ç›®ä¸­å¯ç”¨ç¼–è¯‘å™¨</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Actions API -->
      <section class="actions-section">
        <div class="card">
          <h2 class="card-title">Actions API</h2>
          <div class="card-content">
            <div class="actions-content">
              <div class="actions-intro">
                <h3>ç»Ÿä¸€çš„æ•°æ®å˜æ›´å¤„ç†</h3>
                <p>Actions æä¾›å£°æ˜å¼çš„æ–¹å¼æ¥å¤„ç†æ•°æ®å˜æ›´ã€è¡¨å•æäº¤å’Œå¼‚æ­¥æ“ä½œã€‚</p>
              </div>

              <div class="actions-grid">
                <div class="action-card">
                  <div class="action-header">
                    <h3 class="action-name">useActionState</h3>
                    <span class="action-tag new">æ–°å¢</span>
                  </div>
                  <div class="action-content">
                    <div class="action-info">
                      <h4>æè¿°</h4>
                      <p>ç®¡ç†å¼‚æ­¥æ“ä½œçŠ¶æ€ï¼Œæä¾› pendingã€errorã€data çŠ¶æ€</p>
                      <h4>ä½¿ç”¨åœºæ™¯</h4>
                      <ul>
                        <li>è¡¨å•æäº¤</li>
                        <li>æ•°æ®å˜æ›´æ“ä½œ</li>
                        <li>APIè°ƒç”¨</li>
                      </ul>
                    </div>
                    <div class="action-code">
                      <pre><code>import { useActionState } from 'react';

async function updateUser(prevState, formData) {
  try {
    const response = await fetch('/api/user', {
      method: 'POST',
      body: formData
    });

    if (!response.ok) {
      throw new Error('æ›´æ–°å¤±è´¥');
    }

    return {
      success: true,
      message: 'ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°'
    };
  } catch (error) {
    return {
      success: false,
      message: error.message
    };
  }
}

function UserProfile() {
  const [state, submitAction, isPending] = useActionState(updateUser, null);

  return (
    &lt;form action={submitAction}&gt;
      &lt;input name="name" placeholder="ç”¨æˆ·å" /&gt;
      &lt;input name="email" placeholder="é‚®ç®±" /&gt;
      &lt;button type="submit" disabled={isPending}&gt;
        {isPending ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°ä¿¡æ¯'}
      &lt;/button&gt;
      {state?.message && (
        &lt;p className={state.success ? 'success' : 'error'}&gt;
          {state.message}
        &lt;/p&gt;
      )}
    &lt;/form&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>

                <div class="action-card">
                  <div class="action-header">
                    <h3 class="action-name">useFormStatus</h3>
                    <span class="action-tag new">æ–°å¢</span>
                  </div>
                  <div class="action-content">
                    <div class="action-info">
                      <h4>æè¿°</h4>
                      <p>åœ¨è¡¨å•å­ç»„ä»¶ä¸­è®¿é—®çˆ¶è¡¨å•çš„çŠ¶æ€</p>
                      <h4>ä½¿ç”¨åœºæ™¯</h4>
                      <ul>
                        <li>è¡¨å•å†…ç»„ä»¶çŠ¶æ€åŒæ­¥</li>
                        <li>æäº¤çŠ¶æ€å…±äº«</li>
                        <li>åµŒå¥—è¡¨å•ç»„ä»¶</li>
                      </ul>
                    </div>
                    <div class="action-code">
                      <pre><code>import { useFormStatus } from 'react';

function SubmitButton() {
  const { pending, data, method, action } = useFormStatus();

  return (
    &lt;button
      type="submit"
      disabled={pending}
      aria-disabled={pending}
    &gt;
      {pending ? 'æäº¤ä¸­...' : 'æäº¤è¡¨å•'}
    &lt;/button&gt;
  );
}

function ContactForm() {
  return (
    &lt;form action="/api/contact"&gt;
      &lt;input name="name" placeholder="å§“å" /&gt;
      &lt;input name="email" placeholder="é‚®ç®±" /&gt;
      &lt;textarea name="message" placeholder="æ¶ˆæ¯" /&gt;

      &lt;SubmitButton /&gt;
    &lt;/form&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>

                <div class="action-card">
                  <div class="action-header">
                    <h3 class="action-name">useOptimistic</h3>
                    <span class="action-tag new">æ–°å¢</span>
                  </div>
                  <div class="action-content">
                    <div class="action-info">
                      <h4>æè¿°</h4>
                      <p>ä¹è§‚æ›´æ–°UIï¼Œåœ¨æ“ä½œå®Œæˆå‰ç«‹å³æ˜¾ç¤ºé¢„æœŸç»“æœ</p>
                      <h4>ä½¿ç”¨åœºæ™¯</h4>
                      <ul>
                        <li>å³æ—¶åé¦ˆæ“ä½œ</li>
                        <li>èŠå¤©æ¶ˆæ¯å‘é€</li>
                        <li>ç‚¹èµã€æ”¶è—ç­‰äº¤äº’</li>
                      </ul>
                    </div>
                    <div class="action-code">
                      <pre><code>import { useOptimistic, useActionState } from 'react';

function MessageList({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [
      ...state,
      {
        ...newMessage,
        sending: true
      }
    ]
  );

  const [state, formAction] = useActionState(async (prevState, formData) => {
    const message = formData.get('message');

    // ä¹è§‚æ›´æ–°
    addOptimisticMessage({
      id: Math.random(),
      text: message,
      sender: 'You'
    });

    // å®é™…å‘é€
    await sendMessage(message);

    return { success: true };
  }, null);

  return (
    &lt;div&gt;
      &lt;div className="messages"&gt;
        {optimisticMessages.map(message => (
          &lt;div
            key={message.id}
            className={`message ${message.sending ? 'sending' : ''}`}
          &gt;
            {message.text}
            {message.sending && &lt;span className="sending-indicator"&gt;å‘é€ä¸­...&lt;/span&gt;}
          &lt;/div&gt;
        ))}
      &lt;/div&gt;

      &lt;form action={formAction}&gt;
        &lt;input name="message" placeholder="è¾“å…¥æ¶ˆæ¯..." /&gt;
        &lt;button type="submit"&gt;å‘é€&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- æ–‡æ¡£ç»„ä»¶ -->
      <section class="document-section">
        <div class="card">
          <h2 class="card-title">æ–‡æ¡£ç»„ä»¶</h2>
          <div class="card-content">
            <div class="document-content">
              <div class="document-intro">
                <h3>åŸç”Ÿæ–‡æ¡£ç»“æ„æ”¯æŒ</h3>
                <p>React 19 å¼•å…¥äº†åŸç”Ÿæ–‡æ¡£ç»„ä»¶ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¤„ç†é¡µé¢å…ƒæ•°æ®ã€‚</p>
              </div>

              <div class="document-components">
                <div class="component-card">
                  <div class="component-header">
                    <h3 class="component-name">&lt;title&gt;, &lt;meta&gt;, &lt;link&gt;</h3>
                    <span class="component-tag new">æ–°å¢</span>
                  </div>
                  <div class="component-content">
                    <div class="component-info">
                      <h4>æè¿°</h4>
                      <p>åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨æ–‡æ¡£æ ‡ç­¾ï¼ŒReactä¼šè‡ªåŠ¨å°†å®ƒä»¬ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®</p>
                    </div>
                    <div class="component-code">
                      <pre><code>import { title, meta, link } from 'react';

function BlogPost({ post }) {
  return (
    &lt;article&gt;
      &lt;title&gt;{post.title} - My Blog&lt;/title&gt;
      &lt;meta name="description" content={post.excerpt} /&gt;
      &lt;meta property="og:title" content={post.title} /&gt;
      &lt;meta property="og:description" content={post.excerpt} /&gt;
      &lt;meta property="og:image" content={post.image} /&gt;
      &lt;link rel="canonical" href={post.url} /&gt;

      &lt;h1&gt;{post.title}&lt;/h1&gt;
      &lt;div className="content"&gt;
        {post.content}
      &lt;/div&gt;
    &lt;/article&gt;
  );
}

// æœåŠ¡ç«¯æ¸²æŸ“æ—¶ï¼Œè¿™äº›æ ‡ç­¾ä¼šè‡ªåŠ¨æ³¨å…¥åˆ° &lt;head&gt; ä¸­
// å®¢æˆ·ç«¯è·¯ç”±åˆ‡æ¢æ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°æ–‡æ¡£å…ƒæ•°æ®</code></pre>
                    </div>
                  </div>
                </div>

                <div class="component-card">
                  <div class="component-header">
                    <h3 class="component-name">&lt;script&gt; å’Œ &lt;style&gt;</h3>
                    <span class="component-tag new">æ–°å¢</span>
                  </div>
                  <div class="component-content">
                    <div class="component-info">
                      <h4>æè¿°</h4>
                      <p>ç»„ä»¶çº§åˆ«çš„è„šæœ¬å’Œæ ·å¼ç®¡ç†ï¼Œæ”¯æŒä¾èµ–å»é‡å’ŒåŠ è½½ä¼˜åŒ–</p>
                    </div>
                    <div class="component-code">
                      <pre><code>import { script, style } from 'react';

function ChartComponent() {
  return (
    &lt;div&gt;
      &lt;script
        src="https://cdn.jsdelivr.net/npm/chart.js"
        onLoad={() => console.log('Chart.js loaded')}
      /&gt;
      &lt;style&gt;
        {`
          .chart-container {
            width: 100%;
            height: 400px;
            background: #f5f5f5;
          }
        `}
      &lt;/style&gt;

      &lt;div className="chart-container"&gt;
        &lt;canvas id="myChart"&gt;&lt;/canvas&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

// React ä¼šè‡ªåŠ¨å»é‡ç›¸åŒçš„è„šæœ¬å’Œæ ·å¼
// æ”¯æŒæŒ‰éœ€åŠ è½½å’Œä»£ç åˆ†å‰²</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- èµ„æºåŠ è½½ -->
      <section class="resources-section">
        <div class="card">
          <h2 class="card-title">èµ„æºåŠ è½½ä¼˜åŒ–</h2>
          <div class="card-content">
            <div class="resources-content">
              <div class="resources-intro">
                <h3>æ™ºèƒ½èµ„æºç®¡ç†</h3>
                <p>React 19 å¼•å…¥äº†æ–°çš„èµ„æºåŠ è½½APIï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒã€‚</p>
              </div>

              <div class="resources-grid">
                <div class="resource-card">
                  <div class="resource-header">
                    <h3 class="resource-name">use</h3>
                    <span class="resource-tag new">æ–°å¢</span>
                  </div>
                  <div class="resource-content">
                    <div class="resource-info">
                      <h4>æè¿°</h4>
                      <p>ç›´æ¥è¯»å–Promiseã€Contextç­‰èµ„æºï¼Œç®€åŒ–å¼‚æ­¥æ•°æ®è·å–</p>
                      <h4>ä½¿ç”¨åœºæ™¯</h4>
                      <ul>
                        <li>Promiseç›´æ¥è¯»å–</li>
                        <li>Contextæ¶ˆè´¹</li>
                        <li>å¼‚æ­¥ç»„ä»¶</li>
                      </ul>
                    </div>
                    <div class="resource-code">
                      <pre><code>import { use } from 'react';

// ç›´æ¥è¯»å– Promise
function UserProfile({ userId }) {
  const user = use(fetchUser(userId));

  return (
    &lt;div&gt;
      &lt;h1&gt;{user.name}&lt;/h1&gt;
      &lt;p&gt;{user.email}&lt;/p&gt;
    &lt;/div&gt;
  );
}

// è¯»å– Contextï¼ˆæ— éœ€ Providerï¼‰
const ThemeContext = createContext();

function ThemedButton() {
  const theme = use(ThemeContext);

  return (
    &lt;button style={&#123; background: theme.primary &#125;}&gt;
      Themed Button
    &lt;/button&gt;
  );
}

// é…åˆ Suspense ä½¿ç”¨
function App() {
  return (
    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;
      &lt;UserProfile userId="123" /&gt;
    &lt;/Suspense&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>

                <div class="resource-card">
                  <div class="resource-header">
                    <h3 class="resource-name">èµ„æºé¢„åŠ è½½</h3>
                    <span class="resource-tag new">æ–°å¢</span>
                  </div>
                  <div class="resource-content">
                    <div class="resource-info">
                      <h4>æè¿°</h4>
                      <p>å£°æ˜å¼èµ„æºé¢„åŠ è½½ï¼Œæå‡é¡µé¢åŠ è½½æ€§èƒ½</p>
                      <h4>ä½¿ç”¨åœºæ™¯</h4>
                      <ul>
                        <li>å›¾ç‰‡é¢„åŠ è½½</li>
                        <li>æ•°æ®é¢„è·å–</li>
                        <li>è·¯ç”±é¢„åŠ è½½</li>
                      </ul>
                    </div>
                    <div class="resource-code">
                      <pre><code>import { preload, prefetch } from 'react';

// ç»„ä»¶å†…é¢„åŠ è½½
function ProductImage({ productId }) {
  // é¢„åŠ è½½å›¾ç‰‡
  preload(`/api/products/${productId}/image`);

  return (
    &lt;img
      src={`/api/products/${productId}/image`}
      alt="Product"
    /&gt;
  );
}

// è·¯ç”±é¢„åŠ è½½
function Navigation() {
  return (
    &lt;nav&gt;
      &lt;a
        href="/products"
        onMouseEnter={() => prefetch('/api/products')}
      &gt;
        äº§å“åˆ—è¡¨
      &lt;/a&gt;
    &lt;/nav&gt;
  );
}

// æ•°æ®é¢„è·å–
function ProductPage({ productId }) {
  // å¹¶è¡ŒåŠ è½½æ•°æ®å’Œå›¾ç‰‡
  const product = use(fetchProduct(productId));
  preload(`/api/products/${productId}/image`);

  return (
    &lt;div&gt;
      &lt;h1&gt;{product.name}&lt;/h1&gt;
      &lt;ProductImage productId={productId} /&gt;
    &lt;/div&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å…¶ä»–å¢å¼º -->
      <section class="enhancements-section">
        <div class="card">
          <h2 class="card-title">å…¶ä»–é‡è¦å¢å¼º</h2>
          <div class="card-content">
            <div class="enhancements-content">
              <div class="enhancements-grid">
                <div class="enhancement-card">
                  <div class="enhancement-header">
                    <h3 class="enhancement-name">Ref ä½œä¸º Prop</h3>
                    <span class="enhancement-tag improved">æ”¹è¿›</span>
                  </div>
                  <div class="enhancement-content">
                    <div class="enhancement-info">
                      <h4>æè¿°</h4>
                      <p>å‡½æ•°ç»„ä»¶ç°åœ¨å¯ä»¥ç›´æ¥æ¥æ”¶ ref ä½œä¸º propï¼Œæ— éœ€ forwardRef</p>
                    </div>
                    <div class="enhancement-code">
                      <pre><code>// React 18 åŠä¹‹å‰
const MyInput = forwardRef((props, ref) => {
  return &lt;input {...props} ref={ref} /&gt;
});

// React 19
function MyInput({ ref, ...props }) {
  return &lt;input {...props} ref={ref} /&gt;
}

// ä½¿ç”¨æ–¹å¼ä¿æŒä¸å˜
function Form() {
  const inputRef = useRef();

  return (
    &lt;form&gt;
      &lt;MyInput ref={inputRef} placeholder="è¾“å…¥å†…å®¹" /&gt;
      &lt;button onClick={() => inputRef.current.focus()}&gt;
        èšç„¦è¾“å…¥æ¡†
      &lt;/button&gt;
    &lt;/form&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>

                <div class="enhancement-card">
                  <div class="enhancement-header">
                    <h3 class="enhancement-name">Context æ€§èƒ½ä¼˜åŒ–</h3>
                    <span class="enhancement-tag improved">æ”¹è¿›</span>
                  </div>
                  <div class="enhancement-content">
                    <div class="enhancement-info">
                      <h4>æè¿°</h4>
                      <p>Context ç°åœ¨æ”¯æŒé€‰æ‹©æ€§åœ°è®¢é˜…éƒ¨åˆ†å€¼ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</p>
                    </div>
                    <div class="enhancement-code">
                      <pre><code>import { createContext, useContextSelector } from 'react';

const UserContext = createContext();

function UserProvider({ children }) {
  const [user, setUser] = useState({
    name: 'John',
    email: 'john@example.com',
    preferences: {
      theme: 'dark',
      language: 'zh-CN'
    }
  });

  return (
    &lt;UserContext.Provider value={&#123; user, setUser &#125;}&gt;
      &#123;children&#125;
    &lt;/UserContext.Provider&gt;
  );
}

// åªè®¢é˜…éœ€è¦çš„éƒ¨åˆ†
function ThemeSelector() {
  const theme = useContextSelector(
    UserContext,
    (value) => value.user.preferences.theme
  );

  return (
    &lt;select value={theme} onChange={/* ... */}&gt;
      &lt;option value="light"&gt;æµ…è‰²&lt;/option&gt;
      &lt;option value="dark"&gt;æ·±è‰²&lt;/option&gt;
    &lt;/select&gt;
  );
}

// å½“ user.name æˆ– user.email å˜åŒ–æ—¶ï¼ŒThemeSelector ä¸ä¼šé‡æ–°æ¸²æŸ“
// åªæœ‰å½“ theme å˜åŒ–æ—¶æ‰ä¼šé‡æ–°æ¸²æŸ“</code></pre>
                    </div>
                  </div>
                </div>

                <div class="enhancement-card">
                  <div class="enhancement-header">
                    <h3 class="enhancement-name">é”™è¯¯å¤„ç†å¢å¼º</h3>
                    <span class="enhancement-tag improved">æ”¹è¿›</span>
                  </div>
                  <div class="enhancement-content">
                    <div class="enhancement-info">
                      <h4>æè¿°</h4>
                      <p>æ›´ç»†ç²’åº¦çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶</p>
                    </div>
                    <div class="enhancement-code">
                      <pre><code>import { ErrorBoundary, useErrorBoundary } from 'react';

function ProductDetails({ productId }) {
  const { showBoundary } = useErrorBoundary();

  try {
    const product = use(fetchProduct(productId));
    return &lt;ProductView product={product} /&gt;
  } catch (error) {
    // å¯ä»¥é€‰æ‹©æ€§åœ°å¤„ç†é”™è¯¯
    if (error.status === 404) {
      return &lt;ProductNotFound /&gt;
    } else {
      // å°†å…¶ä»–é”™è¯¯æŠ›ç»™ ErrorBoundary
      showBoundary(error);
    }
  }
}

function App() {
  return (
    &lt;ErrorBoundary
      fallback={&lt;ErrorPage /&gt;}
      onError={(error, errorInfo) => {
        // è®°å½•é”™è¯¯
        logError(error, errorInfo);
      }}
      onReset={() => {
        // é”™è¯¯æ¢å¤åçš„å›è°ƒ
        window.location.reload();
      }}
    &gt;
      &lt;ProductDetails productId="123" /&gt;
    &lt;/ErrorBoundary&gt;
  );
}</code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- è¿ç§»æŒ‡å— -->
      <section class="migration-section">
        <div class="card">
          <h2 class="card-title">è¿ç§»åˆ° React 19</h2>
          <div class="card-content">
            <div class="migration-content">
              <div class="migration-steps">
                <h3>å‡çº§æ­¥éª¤</h3>
                <div class="steps">
                  <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                      <h4>å®‰è£… React 19</h4>
                      <div class="code-block">
                        <pre><code>npm install react@19 react-dom@19</code></pre>
                      </div>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                      <h4>å¯ç”¨ React ç¼–è¯‘å™¨ï¼ˆå¯é€‰ï¼‰</h4>
                      <div class="code-block">
                        <pre><code>// åœ¨æ„å»ºå·¥å…·ä¸­é…ç½®
// Vite ç¤ºä¾‹
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [
    react({
      babel: {
        plugins: [
          ['babel-plugin-react-compiler']
        ]
      }
    })
  ]
});</code></pre>
                      </div>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                      <h4>è¿ç§» Actions API</h4>
                      <p>å°†è¡¨å•å¤„ç†å’Œæ•°æ®å˜æ›´è¿ç§»åˆ°æ–°çš„ Actions API</p>
                    </div>
                  </div>
                  <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                      <h4>æ›´æ–°æ–‡æ¡£ç»„ä»¶</h4>
                      <p>ä½¿ç”¨æ–°çš„æ–‡æ¡£ç»„ä»¶æ›¿ä»£ç°æœ‰çš„ head ç®¡ç†æ–¹æ¡ˆ</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="migration-tips">
                <h3>è¿ç§»æ³¨æ„äº‹é¡¹</h3>
                <div class="tips-grid">
                  <div class="tip">
                    <div class="tip-icon">âš ï¸</div>
                    <div class="tip-content">
                      <h4>ç¼–è¯‘å™¨å…¼å®¹æ€§</h4>
                      <p>ç¡®ä¿ä»£ç ç¬¦åˆ React ç¼–è¯‘å™¨çš„è¦æ±‚ï¼ˆçº¯å‡½æ•°ã€ç¨³å®šä¾èµ–ï¼‰</p>
                    </div>
                  </div>
                  <div class="tip">
                    <div class="tip-icon">ğŸ”</div>
                    <div class="tip-content">
                      <h4>Actions æµ‹è¯•</h4>
                      <p>å……åˆ†æµ‹è¯•æ–°çš„ Actions API åœ¨å„ç§åœºæ™¯ä¸‹çš„è¡Œä¸º</p>
                    </div>
                  </div>
                  <div class="tip">
                    <div class="tip-icon">ğŸš€</div>
                    <div class="tip-content">
                      <h4>æ¸è¿›é‡‡ç”¨</h4>
                      <p>å¯ä»¥é€æ­¥å¯ç”¨ç¼–è¯‘å™¨å’Œæ–°çš„ API</p>
                    </div>
                  </div>
                  <div class="tip">
                    <div class="tip-icon">ğŸ“š</div>
                    <div class="tip-content">
                      <h4>ç¬¬ä¸‰æ–¹åº“</h4>
                      <p>æ£€æŸ¥ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“æ˜¯å¦ä¸ React 19 å…¼å®¹</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="breaking-changes">
                <h3>é‡å¤§å˜åŒ–</h3>
                <div class="changes-list">
                  <div class="change-item">
                    <h4>forwardRef ä¸å†å¿…éœ€</h4>
                    <p>å‡½æ•°ç»„ä»¶ç°åœ¨ç›´æ¥æ¥æ”¶ ref prop</p>
                  </div>
                  <div class="change-item">
                    <h4>ä¸¥æ ¼æ¨¡å¼å¢å¼º</h4>
                    <p>å¼€å‘æ¨¡å¼ä¸‹ä¼šæœ‰æ›´å¤šçš„è¡Œä¸ºæ¨¡æ‹Ÿæ¥å‘ç°æ½œåœ¨é—®é¢˜</p>
                  </div>
                  <div class="change-item">
                    <h4>å¼ƒç”¨è­¦å‘Š</h4>
                    <p>ä¸€äº›æ—§çš„ API å¯èƒ½ä¼šè¢«æ ‡è®°ä¸ºå¼ƒç”¨</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup lang="ts">
// è¿™é‡Œå¯ä»¥æ·»åŠ å“åº”å¼æ•°æ®æˆ–æ–¹æ³•
</script>

<style lang="less" scoped>
.react-19-features-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  color: #333;
  background: linear-gradient(135deg, #f5f7fa 0%, #e4eaf7 100%);
  min-height: 100vh;
}

.page-header {
  text-align: center;
  margin-bottom: 32px;
  padding: 32px 0;

  .title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #2c3e50;
    margin: 0 0 8px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .subtitle {
    font-size: 1.2rem;
    color: #7f8c8d;
    margin: 0;
    font-weight: 300;
  }
}

.content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
  transition: all 0.3s ease;
  border: 1px solid #e1e8ed;

  &:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #2c3e50;
    margin: 0 0 16px 0;
    padding-bottom: 12px;
    border-bottom: 2px solid #e9ecef;
  }
}

.overview-content {
  .intro-text {
    font-size: 1.1rem;
    color: #555;
    margin-bottom: 24px;
    text-align: center;
  }
}

.highlights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.highlight-item {
  display: flex;
  align-items: center;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s ease;

  &:hover {
    background: #e9ecef;
    transform: translateY(-2px);
  }

  .highlight-icon {
    font-size: 2rem;
    margin-right: 16px;
  }

  .highlight-text {
    h4 {
      margin: 0 0 4px 0;
      color: #2c3e50;
      font-size: 1.1rem;
    }

    p {
      margin: 0;
      color: #666;
      font-size: 0.9rem;
    }
  }
}

.compiler-content {
  .compiler-intro {
    margin-bottom: 32px;

    h3 {
      margin: 0 0 16px 0;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    p {
      margin: 0 0 24px 0;
      color: #666;
    }
  }
}

.compiler-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  margin-bottom: 32px;
}

.compiler-version {
  h4 {
    margin: 0 0 12px 0;
    color: #2c3e50;
    font-size: 1.1rem;
  }
}

.code-block {
  background: #2d3748;
  border-radius: 6px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 16px;
    overflow-x: auto;

    code {
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      line-height: 1.4;
    }
  }
}

.compiler-features {
  h3 {
    margin: 0 0 20px 0;
    color: #2c3e50;
    font-size: 1.2rem;
  }
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.feature-item {
  background: #f8f9fa;
  padding: 16px;
  border-radius: 8px;

  h4 {
    margin: 0 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
  }
}

.actions-content {
  .actions-intro {
    margin-bottom: 32px;

    h3 {
      margin: 0 0 16px 0;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    p {
      margin: 0 0 24px 0;
      color: #666;
    }
  }
}

.actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 24px;
}

.action-card {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
}

.action-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: white;
  border-bottom: 1px solid #e9ecef;

  .action-name {
    margin: 0;
    color: #2c3e50;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .action-tag {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;

    &.new {
      background: #e8f5e8;
      color: #2e7d32;
    }
  }
}

.action-content {
  padding: 20px;
}

.action-info {
  margin-bottom: 16px;

  h4 {
    margin: 12px 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0 0 12px 0;
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
  }

  ul {
    margin: 0 0 12px 0;
    padding-left: 20px;

    li {
      margin-bottom: 4px;
      color: #555;
      font-size: 0.9rem;
    }
  }
}

.action-code {
  background: #2d3748;
  border-radius: 6px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 16px;
    overflow-x: auto;

    code {
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      line-height: 1.4;
    }
  }
}

.document-content {
  .document-intro {
    margin-bottom: 32px;

    h3 {
      margin: 0 0 16px 0;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    p {
      margin: 0 0 24px 0;
      color: #666;
    }
  }
}

.document-components {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 24px;
}

.component-card {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
}

.component-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: white;
  border-bottom: 1px solid #e9ecef;

  .component-name {
    margin: 0;
    color: #2c3e50;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .component-tag {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;

    &.new {
      background: #e8f5e8;
      color: #2e7d32;
    }
  }
}

.component-content {
  padding: 20px;
}

.component-info {
  margin-bottom: 16px;

  h4 {
    margin: 12px 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0 0 12px 0;
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
  }
}

.component-code {
  background: #2d3748;
  border-radius: 6px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 16px;
    overflow-x: auto;

    code {
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      line-height: 1.4;
    }
  }
}

.resources-content {
  .resources-intro {
    margin-bottom: 32px;

    h3 {
      margin: 0 0 16px 0;
      color: #2c3e50;
      font-size: 1.2rem;
    }

    p {
      margin: 0 0 24px 0;
      color: #666;
    }
  }
}

.resources-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 24px;
}

.resource-card {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
}

.resource-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: white;
  border-bottom: 1px solid #e9ecef;

  .resource-name {
    margin: 0;
    color: #2c3e50;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .resource-tag {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;

    &.new {
      background: #e8f5e8;
      color: #2e7d32;
    }
  }
}

.resource-content {
  padding: 20px;
}

.resource-info {
  margin-bottom: 16px;

  h4 {
    margin: 12px 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0 0 12px 0;
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
  }

  ul {
    margin: 0 0 12px 0;
    padding-left: 20px;

    li {
      margin-bottom: 4px;
      color: #555;
      font-size: 0.9rem;
    }
  }
}

.resource-code {
  background: #2d3748;
  border-radius: 6px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 16px;
    overflow-x: auto;

    code {
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      line-height: 1.4;
    }
  }
}

.enhancements-content {
  .enhancements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 24px;
  }
}

.enhancement-card {
  background: #f8f9fa;
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.3s ease;
  border: 1px solid #e9ecef;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
}

.enhancement-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: white;
  border-bottom: 1px solid #e9ecef;

  .enhancement-name {
    margin: 0;
    color: #2c3e50;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .enhancement-tag {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;

    &.improved {
      background: #e3f2fd;
      color: #1976d2;
    }
  }
}

.enhancement-content {
  padding: 20px;
}

.enhancement-info {
  margin-bottom: 16px;

  h4 {
    margin: 12px 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0 0 12px 0;
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
  }
}

.enhancement-code {
  background: #2d3748;
  border-radius: 6px;
  overflow: hidden;

  pre {
    margin: 0;
    padding: 16px;
    overflow-x: auto;

    code {
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      line-height: 1.4;
    }
  }
}

.migration-content {
  .migration-steps {
    margin-bottom: 32px;

    h3 {
      margin: 0 0 20px 0;
      color: #2c3e50;
      font-size: 1.2rem;
    }
  }
}

.steps {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.step {
  display: flex;
  align-items: flex-start;

  .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: #667eea;
    color: white;
    border-radius: 50%;
    font-weight: 600;
    margin-right: 16px;
    flex-shrink: 0;
  }

  .step-content {
    flex: 1;

    h4 {
      margin: 0 0 8px 0;
      color: #2c3e50;
      font-size: 1.1rem;
    }

    p {
      margin: 0 0 12px 0;
      color: #666;
    }
  }
}

.migration-tips {
  margin-bottom: 32px;

  h3 {
    margin: 0 0 20px 0;
    color: #2c3e50;
    font-size: 1.2rem;
  }
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.tip {
  display: flex;
  align-items: flex-start;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s ease;

  &:hover {
    background: #e9ecef;
    transform: translateY(-2px);
  }

  .tip-icon {
    font-size: 1.5rem;
    margin-right: 16px;
  }

  .tip-content {
    h4 {
      margin: 0 0 8px 0;
      color: #2c3e50;
      font-size: 1.1rem;
    }

    p {
      margin: 0;
      color: #666;
      font-size: 0.9rem;
    }
  }
}

.breaking-changes {
  h3 {
    margin: 0 0 20px 0;
    color: #2c3e50;
    font-size: 1.2rem;
  }
}

.changes-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
}

.change-item {
  background: #f8f9fa;
  padding: 16px;
  border-radius: 8px;

  h4 {
    margin: 0 0 8px 0;
    color: #2c3e50;
    font-size: 1rem;
  }

  p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .react-19-features-container {
    padding: 16px;
  }

  .page-header .title {
    font-size: 2rem;
  }

  .card {
    padding: 20px;
  }

  .highlights-grid,
  .compiler-comparison,
  .actions-grid,
  .document-components,
  .resources-grid,
  .enhancements-grid,
  .features-grid,
  .tips-grid,
  .changes-list {
    grid-template-columns: 1fr;
  }

  .step {
    flex-direction: column;
    align-items: flex-start;

    .step-number {
      margin-bottom: 12px;
    }
  }
}
</style>
