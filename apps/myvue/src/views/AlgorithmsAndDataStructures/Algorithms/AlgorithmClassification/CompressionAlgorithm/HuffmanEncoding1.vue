<template>
  <div class="huffman-container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <section class="header-section">
      <h1 class="title">éœå¤«æ›¼ç¼–ç </h1>
      <div class="subtitle">æ•°æ®å‹ç¼©çš„è‰ºæœ¯</div>
      <div class="header-stats">
        <div class="stat-card">
          <div class="stat-icon">ğŸ“‰</div>
          <div class="stat-value">20-90%</div>
          <div class="stat-label">å‹ç¼©ç‡</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">â±ï¸</div>
          <div class="stat-value">1952å¹´</div>
          <div class="stat-label">å‘æ˜æ—¶é—´</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ§ </div>
          <div class="stat-value">David Huffman</div>
          <div class="stat-label">å‘æ˜è€…</div>
        </div>
      </div>
    </section>

    <!-- æ¦‚å¿µä»‹ç» -->
    <section class="content-section">
      <h2 class="section-title">ğŸ“– ä»€ä¹ˆæ˜¯éœå¤«æ›¼ç¼–ç ï¼Ÿ</h2>
      <div class="concept-card">
        <div class="concept-text">
          <p>
            <strong>éœå¤«æ›¼ç¼–ç </strong>æ˜¯ä¸€ç§åŸºäºå­—ç¬¦å‡ºç°é¢‘ç‡çš„<strong>æ— æŸæ•°æ®å‹ç¼©ç®—æ³•</strong>ï¼Œ
            ç”±David A. Huffmanäº1952å¹´åœ¨MITæ”»è¯»åšå£«å­¦ä½æ—¶å‘æ˜ã€‚
          </p>
          <p>
            å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸º<strong>å‡ºç°é¢‘ç‡é«˜çš„å­—ç¬¦åˆ†é…è¾ƒçŸ­çš„ç¼–ç </strong>ï¼Œ
            ä¸º<strong>å‡ºç°é¢‘ç‡ä½çš„å­—ç¬¦åˆ†é…è¾ƒé•¿çš„ç¼–ç </strong>ï¼Œ
            ä»è€Œå‡å°‘æ•°æ®çš„æ•´ä½“å­˜å‚¨ç©ºé—´ã€‚
          </p>
          <div class="highlight-box">
            <div class="highlight-icon">ğŸ’¡</div>
            <div class="highlight-content">
              éœå¤«æ›¼ç¼–ç æ˜¯<strong>å‰ç¼€ç¼–ç </strong>çš„ä¸€ç§ï¼Œå³ä»»ä½•å­—ç¬¦çš„ç¼–ç éƒ½ä¸æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ç¼–ç çš„å‰ç¼€ï¼Œ
              è¿™ç§ç‰¹æ€§ä½¿å¾—ç¼–ç å¯ä»¥ç›´æ¥è§£ç è€Œæ— éœ€åˆ†éš”ç¬¦ã€‚
            </div>
          </div>
        </div>
        <div class="concept-visual">
          <div class="visual-title">ç¼–ç ç¤ºä¾‹</div>
          <div class="coding-example">
            <div class="coding-item">
              <span class="char">A</span>
              <span class="freq">(45%)</span>
              <span class="code">0</span>
            </div>
            <div class="coding-item">
              <span class="char">B</span>
              <span class="freq">(13%)</span>
              <span class="code">101</span>
            </div>
            <div class="coding-item">
              <span class="char">C</span>
              <span class="freq">(12%)</span>
              <span class="code">100</span>
            </div>
            <div class="coding-item">
              <span class="char">D</span>
              <span class="freq">(16%)</span>
              <span class="code">111</span>
            </div>
            <div class="coding-item">
              <span class="char">E</span>
              <span class="freq">(9%)</span>
              <span class="code">1101</span>
            </div>
            <div class="coding-item">
              <span class="char">F</span>
              <span class="freq">(5%)</span>
              <span class="code">1100</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- æ ¸å¿ƒåŸç† -->
    <section class="content-section">
      <h2 class="section-title">âš™ï¸ éœå¤«æ›¼ç¼–ç åŸç†</h2>

      <div class="principles-container">
        <div class="principle-card">
          <div class="principle-icon">1ï¸âƒ£</div>
          <div class="principle-content">
            <h3>é¢‘ç‡ç»Ÿè®¡</h3>
            <p>è®¡ç®—æ–‡æœ¬ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡</p>
          </div>
        </div>

        <div class="principle-card">
          <div class="principle-icon">2ï¸âƒ£</div>
          <div class="principle-content">
            <h3>æ„å»ºä¼˜å…ˆé˜Ÿåˆ—</h3>
            <p>å°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºèŠ‚ç‚¹æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆé¢‘ç‡ä½œä¸ºä¼˜å…ˆçº§ï¼‰</p>
          </div>
        </div>

        <div class="principle-card">
          <div class="principle-icon">3ï¸âƒ£</div>
          <div class="principle-content">
            <h3>æ„å»ºéœå¤«æ›¼æ ‘</h3>
            <p>åå¤åˆå¹¶é¢‘ç‡æœ€ä½çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç›´åˆ°åªå‰©ä¸€ä¸ªæ ¹èŠ‚ç‚¹</p>
          </div>
        </div>

        <div class="principle-card">
          <div class="principle-icon">4ï¸âƒ£</div>
          <div class="principle-content">
            <h3>åˆ†é…ç¼–ç </h3>
            <p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå‘å·¦åˆ†æ”¯åˆ†é…0ï¼Œå‘å³åˆ†æ”¯åˆ†é…1</p>
          </div>
        </div>

        <div class="principle-card">
          <div class="principle-icon">5ï¸âƒ£</div>
          <div class="principle-content">
            <h3>ç”Ÿæˆç¼–ç è¡¨</h3>
            <p>éå†åˆ°å¶å­èŠ‚ç‚¹å¾—åˆ°æ¯ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶ç¼–ç </p>
          </div>
        </div>
      </div>

      <div class="huffman-tree">
        <div class="tree-node root">
          <div class="node-value">100%</div>
          <div class="branches">
            <div class="branch left">
              <div class="node">
                <div class="node-value">55%</div>
                <div class="branches">
                  <div class="branch left">
                    <div class="leaf">
                      <div class="char">A</div>
                      <div class="freq">45%</div>
                      <div class="code">0</div>
                    </div>
                  </div>
                  <div class="branch right">
                    <div class="node">
                      <div class="node-value">10%</div>
                      <div class="branches">
                        <div class="branch left">
                          <div class="leaf">
                            <div class="char">F</div>
                            <div class="freq">5%</div>
                            <div class="code">1100</div>
                          </div>
                        </div>
                        <div class="branch right">
                          <div class="leaf">
                            <div class="char">E</div>
                            <div class="freq">5%</div>
                            <div class="code">1101</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="branch right">
              <div class="node">
                <div class="node-value">45%</div>
                <div class="branches">
                  <div class="branch left">
                    <div class="node">
                      <div class="node-value">20%</div>
                      <div class="branches">
                        <div class="branch left">
                          <div class="leaf">
                            <div class="char">C</div>
                            <div class="freq">12%</div>
                            <div class="code">100</div>
                          </div>
                        </div>
                        <div class="branch right">
                          <div class="leaf">
                            <div class="char">B</div>
                            <div class="freq">13%</div>
                            <div class="code">101</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="branch right">
                    <div class="leaf">
                      <div class="char">D</div>
                      <div class="freq">16%</div>
                      <div class="code">111</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tree-legend">
          <div class="legend-item"><span class="branch-indicator left">0</span> å·¦åˆ†æ”¯</div>
          <div class="legend-item"><span class="branch-indicator right">1</span> å³åˆ†æ”¯</div>
          <div class="legend-item"><div class="node-sample"></div> å†…éƒ¨èŠ‚ç‚¹</div>
          <div class="legend-item"><div class="leaf-sample"></div> å¶å­èŠ‚ç‚¹ï¼ˆå­—ç¬¦ï¼‰</div>
        </div>
      </div>
    </section>

    <!-- ä¼˜ç‚¹ä¸ç¼ºç‚¹ -->
    <section class="content-section">
      <h2 class="section-title">âœ… ä¼˜ç‚¹ vs  âš ï¸ å±€é™æ€§</h2>

      <div class="pros-cons">
        <div class="pros">
          <h3><span class="icon">âœ…</span> ä¼˜ç‚¹</h3>
          <ul>
            <li><strong>æ— æŸå‹ç¼©</strong>ï¼šè§£å‹åæ•°æ®ä¸åŸæ•°æ®å®Œå…¨ä¸€è‡´</li>
            <li><strong>é«˜æ•ˆå‹ç¼©</strong>ï¼šæ¥è¿‘ä¿¡æ¯ç†µçš„ç†è®ºæé™</li>
            <li><strong>ç®€å•é«˜æ•ˆ</strong>ï¼šç¼–ç å’Œè§£ç ç®—æ³•å¤æ‚åº¦å‡ä¸ºO(n log n)</li>
            <li><strong>è‡ªé€‚åº”èƒ½åŠ›</strong>ï¼šå¯æ ¹æ®è¾“å…¥æ•°æ®åˆ†å¸ƒè‡ªåŠ¨è°ƒæ•´ç¼–ç </li>
            <li><strong>æ— éœ€å­—å…¸</strong>ï¼šç¼–ç æ ‘å¯åµŒå…¥å‹ç¼©æ•°æ®ä¸­</li>
          </ul>
        </div>

        <div class="cons">
          <h3><span class="icon">âš ï¸</span> å±€é™æ€§</h3>
          <ul>
            <li><strong>ä¸¤æ¬¡æ‰«æ</strong>ï¼šéœ€è¦å…ˆç»Ÿè®¡é¢‘ç‡å†ç¼–ç </li>
            <li><strong>é™æ€ç¼–ç è¡¨</strong>ï¼šå¯¹çŸ­æ–‡æœ¬æ•ˆç‡è¾ƒä½</li>
            <li><strong>ç¼–ç è¡¨å¼€é”€</strong>ï¼šå¯¹å°æ–‡ä»¶å‹ç¼©ç‡å¯èƒ½ä¸ºè´Ÿ</li>
            <li><strong>æ˜“å—æ”»å‡»</strong>ï¼šé¢‘ç‡åˆ†æå¯èƒ½æš´éœ²ä¿¡æ¯ï¼ˆåŠ å¯†æ–‡æœ¬ï¼‰</li>
            <li><strong>ä¸é€‚åˆå¹¶è¡Œ</strong>ï¼šç¼–ç è¿‡ç¨‹æœ¬è´¨ä¸Šæ˜¯é¡ºåºçš„</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- åº”ç”¨åœºæ™¯ -->
    <section class="content-section">
      <h2 class="section-title">ğŸŒ åº”ç”¨åœºæ™¯</h2>

      <div class="applications-grid">
        <div class="app-card">
          <div class="app-icon">ğŸ—œï¸</div>
          <h3>æ–‡ä»¶å‹ç¼©</h3>
          <p>ZIPã€GZIPã€PKZIPç­‰å‹ç¼©å·¥å…·çš„ç»„æˆéƒ¨åˆ†</p>
        </div>

        <div class="app-card">
          <div class="app-icon">ğŸ–¼ï¸</div>
          <h3>å›¾åƒå‹ç¼©</h3>
          <p>JPEGã€PNGç­‰å›¾åƒæ ¼å¼çš„ç†µç¼–ç é˜¶æ®µ</p>
        </div>

        <div class="app-card">
          <div class="app-icon">ğŸ¬</div>
          <h3>è§†é¢‘ç¼–ç </h3>
          <p>MPEGã€H.264ã€HEVCç­‰è§†é¢‘ç¼–ç æ ‡å‡†</p>
        </div>

        <div class="app-card">
          <div class="app-icon">ğŸ“¡</div>
          <h3>é€šä¿¡ä¼ è¾“</h3>
          <p>å‡å°‘ç½‘ç»œä¼ è¾“æ•°æ®é‡ï¼Œæé«˜ä¼ è¾“æ•ˆç‡</p>
        </div>

        <div class="app-card">
          <div class="app-icon">ğŸ’¾</div>
          <h3>æ•°æ®åº“å­˜å‚¨</h3>
          <p>å‹ç¼©æ–‡æœ¬å­—æ®µï¼Œå‡å°‘å­˜å‚¨ç©ºé—´</p>
        </div>

        <div class="app-card">
          <div class="app-icon">ğŸ”</div>
          <h3>åŠ å¯†ç³»ç»Ÿ</h3>
          <p>ä¸åŠ å¯†ç®—æ³•ç»“åˆï¼Œå¢åŠ å¯†ç åˆ†æéš¾åº¦</p>
        </div>
      </div>
    </section>

    <!-- ç¤ºä¾‹æ¼”ç¤º -->
    <section class="content-section">
      <h2 class="section-title">ğŸ” ç¼–ç ç¤ºä¾‹</h2>

      <div class="example-container">
        <div class="original-text">
          <h3>åŸå§‹æ–‡æœ¬ï¼š</h3>
          <div class="text-content">"HUFFMAN CODING IS EFFICIENT"</div>
          <div class="text-stats">
            <div>é•¿åº¦ï¼š<strong>26ä¸ªå­—ç¬¦</strong></div>
            <div>å¤§å°ï¼š<strong>208æ¯”ç‰¹ (ASCII)</strong></div>
          </div>
        </div>

        <div class="frequency-table">
          <h3>å­—ç¬¦é¢‘ç‡ï¼š</h3>
          <div class="table">
            <div class="table-row header">
              <div>å­—ç¬¦</div>
              <div>å‡ºç°æ¬¡æ•°</div>
              <div>é¢‘ç‡</div>
              <div>éœå¤«æ›¼ç¼–ç </div>
            </div>
            <div class="table-row">
              <div>F</div>
              <div>4</div>
              <div>15.4%</div>
              <div>00</div>
            </div>
            <div class="table-row">
              <div>ç©ºæ ¼</div>
              <div>4</div>
              <div>15.4%</div>
              <div>01</div>
            </div>
            <div class="table-row">
              <div>I</div>
              <div>3</div>
              <div>11.5%</div>
              <div>100</div>
            </div>
            <div class="table-row">
              <div>C</div>
              <div>2</div>
              <div>7.7%</div>
              <div>1010</div>
            </div>
            <div class="table-row">
              <div>N</div>
              <div>2</div>
              <div>7.7%</div>
              <div>1011</div>
            </div>
            <div class="table-row">
              <div>H</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11000</div>
            </div>
            <div class="table-row">
              <div>U</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11001</div>
            </div>
            <div class="table-row">
              <div>M</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11010</div>
            </div>
            <div class="table-row">
              <div>A</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11011</div>
            </div>
            <div class="table-row">
              <div>O</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11100</div>
            </div>
            <div class="table-row">
              <div>D</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11101</div>
            </div>
            <div class="table-row">
              <div>G</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11110</div>
            </div>
            <div class="table-row">
              <div>S</div>
              <div>1</div>
              <div>3.8%</div>
              <div>11111</div>
            </div>
          </div>
        </div>

        <div class="compression-result">
          <h3>å‹ç¼©ç»“æœï¼š</h3>
          <div class="result-content">
            <div class="result-item">
              <div>åŸå§‹å¤§å°ï¼š</div>
              <div>208 bits</div>
            </div>
            <div class="result-item">
              <div>å‹ç¼©åå¤§å°ï¼š</div>
              <div>85 bits</div>
            </div>
            <div class="result-item">
              <div>å‹ç¼©ç‡ï¼š</div>
              <div>59.1%</div>
            </div>
            <div class="result-item">
              <div>å¹³å‡ç¼–ç é•¿åº¦ï¼š</div>
              <div>3.27 bits/å­—ç¬¦</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ç®—æ³•å®ç° -->
    <section class="content-section">
      <h2 class="section-title">ğŸ’» ç®—æ³•å®ç°æ€è·¯</h2>

      <div class="implementation">
        <div class="code-snippet">
          <pre><code>function buildHuffmanTree(text) {
  // 1. è®¡ç®—å­—ç¬¦é¢‘ç‡
  const freqMap = new Map();
  for (const char of text) {
    freqMap.set(char, (freqMap.get(char) || 0) + 1);
  }

  // 2. åˆ›å»ºä¼˜å…ˆçº§é˜Ÿåˆ—
  const queue = new PriorityQueue({
    comparator: (a, b) => a.freq - b.freq
  });

  for (const [char, freq] of freqMap) {
    queue.enqueue({ char, freq, left: null, right: null });
  }

  // 3. æ„å»ºéœå¤«æ›¼æ ‘
  while (queue.length > 1) {
    const left = queue.dequeue();
    const right = queue.dequeue();
    const node = {
      char: null,
      freq: left.freq + right.freq,
      left,
      right
    };
    queue.enqueue(node);
  }

  // 4. è¿”å›æ ¹èŠ‚ç‚¹
  return queue.dequeue();
}</code></pre>
        </div>

        <div class="implementation-steps">
          <h3>å…³é”®æ­¥éª¤ï¼š</h3>
          <ol>
            <li>ç»Ÿè®¡è¾“å…¥æ•°æ®ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°é¢‘ç‡</li>
            <li>ä¸ºæ¯ä¸ªå­—ç¬¦åˆ›å»ºå¶å­èŠ‚ç‚¹ï¼Œå¹¶æ ¹æ®é¢‘ç‡æ’åº</li>
            <li>å¾ªç¯å–å‡ºé¢‘ç‡æœ€ä½çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ä¸ºæ–°èŠ‚ç‚¹</li>
            <li>æ–°èŠ‚ç‚¹é¢‘ç‡ä¸ºå­èŠ‚ç‚¹é¢‘ç‡ä¹‹å’Œ</li>
            <li>å°†æ–°èŠ‚ç‚¹æ”¾å›ä¼˜å…ˆçº§é˜Ÿåˆ—</li>
            <li>é‡å¤ç›´åˆ°é˜Ÿåˆ—ä¸­åªå‰©ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ ‘çš„æ ¹èŠ‚ç‚¹ï¼‰</li>
            <li>ä»æ ¹èŠ‚ç‚¹éå†æ ‘ï¼Œåˆ†é…äºŒè¿›åˆ¶ç¼–ç </li>
          </ol>
        </div>
      </div>
    </section>

    <!-- æ€»ç»“ -->
    <section class="content-section summary-section">
      <h2 class="section-title">ğŸ¯ æ€»ç»“</h2>

      <div class="summary-content">
        <div class="key-point">
          <div class="point-icon">ğŸ”‘</div>
          <div class="point-text">éœå¤«æ›¼ç¼–ç æ˜¯<strong>æœ€ä¼˜çš„å‰ç¼€ç¼–ç æ–¹æ³•</strong>ï¼Œå¯¹ä»»æ„æ¦‚ç‡åˆ†å¸ƒéƒ½èƒ½ç”Ÿæˆæœ€å°å¹³å‡ç é•¿</div>
        </div>

        <div class="key-point">
          <div class="point-icon">ğŸ“Š</div>
          <div class="point-text">å‹ç¼©æ•ˆç‡å–å†³äº<strong>è¾“å…¥æ•°æ®çš„æ¦‚ç‡åˆ†å¸ƒ</strong>ï¼Œåˆ†å¸ƒè¶Šä¸å‡åŒ€å‹ç¼©æ•ˆæœè¶Šå¥½</div>
        </div>

        <div class="key-point">
          <div class="point-icon">âš–ï¸</div>
          <div class="point-text">éœå¤«æ›¼ç¼–ç æ˜¯<strong>æ— æŸå‹ç¼©çš„é»„é‡‘æ ‡å‡†</strong>ï¼Œåœ¨å‹ç¼©ç‡å’Œé€Ÿåº¦ä¹‹é—´å–å¾—è‰¯å¥½å¹³è¡¡</div>
        </div>

        <div class="key-point">
          <div class="point-icon">ğŸš€</div>
          <div class="point-text">ç°ä»£å˜ä½“å¦‚<strong>è‡ªé€‚åº”éœå¤«æ›¼ç¼–ç </strong>å¯ä»¥åŠ¨æ€æ›´æ–°ç¼–ç æ ‘ï¼Œæé«˜å®æ—¶å‹ç¼©æ•ˆç‡</div>
        </div>
      </div>

      <div class="quote-box">
        <div class="quote-icon">ğŸ’¬</div>
        <div class="quote-content">
          "éœå¤«æ›¼ç¼–ç çš„ç¾å¦™ä¹‹å¤„åœ¨äºå…¶ç®€å•æ€§å’Œæœ€ä¼˜æ€§ï¼šå¯¹äºä¸€ä¸ªç»™å®šçš„å­—ç¬¦æ¦‚ç‡åˆ†å¸ƒï¼Œ
          æ²¡æœ‰å…¶ä»–å‰ç¼€ç¼–ç çš„å¹³å‡é•¿åº¦èƒ½å°äºéœå¤«æ›¼ç¼–ç çš„å¹³å‡é•¿åº¦ã€‚"
          <div class="quote-author">- David A. Huffman</div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
// ç»„ä»¶é€»è¾‘ä»£ç 
import { ref } from 'vue';

// ç¤ºä¾‹æ•°æ®
const compressionStats = ref({
  originalSize: 208,
  compressedSize: 85,
  compressionRatio: 59.1,
  avgCodeLength: 3.27
});
</script>

<style lang="less" scoped>
// é¢œè‰²å˜é‡
@primary-color: #4a6cf7;
@secondary-color: #6e45e2;
@accent-color: #42b983;
@light-bg: #f8f9ff;
@border-color: #e0e7ff;
@text-color: #2c3e50;
@text-light: #7e8a9a;
@card-shadow: 0 4px 12px rgba(110, 69, 226, 0.08);
@highlight-bg: rgba(74, 108, 247, 0.05);
@tree-node-bg: #e6f0ff;
@leaf-node-bg: #d6f5e3;

// åŸºç¡€æ ·å¼
.huffman-container {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
  color: @text-color;
  background-color: white;
  line-height: 1.6;
}

.header-section {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem;
  background: linear-gradient(135deg, @light-bg, transparent);
  border-radius: 16px;

  .title {
    font-size: 2.75rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, @primary-color, @secondary-color);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .subtitle {
    font-size: 1.3rem;
    color: @text-light;
    margin-bottom: 2rem;
    font-weight: 400;
  }
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  flex-wrap: wrap;
  max-width: 800px;
  margin: 0 auto;

  .stat-card {
    background: white;
    padding: 1.5rem 1rem;
    border-radius: 12px;
    box-shadow: @card-shadow;
    min-width: 140px;
    transition: transform 0.3s ease;

    &:hover {
      transform: translateY(-5px);
    }

    .stat-icon {
      font-size: 2.5rem;
      margin-bottom: 0.75rem;
    }

    .stat-value {
      font-size: 1.4rem;
      font-weight: 700;
      color: @primary-color;
      margin-bottom: 0.25rem;
    }

    .stat-label {
      color: @text-light;
      font-size: 0.95rem;
    }
  }
}

.content-section {
  margin-bottom: 3rem;
  background: @light-bg;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: @card-shadow;

  .section-title {
    font-size: 1.8rem;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 1.75rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid @primary-color;
    color: darken(@primary-color, 10%);

    &::before {
      margin-right: 10px;
    }
  }
}

.concept-card {
  display: flex;
  gap: 2rem;
  align-items: flex-start;

  .concept-text {
    flex: 1;

    p {
      font-size: 1.1rem;
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }
  }

  .concept-visual {
    flex: 0 0 300px;
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);

    .visual-title {
      font-weight: 600;
      margin-bottom: 1rem;
      color: @primary-color;
      text-align: center;
    }
  }
}

.highlight-box {
  background: @highlight-bg;
  border-left: 4px solid @primary-color;
  border-radius: 0 8px 8px 0;
  padding: 1.25rem;
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;

  .highlight-icon {
    font-size: 1.8rem;
    color: @accent-color;
  }

  .highlight-content {
    font-size: 1.05rem;
    font-weight: 500;
  }
}

.coding-example {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;

  .coding-item {
    display: flex;
    align-items: center;
    padding: 0.75rem;
    background: #f0f7ff;
    border-radius: 8px;

    .char {
      font-weight: 700;
      width: 30px;
      text-align: center;
      font-size: 1.2rem;
      color: @primary-color;
    }

    .freq {
      flex: 1;
      font-size: 0.9rem;
      color: @text-light;
    }

    .code {
      font-family: monospace;
      background: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      border: 1px solid @border-color;
    }
  }
}

.principles-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  margin-bottom: 2rem;

  .principle-card {
    flex: 1;
    min-width: 250px;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border-top: 3px solid @primary-color;

    .principle-icon {
      font-size: 1.8rem;
      flex-shrink: 0;
    }

    .principle-content {
      h3 {
        margin-top: 0;
        margin-bottom: 0.5rem;
      }

      p {
        margin: 0;
        color: @text-light;
        font-size: 0.98rem;
      }
    }
  }
}

.huffman-tree {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
  overflow: auto;

  .tree-node {
    text-align: center;
    position: relative;
    margin: 0 auto;

    .node-value {
      display: inline-block;
      background: @tree-node-bg;
      padding: 0.5rem 1rem;
      border-radius: 30px;
      font-weight: 700;
      color: @primary-color;
      border: 2px solid @primary-color;
      margin-bottom: 3rem;
      position: relative;
      z-index: 2;
    }

    .branches {
      display: flex;
      justify-content: center;
      position: relative;

      &::before {
        content: '';
        position: absolute;
        top: -2rem;
        left: 50%;
        transform: translateX(-50%);
        height: 2rem;
        width: 2px;
        background: @border-color;
      }

      .branch {
        position: relative;
        padding-top: 3rem;

        &::before {
          content: '';
          position: absolute;
          top: 0;
          width: 50%;
          height: 2px;
          background: @border-color;
        }

        &.left {
          margin-right: 3rem;

          &::before {
            right: 0;
          }

          &::after {
            content: '0';
            position: absolute;
            top: -1.5rem;
            right: 1rem;
            color: @primary-color;
            font-weight: 700;
          }
        }

        &.right {
          margin-left: 3rem;

          &::before {
            left: 0;
          }

          &::after {
            content: '1';
            position: absolute;
            top: -1.5rem;
            left: 1rem;
            color: @primary-color;
            font-weight: 700;
          }
        }
      }
    }
  }

  .leaf {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background: @leaf-node-bg;
    border-radius: 8px;
    border: 2px solid @accent-color;
    margin-top: 1rem;

    .char {
      font-size: 1.5rem;
      font-weight: 700;
      color: darken(@accent-color, 20%);
    }

    .freq {
      font-size: 0.9rem;
      color: @text-light;
    }

    .code {
      font-family: monospace;
      font-weight: 700;
      color: @primary-color;
      margin-top: 0.5rem;
    }
  }

  .tree-legend {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid @border-color;

    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.95rem;

      .branch-indicator {
        display: inline-block;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        text-align: center;
        line-height: 24px;
        font-weight: 700;

        &.left {
          background: rgba(@primary-color, 0.1);
          color: @primary-color;
        }

        &.right {
          background: rgba(@accent-color, 0.1);
          color: @accent-color;
        }
      }

      .node-sample {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: @tree-node-bg;
        border: 2px solid @primary-color;
      }

      .leaf-sample {
        width: 24px;
        height: 24px;
        border-radius: 8px;
        background: @leaf-node-bg;
        border: 2px solid @accent-color;
      }
    }
  }
}

.pros-cons {
  display: flex;
  gap: 2rem;

  .pros, .cons {
    flex: 1;
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);

    h3 {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid @border-color;
    }

    ul {
      padding-left: 1.5rem;

      li {
        margin-bottom: 0.75rem;
        line-height: 1.5;
      }
    }
  }

  .pros {
    border-top: 3px solid @accent-color;

    h3 {
      color: darken(@accent-color, 15%);
    }
  }

  .cons {
    border-top: 3px solid #ff6b6b;

    h3 {
      color: #ff6b6b;

      .icon {
        color: #ff6b6b;
      }
    }
  }
}

.applications-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;

  .app-card {
    background: white;
    padding: 1.75rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    text-align: center;
    transition: all 0.3s ease;
    border-top: 3px solid @primary-color;

    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
    }

    .app-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    h3 {
      margin-top: 0;
      margin-bottom: 0.75rem;
      color: @text-color;
    }

    p {
      margin: 0;
      color: @text-light;
      font-size: 0.98rem;
    }
  }
}

.example-container {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);

  .original-text {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid @border-color;

    .text-content {
      font-family: monospace;
      font-size: 1.4rem;
      background: #f8f9ff;
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
      text-align: center;
    }

    .text-stats {
      display: flex;
      justify-content: center;
      gap: 2rem;
      font-size: 1.1rem;

      strong {
        color: @primary-color;
      }
    }
  }

  .frequency-table {
    margin-bottom: 2rem;

    .table {
      display: table;
      width: 100%;
      border-collapse: collapse;

      .table-row {
        display: table-row;

        &.header {
          font-weight: 700;
          background: @light-bg;

          > div {
            border-bottom: 2px solid @border-color;
          }
        }

        > div {
          display: table-cell;
          padding: 0.75rem;
          border-bottom: 1px solid @border-color;
          text-align: center;

          &:first-child {
            font-weight: 700;
            text-align: left;
          }
        }

        &:nth-child(odd) {
          background: @light-bg;
        }
      }
    }
  }

  .compression-result {
    background: @highlight-bg;
    border-radius: 12px;
    padding: 1.5rem;

    .result-content {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1rem;

      .result-item {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem;
        background: white;
        border-radius: 8px;
        font-weight: 500;

        div:last-child {
          font-weight: 700;
          color: @primary-color;
        }
      }
    }
  }
}

.implementation {
  display: flex;
  gap: 2rem;

  .code-snippet {
    flex: 1;
    background: #2c3e50;
    border-radius: 12px;
    overflow: hidden;

    pre {
      margin: 0;

      code {
        display: block;
        padding: 1.5rem;
        color: #f8f8f2;
        font-family: 'Fira Code', monospace;
        font-size: 0.95rem;
        line-height: 1.6;

        .comment {
          color: #6272a4;
        }
        .keyword {
          color: #ff79c6;
        }
        .function {
          color: #50fa7b;
        }
        .string {
          color: #f1fa8c;
        }
        .number {
          color: #bd93f9;
        }
      }
    }
  }

  .implementation-steps {
    flex: 0 0 300px;
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);

    h3 {
      padding-bottom: 0.5rem;
      border-bottom: 1px solid @border-color;
      margin-top: 0;
    }

    ol {
      padding-left: 1.5rem;

      li {
        margin-bottom: 0.75rem;
        line-height: 1.5;
      }
    }
  }
}

.summary-section {
  background: linear-gradient(135deg, #e6f7ff, #f0f9ff);

  .summary-content {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;

    .key-point {
      display: flex;
      gap: 1rem;
      align-items: flex-start;
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);

      .point-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .point-text {
        strong {
          color: @primary-color;
        }
      }
    }
  }

  .quote-box {
    background: white;
    border-left: 4px solid @accent-color;
    border-radius: 0 12px 12px 0;
    padding: 1.5rem;
    display: flex;
    gap: 1.25rem;

    .quote-icon {
      font-size: 2rem;
      color: @accent-color;
      flex-shrink: 0;
    }

    .quote-content {
      font-style: italic;
      font-size: 1.1rem;
      line-height: 1.6;

      .quote-author {
        margin-top: 1rem;
        font-weight: 500;
        text-align: right;
        color: @text-light;
      }
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .huffman-container {
    padding: 1rem;
  }

  .title {
    font-size: 2.25rem !important;
  }

  .subtitle {
    font-size: 1.1rem !important;
  }

  .header-stats {
    gap: 1rem;

    .stat-card {
      flex: 1;
      min-width: 120px;
    }
  }

  .content-section {
    padding: 1.5rem;
  }

  .concept-card {
    flex-direction: column;
  }

  .principles-container {
    .principle-card {
      min-width: 100%;
    }
  }

  .pros-cons {
    flex-direction: column;
  }

  .implementation {
    flex-direction: column;
  }

  .summary-content {
    grid-template-columns: 1fr !important;
  }
}
</style>
