<template>
  <div class="lz77-container">
    <header class="header">
      <h1 class="title">LZ77å‹ç¼©ç®—æ³•è¯¦è§£</h1>
      <p class="subtitle">æ— æŸæ•°æ®å‹ç¼©çš„ç»å…¸æ»‘åŠ¨çª—å£ç®—æ³•</p>
      <div class="decoration">
        <div class="loop"></div>
        <div class="loop"></div>
        <div class="loop"></div>
      </div>
    </header>

    <div class="content">
      <div class="overview">
        <div class="algorithm-card">
          <div class="algorithm-info">
            <h2>LZ77ç®—æ³•</h2>
            <p>ç”±Abraham Lempelå’ŒJacob Ziväº1977å¹´æå‡º</p>
            <div class="stats">
              <div class="stat">
                <div class="value">æ»‘åŠ¨çª—å£</div>
                <div class="label">æ ¸å¿ƒæœºåˆ¶</div>
              </div>
              <div class="stat">
                <div class="value">æ— æŸå‹ç¼©</div>
                <div class="label">å‹ç¼©ç±»å‹</div>
              </div>
              <div class="stat">
                <div class="value">å¹¿æ³›ä½¿ç”¨</div>
                <div class="label">åº”ç”¨èŒƒå›´</div>
              </div>
            </div>
          </div>
          <div class="algorithm-visual">
            <div class="compression-ratio">
              <div class="ratio-bar">
                <div class="original">åŸå§‹æ•°æ®: 100%</div>
                <div class="compressed" :style="{ width: compressedWidth }">å‹ç¼©æ•°æ®: {{ compressionRatio }}%</div>
              </div>
              <div class="ratio-value">å‹ç¼©ç‡: {{ compressionRatio }}%</div>
            </div>
          </div>
        </div>
      </div>

      <div class="grid-layout">
        <section class="card concept-card">
          <h2 class="section-title">ç®—æ³•æ¦‚å¿µ</h2>
          <div class="definition">
            <p>LZ77æ˜¯ä¸€ç§åŸºäºå­—å…¸çš„æ— æŸæ•°æ®å‹ç¼©ç®—æ³•ï¼Œé€šè¿‡ä½¿ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶ï¼Œç”¨<strong>é•¿åº¦-è·ç¦»å¯¹</strong>ä»£æ›¿é‡å¤å‡ºç°çš„æ•°æ®åºåˆ—ã€‚</p>
          </div>

          <div class="core-idea">
            <h3>æ ¸å¿ƒæ€æƒ³</h3>
            <p>åœ¨å·²å¤„ç†çš„æ•°æ®ä¸­æŸ¥æ‰¾å½“å‰å¾…å‹ç¼©æ•°æ®çš„æœ€é•¿åŒ¹é…ï¼Œå¹¶ç”¨(è·ç¦», é•¿åº¦)ä¸‰å…ƒç»„è¡¨ç¤ºé‡å¤åºåˆ—ã€‚</p>
          </div>

          <div class="components">
            <h3>å…³é”®ç»„æˆéƒ¨åˆ†</h3>
            <div class="component">
              <div class="icon">ğŸ”</div>
              <div>
                <h4>æ»‘åŠ¨çª—å£</h4>
                <p>åŒ…å«ä¸¤éƒ¨åˆ†ï¼šæŸ¥æ‰¾ç¼“å†²åŒº(å·²å¤„ç†æ•°æ®)å’Œå‰å‘ç¼“å†²åŒº(å¾…å¤„ç†æ•°æ®)</p>
              </div>
            </div>
            <div class="component">
              <div class="icon">ğŸ“</div>
              <div>
                <h4>ä¸‰å…ƒç»„(è·ç¦», é•¿åº¦, ä¸‹ä¸€ä¸ªå­—ç¬¦)</h4>
                <p>è·ç¦»ï¼šåŒ¹é…åºåˆ—åœ¨æŸ¥æ‰¾ç¼“å†²åŒºä¸­çš„èµ·å§‹ä½ç½®</p>
                <p>é•¿åº¦ï¼šåŒ¹é…åºåˆ—çš„é•¿åº¦</p>
                <p>ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼šåŒ¹é…åçš„ç¬¬ä¸€ä¸ªä¸åŒ¹é…å­—ç¬¦</p>
              </div>
            </div>
          </div>
        </section>

        <section class="card working-card">
          <h2 class="section-title">å·¥ä½œåŸç†</h2>

          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>åˆå§‹åŒ–æ»‘åŠ¨çª—å£</h3>
                <p>è®¾ç½®æŸ¥æ‰¾ç¼“å†²åŒºå’Œå‰å‘ç¼“å†²åŒºçš„å¤§å°</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>æŸ¥æ‰¾æœ€é•¿åŒ¹é…</h3>
                <p>åœ¨å‰å‘ç¼“å†²åŒºä¸­æŸ¥æ‰¾æŸ¥æ‰¾ç¼“å†²åŒºä¸­æœ€é•¿çš„åŒ¹é…åºåˆ—</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>è¾“å‡ºä¸‰å…ƒç»„</h3>
                <p>è¾“å‡º(è·ç¦», é•¿åº¦, ä¸‹ä¸€ä¸ªå­—ç¬¦)ä¸‰å…ƒç»„</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3>æ»‘åŠ¨çª—å£</h3>
                <p>å°†çª—å£å‘å‰æ»‘åŠ¨(é•¿åº¦ + 1)ä¸ªå­—ç¬¦</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h3>é‡å¤è¿‡ç¨‹</h3>
                <p>é‡å¤æ­¥éª¤2-4ç›´åˆ°æ‰€æœ‰æ•°æ®å¤„ç†å®Œæˆ</p>
              </div>
            </div>
          </div>

          <div class="visualization">
            <h3>æ»‘åŠ¨çª—å£å¯è§†åŒ–</h3>
            <div class="sliding-window">
              <div class="search-buffer">
                <div class="label">æŸ¥æ‰¾ç¼“å†²åŒº</div>
                <div class="content">A B B C A B</div>
              </div>
              <div class="look-ahead-buffer">
                <div class="label">å‰å‘ç¼“å†²åŒº</div>
                <div class="content">B C A B B A</div>
              </div>
            </div>
            <div class="match-info">
              æœ€é•¿åŒ¹é…: "B C A B" (è·ç¦»=3, é•¿åº¦=4) â†’ ä¸‹ä¸€ä¸ªå­—ç¬¦: 'B'
            </div>
          </div>
        </section>
      </div>

      <section class="card implementation-card">
        <h2 class="section-title">ç®—æ³•å®ç°</h2>

        <div class="code-section">
          <div class="code-block">
            <h3>å‹ç¼©å‡½æ•°å®ç°</h3>
            <pre><code>function compressLZ77(input: string, windowSize = 2048) {
  const compressed: { distance: number; length: number; char: string }[] = [];
  let position = 0;

  while (position < input.length) {
    // åˆå§‹åŒ–æœ€ä½³åŒ¹é…
    let bestMatch = { distance: 0, length: 0 };

    // è®¡ç®—æŸ¥æ‰¾ç¼“å†²åŒºè¾¹ç•Œ
    const searchStart = Math.max(0, position - windowSize);
    const searchEnd = position;

    // åœ¨å‰å‘ç¼“å†²åŒºä¸­æŸ¥æ‰¾æœ€é•¿åŒ¹é…
    for (let i = searchStart; i < searchEnd; i++) {
      let matchLength = 0;

      // è®¡ç®—æœ€å¤§å¯èƒ½åŒ¹é…é•¿åº¦
      const maxLength = Math.min(
        input.length - position,
        windowSize - (position - i)
      );

      // è®¡ç®—åŒ¹é…é•¿åº¦
      while (matchLength < maxLength &&
            input[i + matchLength] === input[position + matchLength]) {
        matchLength++;
      }

      // æ›´æ–°æœ€ä½³åŒ¹é…
      if (matchLength > bestMatch.length) {
        bestMatch = {
          distance: position - i,
          length: matchLength
        };
      }
    }

    // è·å–ä¸‹ä¸€ä¸ªå­—ç¬¦
    const nextChar = position + bestMatch.length < input.length
      ? input[position + bestMatch.length]
      : '';

    // æ·»åŠ ä¸‰å…ƒç»„åˆ°å‹ç¼©ç»“æœ
    compressed.push({
      distance: bestMatch.distance,
      length: bestMatch.length,
      char: nextChar
    });

    // ç§»åŠ¨ä½ç½®æŒ‡é’ˆ
    position += bestMatch.length + 1;
  }

  return compressed;
}</code></pre>
          </div>

          <div class="code-block">
            <h3>è§£å‹å‡½æ•°å®ç°</h3>
            <pre><code>function decompressLZ77(compressed: {
  distance: number;
  length: number;
  char: string
}[]) {
  let output = '';

  for (const token of compressed) {
    if (token.length > 0) {
      // ä»è¾“å‡ºä¸­å¤åˆ¶åŒ¹é…åºåˆ—
      const start = output.length - token.distance;
      for (let i = 0; i < token.length; i++) {
        output += output[start + i];
      }
    }

    // æ·»åŠ ä¸‹ä¸€ä¸ªå­—ç¬¦
    output += token.char;
  }

  return output;
}</code></pre>
          </div>
        </div>

        <div class="usage-example">
          <h3>ä½¿ç”¨ç¤ºä¾‹</h3>
          <pre><code>// åŸå§‹æ•°æ®
const input = "ABBCABCABBAABCA";

// å‹ç¼©æ•°æ®
const compressed = compressLZ77(input);
console.log(compressed);
// è¾“å‡º: [
//   { distance: 0, length: 0, char: 'A' },
//   { distance: 0, length: 0, char: 'B' },
//   { distance: 1, length: 1, char: 'C' },
//   { distance: 3, length: 3, char: 'A' },
//   { distance: 2, length: 1, char: 'B' },
//   { distance: 5, length: 4, char: 'A' }
// ]

// è§£å‹æ•°æ®
const decompressed = decompressLZ77(compressed);
console.log(decompressed === input); // true</code></pre>
        </div>
      </section>

      <div class="grid-layout">
        <section class="card features-card">
          <h2 class="section-title">ç‰¹ç‚¹ä¸ä¼˜åŠ¿</h2>

          <div class="features">
            <div class="feature">
              <div class="icon">ğŸ“¦</div>
              <div>
                <h3>æ— æŸå‹ç¼©</h3>
                <p>è§£å‹åæ•°æ®ä¸åŸå§‹æ•°æ®å®Œå…¨ä¸€è‡´</p>
              </div>
            </div>
            <div class="feature">
              <div class="icon">âš¡</div>
              <div>
                <h3>é«˜æ•ˆå¤„ç†é‡å¤æ•°æ®</h3>
                <p>å¯¹é‡å¤æ¨¡å¼æœ‰æé«˜çš„å‹ç¼©æ•ˆç‡</p>
              </div>
            </div>
            <div class="feature">
              <div class="icon">ğŸ”„</div>
              <div>
                <h3>æµå¼å¤„ç†</h3>
                <p>é€‚åˆå®æ—¶æ•°æ®å‹ç¼©å¤„ç†</p>
              </div>
            </div>
            <div class="feature">
              <div class="icon">ğŸ§ </div>
              <div>
                <h3>ç®€å•å®ç°</h3>
                <p>ç®—æ³•åŸç†ç®€å•ï¼Œæ˜“äºå®ç°</p>
              </div>
            </div>
          </div>

          <div class="comparison">
            <h3>å‹ç¼©æ•ˆç‡æ¯”è¾ƒ</h3>
            <table>
              <thead>
                <tr>
                  <th>æ•°æ®ç±»å‹</th>
                  <th>åŸå§‹å¤§å°</th>
                  <th>LZ77å‹ç¼©å</th>
                  <th>å‹ç¼©ç‡</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>é‡å¤æ–‡æœ¬</td>
                  <td>10 KB</td>
                  <td>0.5 KB</td>
                  <td>95%</td>
                </tr>
                <tr>
                  <td>è‹±æ–‡æ–‡æœ¬</td>
                  <td>10 KB</td>
                  <td>4 KB</td>
                  <td>60%</td>
                </tr>
                <tr>
                  <td>äºŒè¿›åˆ¶æ•°æ®</td>
                  <td>10 KB</td>
                  <td>6 KB</td>
                  <td>40%</td>
                </tr>
                <tr>
                  <td>éšæœºæ•°æ®</td>
                  <td>10 KB</td>
                  <td>10 KB</td>
                  <td>0%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section class="card applications-card">
          <h2 class="section-title">åº”ç”¨åœºæ™¯</h2>

          <div class="applications">
            <div class="application">
              <div class="app-icon">ğŸ—œï¸</div>
              <div>
                <h3>æ–‡ä»¶å‹ç¼©</h3>
                <p>ZIP, GZIP, PNGç­‰æ ¼å¼çš„åŸºç¡€ç®—æ³•</p>
              </div>
            </div>
            <div class="application">
              <div class="app-icon">ğŸŒ</div>
              <div>
                <h3>ç½‘ç»œä¼ è¾“</h3>
                <p>HTTPå‹ç¼©ï¼Œå‡å°‘æ•°æ®ä¼ è¾“é‡</p>
              </div>
            </div>
            <div class="application">
              <div class="app-icon">ğŸ’¾</div>
              <div>
                <h3>å­˜å‚¨ç³»ç»Ÿ</h3>
                <p>æ•°æ®åº“å‹ç¼©ï¼Œæ–‡ä»¶ç³»ç»Ÿå‹ç¼©</p>
              </div>
            </div>
            <div class="application">
              <div class="app-icon">ğŸ®</div>
              <div>
                <h3>æ¸¸æˆå¼€å‘</h3>
                <p>æ¸¸æˆèµ„æºå‹ç¼©ï¼Œå‡å°‘åŠ è½½æ—¶é—´</p>
              </div>
            </div>
            <div class="application">
              <div class="app-icon">ğŸ“±</div>
              <div>
                <h3>ç§»åŠ¨åº”ç”¨</h3>
                <p>å‡å°‘åº”ç”¨å¤§å°ï¼Œä¼˜åŒ–å­˜å‚¨</p>
              </div>
            </div>
            <div class="application">
              <div class="app-icon">ğŸ”</div>
              <div>
                <h3>åµŒå…¥å¼ç³»ç»Ÿ</h3>
                <p>èµ„æºå—é™ç¯å¢ƒä¸­çš„æ•°æ®å‹ç¼©</p>
              </div>
            </div>
          </div>

          <div class="evolution">
            <h3>ç®—æ³•æ¼”è¿›</h3>
            <div class="timeline">
              <div class="timeline-item">
                <div class="year">1977</div>
                <div class="event">LZ77ç®—æ³•æå‡º</div>
              </div>
              <div class="timeline-item">
                <div class="year">1984</div>
                <div class="event">LZWç®—æ³•æ”¹è¿›</div>
              </div>
              <div class="timeline-item">
                <div class="year">1992</div>
                <div class="event">DEFLATEç®—æ³• (ZIP)</div>
              </div>
              <div class="timeline-item">
                <div class="year">1996</div>
                <div class="event">PNGå›¾åƒæ ¼å¼é‡‡ç”¨</div>
              </div>
              <div class="timeline-item">
                <div class="year">2000s</div>
                <div class="event">LZMAç­‰ç°ä»£å˜ä½“</div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <section class="card variations-card">
        <h2 class="section-title">LZ77å˜ä½“ä¸æ”¹è¿›</h2>

        <div class="variations">
          <div class="variation">
            <h3>LZSS (Lempel-Ziv-Storer-Szymanski)</h3>
            <p>æ”¹è¿›ï¼šæ·»åŠ æ ‡è®°ä½åŒºåˆ†å­—é¢é‡å’ŒæŒ‡é’ˆ</p>
            <p>ä¼˜åŠ¿ï¼šæ›´å¥½çš„å‹ç¼©ç‡ï¼Œæ›´ç®€å•çš„å®ç°</p>
          </div>

          <div class="variation">
            <h3>LZH (Lempel-Ziv-Huffman)</h3>
            <p>æ”¹è¿›ï¼šä½¿ç”¨Huffmanç¼–ç å‹ç¼©æŒ‡é’ˆ</p>
            <p>ä¼˜åŠ¿ï¼šè¿›ä¸€æ­¥æé«˜å‹ç¼©ç‡</p>
          </div>

          <div class="variation">
            <h3>DEFLATE (ZIP/GZIP)</h3>
            <p>æ”¹è¿›ï¼šLZ77 + Huffmanç¼–ç </p>
            <p>ä¼˜åŠ¿ï¼šå¹¿æ³›ä½¿ç”¨çš„æ ‡å‡†å‹ç¼©æ ¼å¼</p>
          </div>
        </div>

        <div class="limitations">
          <h3>å±€é™æ€§</h3>
          <ul>
            <li>çª—å£å¤§å°é™åˆ¶åŒ¹é…è·ç¦»</li>
            <li>å¯¹éé‡å¤æ•°æ®å‹ç¼©ç‡ä½</li>
            <li>å‹ç¼©é€Ÿåº¦è¾ƒæ…¢ï¼ˆéœ€æŸ¥æ‰¾åŒ¹é…ï¼‰</li>
            <li>éœ€è¦å­˜å‚¨å­—å…¸ï¼ˆå‹ç¼©æ•°æ®ç»“æ„ï¼‰</li>
          </ul>
        </div>
      </section>
    </div>

    <footer class="footer">
      <p>LZ77ç®—æ³•è¯¦è§£ Â© 2023 | æ•°æ®å‹ç¼©æ ¸å¿ƒæŠ€æœ¯</p>
      <div class="links">
        <a href="#">æ•°æ®å‹ç¼©</a> â€¢
        <a href="#">ä¿¡æ¯è®º</a> â€¢
        <a href="#">ç®—æ³•è®¾è®¡</a>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';

// ç”¨äºæ¼”ç¤ºçš„å‹ç¼©ç‡
const compressionRatio = ref(35);
const compressedWidth = computed(() => `${compressionRatio.value}%`);
</script>

<style lang="less" scoped>

// é¢œè‰²å®šä¹‰
@primary-color: #4361ee;
@secondary-color: #3f37c9;
@accent-color: #4cc9f0;
@background-light: #f8f9fa;
@card-bg: #ffffff;
@text-dark: #212529;
@text-light: #6c757d;
@border-color: #e9ecef;
@success-color: #2ec4b6;
@warning-color: #ff9f1c;
@error-color: #e71d36;
@compression-color: #4ecdc4;

// åŸºç¡€æ ·å¼
.lz77-container {
  font-family: 'Inter', sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem 3rem;
  background-color: @background-light;
  color: @text-dark;
  line-height: 1.6;

  .header {
    text-align: center;
    padding: 4rem 2rem 3rem;
    position: relative;
    overflow: hidden;
    margin-bottom: 2rem;

    .title {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, @primary-color, @secondary-color);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
      z-index: 2;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .subtitle {
      font-size: 1.3rem;
      color: @text-light;
      max-width: 700px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }

    .decoration {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      opacity: 0.05;

      .loop {
        position: absolute;
        border: 2px dashed @primary-color;
        border-radius: 50%;
        animation: float 15s infinite linear;

        &:nth-child(1) {
          width: 300px;
          height: 300px;
          top: 20%;
          left: 10%;
        }

        &:nth-child(2) {
          width: 200px;
          height: 200px;
          top: 50%;
          right: 15%;
          animation-duration: 12s;
          animation-direction: reverse;
        }

        &:nth-child(3) {
          width: 150px;
          height: 150px;
          bottom: 20%;
          left: 40%;
          animation-duration: 18s;
        }
      }
    }
  }

  .content {
    display: flex;
    flex-direction: column;
    gap: 1.8rem;
  }

  .overview {
    .algorithm-card {
      display: flex;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
      border: 1px solid @border-color;

      .algorithm-info {
        flex: 1;
        padding: 2rem;
        background: linear-gradient(135deg, fade(@primary-color, 5%), white);
        border-right: 1px solid @border-color;

        h2 {
          font-size: 1.8rem;
          margin-top: 0;
          color: @primary-color;
        }

        p {
          color: @text-light;
          margin-bottom: 1.5rem;
        }

        .stats {
          display: flex;
          gap: 1rem;

          .stat {
            flex: 1;
            text-align: center;
            padding: 1rem;
            background: fade(@background-light, 50%);
            border-radius: 8px;

            .value {
              font-weight: 600;
              font-size: 1.1rem;
              margin-bottom: 0.3rem;
            }

            .label {
              font-size: 0.9rem;
              color: @text-light;
            }
          }
        }
      }

      .algorithm-visual {
        flex: 1;
        padding: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, fade(@accent-color, 5%), white);

        .compression-ratio {
          width: 100%;
          max-width: 400px;

          .ratio-bar {
            height: 40px;
            background: fade(@border-color, 30%);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            margin-bottom: 1rem;

            .original {
              position: absolute;
              top: 0;
              left: 0;
              height: 100%;
              width: 100%;
              display: flex;
              align-items: center;
              padding-left: 1rem;
              font-weight: 500;
              color: @text-light;
            }

            .compressed {
              height: 100%;
              background: linear-gradient(90deg, @compression-color, darken(@compression-color, 10%));
              display: flex;
              align-items: center;
              justify-content: flex-end;
              padding-right: 1rem;
              color: white;
              font-weight: 500;
              transition: width 1s ease;
            }
          }

          .ratio-value {
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            color: @compression-color;
          }
        }
      }
    }
  }

  .card {
    background-color: @card-bg;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.04);
    border: 1px solid fade(@border-color, 50%);

    &.concept-card {
      border-top: 4px solid @primary-color;
    }

    &.working-card {
      border-top: 4px solid @success-color;
    }

    &.implementation-card {
      border-top: 4px solid @accent-color;
    }

    &.features-card {
      border-top: 4px solid @warning-color;
    }

    &.applications-card {
      border-top: 4px solid #9d4edd;
    }

    &.variations-card {
      border-top: 4px solid #e71d36;
    }
  }

  .section-title {
    font-size: 1.6rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
    padding-bottom: 0.8rem;
    border-bottom: 2px solid fade(@border-color, 50%);
    position: relative;

    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 80px;
      height: 2px;
      background: linear-gradient(90deg, @primary-color, @secondary-color);
      border-radius: 2px;
    }
  }

  .grid-layout {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 1.8rem;
  }

  .definition {
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }

  .core-idea {
    background: fade(@background-light, 50%);
    padding: 1.2rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    border-left: 3px solid @primary-color;

    p {
      margin: 0;
      font-weight: 500;
    }
  }

  .components {
    .component {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.2rem;
      align-items: flex-start;

      .icon {
        font-size: 1.8rem;
        min-width: 40px;
        text-align: center;
        margin-top: 0.3rem;
      }

      h4 {
        margin: 0 0 0.5rem;
        font-size: 1.1rem;
        color: @primary-color;
      }

      p {
        margin: 0.2rem 0;
        font-size: 0.95rem;
      }
    }
  }

  .steps {
    .step {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.2rem;
      padding-bottom: 1.2rem;
      border-bottom: 1px solid fade(@border-color, 30%);

      &:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
      }

      .step-number {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: @primary-color;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        flex-shrink: 0;
      }

      .step-content {
        h3 {
          margin: 0 0 0.3rem;
          font-size: 1.1rem;
        }

        p {
          margin: 0;
          color: @text-light;
          font-size: 0.95rem;
        }
      }
    }
  }

  .visualization {
    margin-top: 1.5rem;
    background: fade(@background-light, 50%);
    padding: 1.5rem;
    border-radius: 8px;

    h3 {
      margin-top: 0;
      font-size: 1.1rem;
      color: @text-light;
      margin-bottom: 1rem;
    }

    .sliding-window {
      display: flex;
      border: 2px solid @border-color;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 1rem;

      > div {
        padding: 1rem;
      }

      .search-buffer {
        flex: 1;
        background: fade(@primary-color, 10%);
        border-right: 2px solid @border-color;

        .label {
          font-size: 0.9rem;
          color: @text-light;
          margin-bottom: 0.5rem;
        }

        .content {
          font-family: 'Fira Code', monospace;
          font-weight: 500;
        }
      }

      .look-ahead-buffer {
        flex: 1;
        background: fade(@success-color, 10%);

        .label {
          font-size: 0.9rem;
          color: @text-light;
          margin-bottom: 0.5rem;
        }

        .content {
          font-family: 'Fira Code', monospace;
          font-weight: 500;
        }
      }
    }

    .match-info {
      background: @success-color;
      color: white;
      padding: 0.8rem;
      border-radius: 6px;
      font-family: 'Fira Code', monospace;
      font-size: 0.95rem;
    }
  }

  .implementation-card {
    .code-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 1.8rem;
      margin-bottom: 1.5rem;
    }

    .code-block {
      background: #f8f9ff;
      border-radius: 8px;
      overflow: hidden;

      h3 {
        background: linear-gradient(135deg, @primary-color, @secondary-color);
        color: white;
        margin: 0;
        padding: 0.8rem 1.2rem;
        font-size: 1rem;
        font-weight: 500;
      }

      pre {
        margin: 0;
        padding: 1.2rem;
        overflow: auto;

        code {
          font-family: 'Fira Code', 'Courier New', monospace;
          font-size: 0.95rem;
          line-height: 1.5;
          color: #3a3a3a;
          display: block;

          &::selection {
            background: fade(@primary-color, 30%);
          }
        }
      }
    }

    .usage-example {
      background: #f8f9ff;
      border-radius: 8px;
      overflow: hidden;

      h3 {
        background: linear-gradient(135deg, @accent-color, darken(@accent-color, 15%));
        color: white;
        margin: 0;
        padding: 0.8rem 1.2rem;
        font-size: 1rem;
        font-weight: 500;
      }

      pre {
        margin: 0;
        padding: 1.2rem;
        overflow: auto;

        code {
          font-family: 'Fira Code', 'Courier New', monospace;
          font-size: 0.95rem;
          line-height: 1.5;
          color: #3a3a3a;
          display: block;
        }
      }
    }
  }

  .features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;

    .feature {
      display: flex;
      gap: 0.8rem;
      padding: 1rem;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      align-items: center;

      .icon {
        font-size: 1.5rem;
        min-width: 40px;
        text-align: center;
      }

      h3 {
        margin: 0 0 0.3rem;
        font-size: 1rem;
      }

      p {
        margin: 0;
        font-size: 0.9rem;
        color: @text-light;
      }
    }
  }

  .comparison {
    h3 {
      margin-top: 0;
      font-size: 1.1rem;
      color: @text-light;
      margin-bottom: 1rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;

      th, td {
        padding: 0.8rem;
        text-align: left;
        border-bottom: 1px solid @border-color;
      }

      th {
        background: fade(@primary-color, 8%);
        color: @primary-color;
        font-weight: 600;
      }

      tr:last-child td {
        border-bottom: none;
      }
    }
  }

  .applications {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;

    .application {
      display: flex;
      gap: 0.8rem;
      padding: 1rem;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      align-items: center;

      .app-icon {
        font-size: 1.5rem;
        min-width: 40px;
        text-align: center;
      }

      h3 {
        margin: 0 0 0.3rem;
        font-size: 1rem;
      }

      p {
        margin: 0;
        font-size: 0.9rem;
        color: @text-light;
      }
    }
  }

  .evolution {
    h3 {
      margin-top: 0;
      font-size: 1.1rem;
      color: @text-light;
      margin-bottom: 1rem;
    }

    .timeline {
      display: flex;
      flex-direction: column;
      gap: 1rem;

      .timeline-item {
        display: flex;
        gap: 1rem;
        align-items: center;

        .year {
          width: 60px;
          font-weight: 600;
          color: @primary-color;
        }

        .event {
          flex: 1;
          padding: 0.5rem 1rem;
          background: white;
          border-radius: 6px;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
      }
    }
  }

  .variations {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;

    .variation {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      border: 1px solid @border-color;

      h3 {
        margin-top: 0;
        color: @primary-color;
        font-size: 1.2rem;
        margin-bottom: 0.8rem;
      }

      p {
        margin: 0.5rem 0;
        font-size: 0.95rem;
      }
    }
  }

  .limitations {
    background: fade(@error-color, 5%);
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 3px solid @error-color;

    h3 {
      margin-top: 0;
      color: @error-color;
    }

    ul {
      padding-left: 1.5rem;

      li {
        margin-bottom: 0.5rem;
      }
    }
  }

  .footer {
    text-align: center;
    margin-top: 3rem;
    padding-top: 2rem;
    color: @text-light;
    font-size: 0.9rem;
    border-top: 1px solid @border-color;

    .links {
      margin-top: 0.5rem;

      a {
        color: @primary-color;
        text-decoration: none;

        &:hover {
          text-decoration: underline;
        }
      }
    }
  }

  // åŠ¨ç”»
  @keyframes float {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .lz77-container {
    padding: 0 1rem 2rem;

    .header {
      padding: 2.5rem 1rem 2rem;

      .title {
        font-size: 2rem;
      }

      .subtitle {
        font-size: 1.1rem;
      }
    }

    .overview {
      .algorithm-card {
        flex-direction: column;
      }
    }

    .grid-layout {
      grid-template-columns: 1fr;
    }

    .implementation-card .code-section {
      grid-template-columns: 1fr;
    }

    .card {
      padding: 1.5rem;
    }
  }
}
</style>
