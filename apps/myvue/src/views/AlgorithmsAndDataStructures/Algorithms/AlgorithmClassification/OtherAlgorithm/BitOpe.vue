<template>
  <div class="sampling-hash-container">
    <header class="header">
      <h1>æŠ½æ ·å“ˆå¸Œï¼ˆSampling Hashï¼‰æŠ€æœ¯åŸºç¡€ä»‹ç»</h1>
      <p class="subtitle">é«˜æ•ˆçš„å¤§è§„æ¨¡æ•°æ®å»é‡ä¸ç›¸ä¼¼æ€§æ£€æµ‹è§£å†³æ–¹æ¡ˆ</p>
    </header>

    <div class="overview-section">
      <div class="overview-card">
        <div class="icon-wrapper">
          <svg class="icon" viewBox="0 0 24 24">
            <path
              d="M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7Z" />
          </svg>
        </div>
        <h2>ä»€ä¹ˆæ˜¯æŠ½æ ·å“ˆå¸Œï¼Ÿ</h2>
        <p>æŠ½æ ·å“ˆå¸Œæ˜¯ä¸€ç§é€šè¿‡æå–æ•°æ®æ ·æœ¬ç”Ÿæˆå”¯ä¸€æ ‡è¯†çš„æŠ€æœ¯ï¼Œå®ƒç»“åˆäº†<strong>æ•°æ®æŠ½æ ·</strong>å’Œ<strong>å“ˆå¸Œç®—æ³•</strong>çš„ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ã€‚</p>
      </div>

      <div class="overview-card">
        <div class="icon-wrapper">
          <svg class="icon" viewBox="0 0 24 24">
            <path
              d="M9,7V17H11V13H14V11H11V9H15V7H9M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3Z" />
          </svg>
        </div>
        <h2>æ ¸å¿ƒæ€æƒ³</h2>
        <p>ä»å¤§æ•°æ®é›†ä¸­æå–ä»£è¡¨æ€§æ ·æœ¬ï¼Œå¯¹è¿™äº›æ ·æœ¬åº”ç”¨å“ˆå¸Œå‡½æ•°ç”Ÿæˆå›ºå®šé•¿åº¦çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä»£æ›¿å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œå“ˆå¸Œè®¡ç®—ã€‚</p>
      </div>
    </div>

    <div class="content-section">
      <div class="section">
        <h2 class="section-title">
          <span class="icon-badge">ğŸ“Š</span>
          æŠ½æ ·å“ˆå¸Œçš„æ ¸å¿ƒä½œç”¨
        </h2>

        <div class="features-grid">
          <div class="feature-card">
            <h3>æå‡è®¡ç®—æ•ˆç‡</h3>
            <p>é¿å…å¤„ç†æ•´ä¸ªæ•°æ®é›†ï¼Œè®¡ç®—å¤æ‚åº¦ä» O(n) é™ä½åˆ° O(k)ï¼Œkä¸ºæ ·æœ¬å¤§å°</p>
          </div>

          <div class="feature-card">
            <h3>èŠ‚çœå­˜å‚¨ç©ºé—´</h3>
            <p>å“ˆå¸Œå€¼å¤§å°å›ºå®šï¼ˆé€šå¸¸128-256ä½ï¼‰ï¼Œè¿œå°äºåŸå§‹æ•°æ®</p>
          </div>

          <div class="feature-card">
            <h3>æ”¯æŒç›¸ä¼¼æ€§æ¯”è¾ƒ</h3>
            <p>é€šè¿‡æ¯”è¾ƒå“ˆå¸Œå€¼å¯ä»¥åˆ¤æ–­æ•°æ®ç›¸ä¼¼åº¦ï¼Œé€‚ç”¨äºæ¨¡ç³ŠåŒ¹é…</p>
          </div>

          <div class="feature-card">
            <h3>é™ä½ç½‘ç»œä¼ è¾“</h3>
            <p>ä¼ è¾“å°å°ºå¯¸å“ˆå¸Œå€¼ä»£æ›¿å¤§æ–‡ä»¶ï¼ŒèŠ‚çœå¸¦å®½èµ„æº</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">
          <span class="icon-badge">ğŸ”</span>
          å…³é”®æŠ€æœ¯åŸç†
        </h2>

        <div class="principles">
          <div class="principle">
            <h3>1. æ•°æ®æŠ½æ ·ç­–ç•¥</h3>
            <p>é€‰æ‹©æœ€èƒ½ä»£è¡¨æ•´ä½“æ•°æ®çš„æ ·æœ¬ï¼š</p>
            <ul>
              <li><strong>å›ºå®šé—´éš”æŠ½æ ·</strong>ï¼šæ¯Nå­—èŠ‚/å…ƒç´ å–ä¸€ä¸ªæ ·æœ¬</li>
              <li><strong>å…³é”®ç‰¹å¾æŠ½æ ·</strong>ï¼šæå–æ–‡ä»¶å¤´ã€ç‰¹å®šåç§»é‡æ•°æ®</li>
              <li><strong>å†…å®¹æ„ŸçŸ¥æŠ½æ ·</strong>ï¼šåŸºäºå†…å®¹ç‰¹å¾é€‰æ‹©æ ·æœ¬ç‚¹</li>
            </ul>
          </div>

          <div class="principle">
            <h3>2. å“ˆå¸Œç®—æ³•é€‰æ‹©</h3>
            <p>æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°ï¼š</p>
            <div class="algorithms">
              <div class="algorithm">
                <div class="algorithm-name">MD5</div>
                <div class="algorithm-desc">128ä½ï¼Œè®¡ç®—å¿«ï¼Œå®‰å…¨æ€§ä½</div>
              </div>
              <div class="algorithm">
                <div class="algorithm-name">SHA-256</div>
                <div class="algorithm-desc">256ä½ï¼Œå®‰å…¨æ€§é«˜ï¼Œè®¡ç®—è¾ƒæ…¢</div>
              </div>
              <div class="algorithm">
                <div class="algorithm-name">MurmurHash</div>
                <div class="algorithm-desc">é«˜æ€§èƒ½ï¼ŒéåŠ å¯†åœºæ™¯é¦–é€‰</div>
              </div>
              <div class="algorithm">
                <div class="algorithm-name">SimHash</div>
                <div class="algorithm-desc">ä¸“ä¸ºç›¸ä¼¼æ€§æ£€æµ‹è®¾è®¡</div>
              </div>
            </div>
          </div>

          <div class="principle">
            <h3>3. å“ˆå¸Œå€¼æ¯”è¾ƒ</h3>
            <p>é€šè¿‡æ±‰æ˜è·ç¦»æˆ–ç›¸ä¼¼åº¦ç®—æ³•æ¯”è¾ƒå“ˆå¸Œå€¼ï¼š</p>
            <div class="similarity">
              <div class="similarity-example">
                <div>å“ˆå¸ŒA: <code>10110101</code></div>
                <div>å“ˆå¸ŒB: <code>10011101</code></div>
                <div class="distance">æ±‰æ˜è·ç¦»: 2</div>
              </div>
              <div class="similarity-formula">
                ç›¸ä¼¼åº¦ = 1 - (æ±‰æ˜è·ç¦» / æ€»ä½æ•°)
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">
          <span class="icon-badge">ğŸš€</span>
          å®é™…åº”ç”¨åœºæ™¯
        </h2>

        <div class="scenarios">
          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ”„</div>
              <h3>æ–‡ä»¶å»é‡ç³»ç»Ÿ</h3>
            </div>
            <p>è¯†åˆ«é‡å¤æ–‡ä»¶ï¼Œå³ä½¿æ–‡ä»¶åä¸åŒæˆ–å°éƒ¨åˆ†å†…å®¹ä¿®æ”¹</p>
            <ul>
              <li>äº‘å­˜å‚¨æœåŠ¡èŠ‚çœç©ºé—´</li>
              <li>æ•°æ®å¤‡ä»½ç³»ç»Ÿæ¶ˆé™¤å†—ä½™</li>
              <li>å†…å®¹ç®¡ç†ç³»ç»Ÿé¿å…é‡å¤ä¸Šä¼ </li>
            </ul>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ”—</div>
              <h3>P2Pæ–‡ä»¶å…±äº«</h3>
            </div>
            <p>å¿«é€ŸæŸ¥æ‰¾ç½‘ç»œä¸­çš„ç›¸ä¼¼æ–‡ä»¶èµ„æº</p>
            <ul>
              <li>BitTorrentåè®®çš„æ–‡ä»¶åˆ†å—éªŒè¯</li>
              <li>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å†…å®¹å¯»å€</li>
              <li>è·¨èŠ‚ç‚¹æ•°æ®åŒæ­¥</li>
            </ul>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ›¡ï¸</div>
              <h3>å®‰å…¨ä¸å®¡è®¡</h3>
            </div>
            <p>æ£€æµ‹æ–‡ä»¶ç¯¡æ”¹å’Œæ¶æ„è½¯ä»¶å˜ç§</p>
            <ul>
              <li>å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ(IDS)</li>
              <li>æ•°å­—å–è¯åˆ†æ</li>
              <li>ç—…æ¯’ç‰¹å¾è¯†åˆ«</li>
            </ul>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ“±</div>
              <h3>å†…å®¹æ¨èç³»ç»Ÿ</h3>
            </div>
            <p>åŸºäºå†…å®¹ç›¸ä¼¼åº¦çš„ä¸ªæ€§åŒ–æ¨è</p>
            <ul>
              <li>è§†é¢‘/éŸ³ä¹å†…å®¹æ¨è</li>
              <li>æ–‡æ¡£/æ–°é—»ç›¸ä¼¼æ¨è</li>
              <li>å›¾ç‰‡/è§†è§‰å†…å®¹åŒ¹é…</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">
          <span class="icon-badge">ğŸ’»</span>
          å®ç°ç¤ºä¾‹
        </h2>

        <div class="implementation">
          <div class="code-block">
            <h3>æŠ½æ ·å“ˆå¸Œç”Ÿæˆç®—æ³•ï¼ˆTypeScriptï¼‰</h3>
            <pre><code>import { createHash } from 'crypto';

// ç”Ÿæˆæ–‡ä»¶çš„æŠ½æ ·å“ˆå¸Œ
async function generateSamplingHash(file: File, sampleSize = 1024): Promise&lt;string&gt; {
  // 1. è·å–æ–‡ä»¶æ ·æœ¬æ•°æ®
  const samples = await getFileSamples(file, sampleSize);

  // 2. åˆ›å»ºå“ˆå¸Œå®ä¾‹
  const hash = createHash('sha256');

  // 3. å¤„ç†æ ·æœ¬æ•°æ®
  samples.forEach(sample => {
    hash.update(sample);
  });

  // 4. ç”Ÿæˆå“ˆå¸Œæ‘˜è¦
  return hash.digest('hex');
}

// ä»æ–‡ä»¶ä¸­è·å–æ ·æœ¬æ•°æ®
async function getFileSamples(file: File, sampleSize: number): Promise&lt;Uint8Array[]&gt; {
  const samples: Uint8Array[] = [];
  const totalSamples = 10; // æŠ½æ ·ç‚¹æ•°é‡
  const fileSize = file.size;

  // è¯»å–æ–‡ä»¶åˆ‡ç‰‡ä½œä¸ºæ ·æœ¬
  for (let i = 0; i < totalSamples; i++) {
    const start = Math.floor((i / totalSamples) * fileSize);
    const end = Math.min(start + sampleSize, fileSize);

    const slice = file.slice(start, end);
    const arrayBuffer = await slice.arrayBuffer();
    samples.push(new Uint8Array(arrayBuffer));
  }

  // æ·»åŠ æ–‡ä»¶å¤´å°¾æ ·æœ¬
  const header = file.slice(0, Math.min(1024, fileSize));
  const headerBuffer = await header.arrayBuffer();
  samples.push(new Uint8Array(headerBuffer));

  const footer = file.slice(Math.max(0, fileSize - 1024), fileSize);
  const footerBuffer = await footer.arrayBuffer();
  samples.push(new Uint8Array(footerBuffer));

  return samples;
}

// æ¯”è¾ƒä¸¤ä¸ªæŠ½æ ·å“ˆå¸Œçš„ç›¸ä¼¼åº¦
function compareSamplingHashes(hash1: string, hash2: string): number {
  // å°†åå…­è¿›åˆ¶å“ˆå¸Œè½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²
  const bin1 = hexToBin(hash1);
  const bin2 = hexToBin(hash2);

  // è®¡ç®—æ±‰æ˜è·ç¦»
  let distance = 0;
  for (let i = 0; i < bin1.length; i++) {
    if (bin1[i] !== bin2[i]) distance++;
  }

  // è®¡ç®—ç›¸ä¼¼åº¦ (0-1)
  return 1 - (distance / bin1.length);
}

// åå…­è¿›åˆ¶è½¬äºŒè¿›åˆ¶
function hexToBin(hex: string): string {
  return Array.from(hex).map(h =>
    parseInt(h, 16).toString(2).padStart(4, '0')
  ).join('');
}</code></pre>
          </div>

          <div class="comparison">
            <h3>æŠ½æ ·å“ˆå¸Œ vs å®Œæ•´å“ˆå¸Œ</h3>
            <table>
              <thead>
                <tr>
                  <th>å¯¹æ¯”ç»´åº¦</th>
                  <th>æŠ½æ ·å“ˆå¸Œ</th>
                  <th>å®Œæ•´å“ˆå¸Œ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>è®¡ç®—æ—¶é—´</td>
                  <td class="better">æå¿« (O(k))</td>
                  <td>æ…¢ (O(n))</td>
                </tr>
                <tr>
                  <td>å­˜å‚¨éœ€æ±‚</td>
                  <td class="better">å° (å›ºå®šå¤§å°)</td>
                  <td>å° (å›ºå®šå¤§å°)</td>
                </tr>
                <tr>
                  <td>å†…å­˜å ç”¨</td>
                  <td class="better">ä½ (ä»…æ ·æœ¬)</td>
                  <td>é«˜ (æ•´ä¸ªæ–‡ä»¶)</td>
                </tr>
                <tr>
                  <td>ç²¾ç¡®åº¦</td>
                  <td>è¾ƒé«˜ (å¯é…ç½®)</td>
                  <td class="better">å®Œç¾</td>
                </tr>
                <tr>
                  <td>ç¯¡æ”¹æ£€æµ‹</td>
                  <td>å±€éƒ¨ä¿®æ”¹å¯èƒ½é—æ¼</td>
                  <td class="better">ä»»ä½•ä¿®æ”¹éƒ½å¯æ£€æµ‹</td>
                </tr>
                <tr>
                  <td>ç›¸ä¼¼æ€§æ£€æµ‹</td>
                  <td class="better">æ”¯æŒ</td>
                  <td>ä¸æ”¯æŒ</td>
                </tr>
                <tr>
                  <td>é€‚ç”¨åœºæ™¯</td>
                  <td>å¤§è§„æ¨¡æ•°æ®ã€ç›¸ä¼¼æ€§åŒ¹é…</td>
                  <td>å®Œæ•´æ€§æ ¡éªŒã€å®‰å…¨éªŒè¯</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="best-practices">
      <h2 class="section-title">
        <span class="icon-badge">âœ…</span>
        æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹
      </h2>

      <div class="practices-grid">
        <div class="practice-card">
          <h3>æŠ½æ ·ç­–ç•¥é€‰æ‹©</h3>
          <ul>
            <li>æ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©æŠ½æ ·æ–¹æ³•ï¼ˆå›ºå®šé—´éš”/å…³é”®ç‰¹å¾ï¼‰</li>
            <li>å¹³è¡¡æ ·æœ¬å¤§å°ä¸è®¡ç®—å¼€é”€</li>
            <li>å¯¹ç»“æ„åŒ–æ•°æ®ä½¿ç”¨åˆ†å±‚æŠ½æ ·</li>
          </ul>
        </div>

        <div class="practice-card">
          <h3>å“ˆå¸Œç®—æ³•é€‰æ‹©</h3>
          <ul>
            <li>å®‰å…¨åœºæ™¯ä½¿ç”¨SHA-256</li>
            <li>é«˜æ€§èƒ½éœ€æ±‚ä½¿ç”¨MurmurHash</li>
            <li>ç›¸ä¼¼æ€§æ£€æµ‹ä½¿ç”¨SimHash</li>
          </ul>
        </div>

        <div class="practice-card">
          <h3>é¿å…å“ˆå¸Œå†²çª</h3>
          <ul>
            <li>å¢åŠ å“ˆå¸Œé•¿åº¦ï¼ˆ256ä½ä»¥ä¸Šï¼‰</li>
            <li>ç»„åˆå¤šä¸ªå“ˆå¸Œç®—æ³•</li>
            <li>é‡è¦åœºæ™¯æ·»åŠ é¢å¤–æ ¡éªŒ</li>
          </ul>
        </div>

        <div class="practice-card">
          <h3>æ€§èƒ½ä¼˜åŒ–</h3>
          <ul>
            <li>ä½¿ç”¨Web Workersåå°è®¡ç®—</li>
            <li>å¢é‡è®¡ç®—å“ˆå¸Œå€¼</li>
            <li>ç¼“å­˜å¸¸ç”¨æ–‡ä»¶å“ˆå¸Œ</li>
          </ul>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>æŠ½æ ·å“ˆå¸ŒæŠ€æœ¯æ˜¯å¤§è§„æ¨¡æ•°æ®å¤„ç†çš„å…³é”®æŠ€æœ¯ï¼Œåœ¨æ•ˆç‡ä¸å‡†ç¡®æ€§ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œé€‚ç”¨äºç°ä»£æ•°æ®å¯†é›†å‹åº”ç”¨åœºæ™¯</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// è¿™é‡Œå¯ä»¥æ·»åŠ ç»„ä»¶é€»è¾‘
const sampleData = ref({
  fileSize: "1GB",
  sampleSize: "10KB",
  hashTime: "0.5s",
  fullHashTime: "15s"
});
</script>

<style scoped lang="less">
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

// é¢œè‰²å˜é‡
@primary-color: #3498db;
@secondary-color: #2c3e50;
@accent-color: #2ecc71;
@light-bg: #f8f9fa;
@card-bg: #ffffff;
@border-color: #e1e4e8;
@text-color: #333333;
@light-text: #6c757d;
@code-bg: #f5f7fa;
@success-color: #27ae60;
@warning-color: #f39c12;

// åŸºç¡€æ ·å¼
.sampling-hash-container {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  color: @text-color;
  background-color: @light-bg;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 2.5rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid @border-color;

  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: @secondary-color;
    margin-bottom: 0.5rem;
  }

  .subtitle {
    font-size: 1.2rem;
    color: @light-text;
    font-weight: 400;
  }
}

.overview-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.overview-card {
  background: @card-bg;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }

  h2 {
    font-size: 1.6rem;
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    color: @secondary-color;
  }

  p {
    font-size: 1.1rem;
    line-height: 1.7;
  }
}

.icon-wrapper {
  background: lighten(@primary-color, 40%);
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.5rem;
}

.icon {
  width: 48px;
  height: 48px;
  fill: @primary-color;
}

.section {
  background: @card-bg;
  border-radius: 12px;
  padding: 2.5rem;
  margin-bottom: 2.5rem;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
}

.section-title {
  font-size: 1.8rem;
  color: @secondary-color;
  margin-top: 0;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid @border-color;
  display: flex;
  align-items: center;

  .icon-badge {
    background: lighten(@primary-color, 40%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    font-size: 1.3rem;
  }
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.feature-card {
  background: lighten(@primary-color, 45%);
  border-radius: 10px;
  padding: 1.5rem;
  border-left: 4px solid @primary-color;

  h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 1rem;
    color: darken(@primary-color, 10%);
  }

  p {
    margin: 0;
  }
}

.principles {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.principle {
  h3 {
    font-size: 1.4rem;
    color: @secondary-color;
    margin-top: 0;
    margin-bottom: 1rem;
    padding-left: 1.8rem;
    position: relative;

    &::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0.7rem;
      width: 1.2rem;
      height: 0.3rem;
      background: @primary-color;
      border-radius: 3px;
    }
  }

  ul {
    padding-left: 1.8rem;

    li {
      margin-bottom: 0.8rem;
      line-height: 1.6;
    }
  }
}

.algorithms {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.algorithm {
  background: lighten(@accent-color, 50%);
  border-radius: 8px;
  padding: 1rem;
  border: 1px solid lighten(@accent-color, 30%);

  .algorithm-name {
    font-weight: 600;
    color: darken(@accent-color, 20%);
    margin-bottom: 0.5rem;
  }
}

.similarity {
  background: lighten(@warning-color, 45%);
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
}

.similarity-example {
  font-family: 'Fira Code', monospace;
  margin-bottom: 1rem;

  .distance {
    font-weight: 600;
    color: @warning-color;
    margin-top: 0.5rem;
  }
}

.similarity-formula {
  background: @light-bg;
  border-radius: 6px;
  padding: 1rem;
  font-family: 'Fira Code', monospace;
  text-align: center;
  font-weight: 500;
}

.scenarios {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.scenario-card {
  background: @light-bg;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);

  .scenario-header {
    background: lighten(@primary-color, 35%);
    padding: 1.2rem;
    display: flex;
    align-items: center;

    .scenario-icon {
      font-size: 1.5rem;
      margin-right: 1rem;
    }

    h3 {
      margin: 0;
      color: @secondary-color;
    }
  }

  p {
    padding: 1.2rem 1.2rem 0.5rem;
    font-weight: 500;
    margin: 0;
  }

  ul {
    padding: 0.5rem 1.2rem 1.2rem 2.5rem;

    li {
      margin-bottom: 0.5rem;
    }
  }
}

.implementation {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;

  @media (min-width: 992px) {
    grid-template-columns: 1.5fr 1fr;
  }
}

.code-block {
  background: @code-bg;
  border-radius: 8px;
  overflow: hidden;

  h3 {
    background: darken(@code-bg, 10%);
    margin: 0;
    padding: 1rem 1.5rem;
    font-size: 1.2rem;
  }

  pre {
    margin: 0;
    padding: 1.5rem;
    overflow-x: auto;

    code {
      color: #2c3e50;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
  }
}

.comparison {
  h3 {
    font-size: 1.4rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
    color: @secondary-color;
  }
}

table {
  width: 100%;
  border-collapse: collapse;
  background: @card-bg;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);

  th,
  td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid @border-color;
  }

  th {
    background: lighten(@primary-color, 40%);
    font-weight: 600;
  }

  tbody tr:last-child td {
    border-bottom: none;
  }

  .better {
    color: @success-color;
    font-weight: 500;
  }
}

.best-practices {
  background: @card-bg;
  border-radius: 12px;
  padding: 2.5rem;
  margin-bottom: 2.5rem;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
}

.practices-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.practice-card {
  background: @light-bg;
  border-radius: 8px;
  padding: 1.5rem;
  border-left: 3px solid @accent-color;

  h3 {
    font-size: 1.3rem;
    margin-top: 0;
    margin-bottom: 1rem;
    color: darken(@accent-color, 15%);
  }

  ul {
    padding-left: 1.2rem;
    margin-bottom: 0;

    li {
      margin-bottom: 0.6rem;
    }
  }
}

.footer {
  text-align: center;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid @border-color;
  color: @light-text;
  font-style: italic;
}

@media (max-width: 768px) {
  .sampling-hash-container {
    padding: 1rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .overview-section {
    grid-template-columns: 1fr;
  }

  .section {
    padding: 1.5rem;
  }
}
</style>
