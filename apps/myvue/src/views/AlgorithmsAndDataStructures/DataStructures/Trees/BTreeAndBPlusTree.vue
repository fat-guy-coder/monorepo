<template>
  <div class="btree-container">
    <header class="page-header">
      <h1>Bæ ‘ä¸B+æ ‘è¯¦è§£</h1>
      <p class="subtitle">æ•°æ®åº“ç´¢å¼•çš„æ ¸å¿ƒæ•°æ®ç»“æ„</p>
    </header>

    <div class="intro-section">
      <p>Bæ ‘å’ŒB+æ ‘æ˜¯ä¸“é—¨ä¸ºç£ç›˜å­˜å‚¨è®¾è®¡çš„å¤šè·¯å¹³è¡¡æœç´¢æ ‘ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿä¸­ã€‚å®ƒä»¬é€šè¿‡å‡å°‘ç£ç›˜I/Oæ¬¡æ•°æ¥ä¼˜åŒ–å¤§è§„æ¨¡æ•°æ®è®¿é—®æ€§èƒ½ã€‚</p>
    </div>

    <div class="navigation-tabs">
      <button
        v-for="tab in tabs"
        :key="tab.id"
        :class="['nav-tab', { active: activeTab === tab.id }]"
        @click="activeTab = tab.id"
      >
        <span class="tab-icon">{{ tab.icon }}</span>
        {{ tab.label }}
      </button>
    </div>

    <div class="content-area">
      <!-- Bæ ‘å†…å®¹ -->
      <section v-if="activeTab === 'btree'" class="tree-section">
        <div class="section-header">
          <h2>Bæ ‘ (B-Tree)</h2>
          <div class="complexity-tag">
            <span>é«˜åº¦: O(logâ‚˜n)</span>
            <span>æ“ä½œ: O(log n)</span>
          </div>
        </div>

        <div class="content-grid">
          <div class="description-content">
            <div class="concept-box">
              <h3>åŸºæœ¬æ¦‚å¿µ</h3>
              <p>Bæ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æœç´¢æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥åŒ…å«å¤šä¸ªé”®å’Œå¤šä¸ªå­èŠ‚ç‚¹æŒ‡é’ˆã€‚Bæ ‘ä¿æŒæ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚çº§ï¼Œç¡®ä¿ç¨³å®šçš„æŸ¥è¯¢æ€§èƒ½ã€‚</p>
            </div>

            <div class="features-list">
              <h3>ç»“æ„ç‰¹ç‚¹</h3>
              <div class="features-grid">
                <div class="feature-item">
                  <div class="feature-icon">ğŸŒ³</div>
                  <h4>å¤šè·¯å¹³è¡¡</h4>
                  <p>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰mä¸ªå­èŠ‚ç‚¹ï¼Œä¿æŒæ ‘çš„å¹³è¡¡</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸ“Š</div>
                  <h4>èŠ‚ç‚¹å¡«å……</h4>
                  <p>é™¤æ ¹èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å°‘æœ‰âŒˆm/2âŒ‰-1ä¸ªé”®</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸ”„</div>
                  <h4>è‡ªå¹³è¡¡</h4>
                  <p>é€šè¿‡åˆ†è£‚å’Œåˆå¹¶æ“ä½œè‡ªåŠ¨ç»´æŒå¹³è¡¡</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸ’¾</div>
                  <h4>ç£ç›˜ä¼˜åŒ–</h4>
                  <p>èŠ‚ç‚¹å¤§å°é€šå¸¸è®¾ç½®ä¸ºç£ç›˜é¡µå¤§å°</p>
                </div>
              </div>
            </div>

            <div class="visualization">
              <h3>Bæ ‘ç»“æ„ç¤ºä¾‹</h3>
              <div class="tree-diagram">
                <div class="tree-level level-0">
                  <div class="node btree-node">
                    <div class="node-type">å†…éƒ¨èŠ‚ç‚¹</div>
                    <div class="keys">
                      <span class="key">30</span>
                      <span class="key">60</span>
                    </div>
                  </div>
                </div>
                <div class="tree-level level-1">
                  <div class="node btree-node">
                    <div class="keys">
                      <span class="key">10</span>
                      <span class="key">20</span>
                    </div>
                  </div>
                  <div class="node btree-node">
                    <div class="keys">
                      <span class="key">40</span>
                      <span class="key">50</span>
                    </div>
                  </div>
                  <div class="node btree-node">
                    <div class="keys">
                      <span class="key">70</span>
                      <span class="key">80</span>
                      <span class="key">90</span>
                    </div>
                  </div>
                </div>
                <div class="tree-level level-2">
                  <div class="node leaf-node">
                    <div class="node-type">å¶å­èŠ‚ç‚¹</div>
                    <div class="keys">
                      <span class="key">5</span>
                      <span class="key">8</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">15</span>
                      <span class="key">18</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">25</span>
                      <span class="key">28</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">35</span>
                      <span class="key">38</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">45</span>
                      <span class="key">48</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">55</span>
                      <span class="key">58</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">65</span>
                      <span class="key">68</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">75</span>
                      <span class="key">78</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">85</span>
                      <span class="key">88</span>
                    </div>
                  </div>
                  <div class="node leaf-node">
                    <div class="keys">
                      <span class="key">95</span>
                      <span class="key">98</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="technical-content">
            <div class="pros-cons">
              <div class="pros">
                <h3>Bæ ‘ä¼˜ç‚¹ âœ…</h3>
                <div class="advantage-list">
                  <div class="advantage-item">
                    <h4>é«˜æ•ˆéšæœºè®¿é—®</h4>
                    <p>æ•°æ®å’Œç´¢å¼•å­˜å‚¨åœ¨ä¸€èµ·ï¼Œå•æ¬¡æŸ¥è¯¢å¯èƒ½æ‰¾åˆ°æ•°æ®</p>
                  </div>
                  <div class="advantage-item">
                    <h4>é€‚åˆç‚¹æŸ¥è¯¢</h4>
                    <p>ç­‰å€¼æŸ¥è¯¢æ€§èƒ½ä¼˜ç§€ï¼Œæ·±åº¦å¯æ§</p>
                  </div>
                  <div class="advantage-item">
                    <h4>å¹³è¡¡æ€§å¥½</h4>
                    <p>æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚çº§ï¼ŒæŸ¥è¯¢ç¨³å®š</p>
                  </div>
                </div>
              </div>

              <div class="cons">
                <h3>Bæ ‘ç¼ºç‚¹ âŒ</h3>
                <div class="disadvantage-list">
                  <div class="disadvantage-item">
                    <h4>èŒƒå›´æŸ¥è¯¢æ•ˆç‡ä½</h4>
                    <p>éœ€è¦éå†å¤šä¸ªèŠ‚ç‚¹æ‰èƒ½è·å–èŒƒå›´æ•°æ®</p>
                  </div>
                  <div class="disadvantage-item">
                    <h4>å†…å­˜å ç”¨å¤§</h4>
                    <p>å†…éƒ¨èŠ‚ç‚¹ä¹Ÿå­˜å‚¨æ•°æ®ï¼Œå ç”¨æ›´å¤šç©ºé—´</p>
                  </div>
                  <div class="disadvantage-item">
                    <h4>å®ç°å¤æ‚</h4>
                    <p>åˆ†è£‚å’Œåˆå¹¶æ“ä½œéœ€è¦è€ƒè™‘æ•°æ®ä½ç½®</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="use-cases">
              <h3>ä½¿ç”¨åœºæ™¯</h3>
              <div class="use-case-grid">
                <div class="use-case-item">
                  <h4>æ–‡ä»¶ç³»ç»Ÿ</h4>
                  <p>ext3ã€ReiserFSç­‰æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨Bæ ‘ç®¡ç†å…ƒæ•°æ®</p>
                </div>
                <div class="use-case-item">
                  <h4>æ•°æ®åº“ç´¢å¼•</h4>
                  <p>æŸäº›æ•°æ®åº“ç³»ç»Ÿä½¿ç”¨Bæ ‘ä½œä¸ºä¸»è¦ç´¢å¼•ç»“æ„</p>
                </div>
                <div class="use-case-item">
                  <h4>å†…å­˜æ•°æ®åº“</h4>
                  <p>Redisç­‰å†…å­˜æ•°æ®åº“ä½¿ç”¨Bæ ‘å˜ç§</p>
                </div>
              </div>
            </div>

            <div class="algorithm-code">
              <h3>Bæ ‘æ’å…¥ç®—æ³•</h3>
              <pre><code>function BTreeInsert(tree, key, value) {
  const root = tree.root;

  // å¦‚æœæ ¹èŠ‚ç‚¹å·²æ»¡ï¼Œéœ€è¦åˆ†è£‚
  if (root.keyCount === tree.order - 1) {
    const newRoot = new BTreeNode();
    newRoot.isLeaf = false;
    newRoot.children[0] = root;
    tree.root = newRoot;
    splitChild(newRoot, 0, root);
  }

  insertNonFull(tree.root, key, value);
}

function insertNonFull(node, key, value) {
  if (node.isLeaf) {
    // åœ¨å¶å­èŠ‚ç‚¹ä¸­æ’å…¥
    let i = node.keyCount - 1;
    while (i >= 0 && key < node.keys[i]) {
      node.keys[i + 1] = node.keys[i];
      node.values[i + 1] = node.values[i];
      i--;
    }
    node.keys[i + 1] = key;
    node.values[i + 1] = value;
    node.keyCount++;
  } else {
    // æ‰¾åˆ°åˆé€‚çš„å­èŠ‚ç‚¹
    let i = node.keyCount - 1;
    while (i >= 0 && key < node.keys[i]) {
      i--;
    }
    i++;

    // å¦‚æœå­èŠ‚ç‚¹å·²æ»¡ï¼Œå…ˆåˆ†è£‚
    if (node.children[i].keyCount === tree.order - 1) {
      splitChild(node, i, node.children[i]);
      if (key > node.keys[i]) {
        i++;
      }
    }

    insertNonFull(node.children[i], key, value);
  }
}</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- B+æ ‘å†…å®¹ -->
      <section v-if="activeTab === 'bplustree'" class="tree-section">
        <div class="section-header">
          <h2>B+æ ‘ (B+ Tree)</h2>
          <div class="complexity-tag">
            <span>é«˜åº¦: O(logâ‚˜n)</span>
            <span>èŒƒå›´æŸ¥è¯¢: é«˜æ•ˆ</span>
          </div>
        </div>

        <div class="content-grid">
          <div class="description-content">
            <div class="concept-box">
              <h3>åŸºæœ¬æ¦‚å¿µ</h3>
              <p>B+æ ‘æ˜¯Bæ ‘çš„å˜ç§ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œå†…éƒ¨èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ç”¨äºç´¢å¼•ã€‚å¶å­èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥å½¢æˆæœ‰åºé“¾è¡¨ï¼Œæ”¯æŒé«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢ã€‚</p>
            </div>

            <div class="features-list">
              <h3>ç»“æ„ç‰¹ç‚¹</h3>
              <div class="features-grid">
                <div class="feature-item">
                  <div class="feature-icon">ğŸƒ</div>
                  <h4>æ•°æ®åœ¨å¶å­</h4>
                  <p>æ‰€æœ‰å®é™…æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸ”—</div>
                  <h4>å¶å­é“¾è¡¨</h4>
                  <p>å¶å­èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥æˆæœ‰åºé“¾è¡¨</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸ¯</div>
                  <h4>çº¯ç´¢å¼•èŠ‚ç‚¹</h4>
                  <p>å†…éƒ¨èŠ‚ç‚¹åªåŒ…å«é”®å€¼å’Œå­èŠ‚ç‚¹æŒ‡é’ˆ</p>
                </div>
                <div class="feature-item">
                  <div class="feature-icon">ğŸš€</div>
                  <h4>èŒƒå›´æŸ¥è¯¢ä¼˜åŒ–</h4>
                  <p>é€šè¿‡å¶å­é“¾è¡¨æ”¯æŒé«˜æ•ˆçš„èŒƒå›´æ‰«æ</p>
                </div>
              </div>
            </div>

            <div class="visualization">
              <h3>B+æ ‘ç»“æ„ç¤ºä¾‹</h3>
              <div class="tree-diagram bplus-tree">
                <div class="tree-level level-0">
                  <div class="node internal-node">
                    <div class="node-type">å†…éƒ¨èŠ‚ç‚¹(ç´¢å¼•)</div>
                    <div class="keys">
                      <span class="key">30</span>
                      <span class="key">60</span>
                    </div>
                    <div class="pointers">
                      <span>â†’ å·¦å­æ ‘</span>
                      <span>â†’ ä¸­é—´å­æ ‘</span>
                      <span>â†’ å³å­æ ‘</span>
                    </div>
                  </div>
                </div>
                <div class="tree-level level-1">
                  <div class="node internal-node">
                    <div class="keys">
                      <span class="key">10</span>
                      <span class="key">20</span>
                    </div>
                  </div>
                  <div class="node internal-node">
                    <div class="keys">
                      <span class="key">40</span>
                      <span class="key">50</span>
                    </div>
                  </div>
                  <div class="node internal-node">
                    <div class="keys">
                      <span class="key">70</span>
                      <span class="key">80</span>
                    </div>
                  </div>
                </div>
                <div class="tree-level level-2">
                  <div class="leaf-chain">
                    <div class="node leaf-node">
                      <div class="node-type">å¶å­èŠ‚ç‚¹(æ•°æ®)</div>
                      <div class="keys">
                        <span class="key">5</span>
                        <span class="key">8</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">15</span>
                        <span class="key">18</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">25</span>
                        <span class="key">28</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">35</span>
                        <span class="key">38</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">45</span>
                        <span class="key">48</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">55</span>
                        <span class="key">58</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">65</span>
                        <span class="key">68</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">75</span>
                        <span class="key">78</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">85</span>
                        <span class="key">88</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                    <div class="node leaf-node">
                      <div class="keys">
                        <span class="key">95</span>
                        <span class="key">98</span>
                      </div>
                      <div class="data">Data...</div>
                      <div class="next-pointer">â†’</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="technical-content">
            <div class="pros-cons">
              <div class="pros">
                <h3>B+æ ‘ä¼˜ç‚¹ âœ…</h3>
                <div class="advantage-list">
                  <div class="advantage-item">
                    <h4>é«˜æ•ˆèŒƒå›´æŸ¥è¯¢</h4>
                    <p>å¶å­èŠ‚ç‚¹é“¾è¡¨æ”¯æŒé¡ºåºæ‰«æ</p>
                  </div>
                  <div class="advantage-item">
                    <h4>æ›´é«˜æ‰‡å‡º</h4>
                    <p>å†…éƒ¨èŠ‚ç‚¹ä¸å­˜æ•°æ®ï¼Œå¯ä»¥å®¹çº³æ›´å¤šé”®</p>
                  </div>
                  <div class="advantage-item">
                    <h4>ç¼“å­˜å‹å¥½</h4>
                    <p>å†…éƒ¨èŠ‚ç‚¹å¯ä»¥å®Œå…¨ç¼“å­˜åœ¨å†…å­˜ä¸­</p>
                  </div>
                  <div class="advantage-item">
                    <h4>å…¨è¡¨æ‰«æé«˜æ•ˆ</h4>
                    <p>éå†å¶å­é“¾è¡¨å³å¯æ‰«ææ‰€æœ‰æ•°æ®</p>
                  </div>
                </div>
              </div>

              <div class="cons">
                <h3>B+æ ‘ç¼ºç‚¹ âŒ</h3>
                <div class="disadvantage-list">
                  <div class="disadvantage-item">
                    <h4>ç‚¹æŸ¥è¯¢ç¨æ…¢</h4>
                    <p>å¿…é¡»è®¿é—®å¶å­èŠ‚ç‚¹æ‰èƒ½è·å–æ•°æ®</p>
                  </div>
                  <div class="disadvantage-item">
                    <h4>å®ç°å¤æ‚</h4>
                    <p>éœ€è¦ç»´æŠ¤å¶å­èŠ‚ç‚¹é“¾è¡¨</p>
                  </div>
                  <div class="disadvantage-item">
                    <h4>ç©ºé—´å¼€é”€</h4>
                    <p>éœ€è¦é¢å¤–çš„æŒ‡é’ˆç»´æŠ¤é“¾è¡¨</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="use-cases">
              <h3>ä½¿ç”¨åœºæ™¯</h3>
              <div class="use-case-grid">
                <div class="use-case-item">
                  <h4>æ•°æ®åº“ç´¢å¼•</h4>
                  <p>MySQLã€Oracleç­‰ä¸»æµæ•°æ®åº“ä½¿ç”¨B+æ ‘</p>
                </div>
                <div class="use-case-item">
                  <h4>æ–‡ä»¶ç³»ç»Ÿ</h4>
                  <p>NTFSã€XFSç­‰ç°ä»£æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨B+æ ‘</p>
                </div>
                <div class="use-case-item">
                  <h4>å¤§æ•°æ®å­˜å‚¨</h4>
                  <p>HBaseã€Cassandraç­‰ä½¿ç”¨B+æ ‘å˜ç§</p>
                </div>
              </div>
            </div>

            <div class="algorithm-code">
              <h3>B+æ ‘èŒƒå›´æŸ¥è¯¢</h3>
              <pre><code>function BPlusTreeRangeQuery(tree, startKey, endKey) {
  const results = [];

  // æ‰¾åˆ°èµ·å§‹é”®æ‰€åœ¨çš„å¶å­èŠ‚ç‚¹
  let currentNode = findLeaf(tree.root, startKey);

  while (currentNode !== null) {
    // åœ¨å½“å‰èŠ‚ç‚¹ä¸­æŸ¥æ‰¾èŒƒå›´å†…çš„é”®
    for (let i = 0; i < currentNode.keyCount; i++) {
      const key = currentNode.keys[i];

      // å¦‚æœé”®åœ¨èŒƒå›´å†…ï¼Œæ·»åŠ åˆ°ç»“æœ
      if (key >= startKey && key <= endKey) {
        results.push({
          key: key,
          value: currentNode.values[i]
        });
      }

      // å¦‚æœè¶…è¿‡èŒƒå›´ï¼Œæå‰ç»“æŸ
      if (key > endKey) {
        return results;
      }
    }

    // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹
    currentNode = currentNode.next;
  }

  return results;
}

function findLeaf(node, key) {
  // é€’å½’æŸ¥æ‰¾åŒ…å«æŒ‡å®šé”®çš„å¶å­èŠ‚ç‚¹
  while (!node.isLeaf) {
    let i = 0;
    while (i < node.keyCount && key >= node.keys[i]) {
      i++;
    }
    node = node.children[i];
  }
  return node;
}</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- å¯¹æ¯”å†…å®¹ -->
      <section v-if="activeTab === 'comparison'" class="tree-section">
        <div class="section-header">
          <h2>Bæ ‘ vs B+æ ‘å¯¹æ¯”</h2>
          <div class="section-tag">å…¨é¢åˆ†æ</div>
        </div>

        <div class="comparison-content">
          <div class="comparison-table">
            <div class="comparison-header">
              <div class="aspect">å¯¹æ¯”ç»´åº¦</div>
              <div class="btree-col">Bæ ‘</div>
              <div class="bplus-col">B+æ ‘</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">æ•°æ®å­˜å‚¨ä½ç½®</div>
              <div class="btree-col">å†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®</div>
              <div class="bplus-col">åªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">å¶å­èŠ‚ç‚¹è¿æ¥</div>
              <div class="btree-col">å¶å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰è¿æ¥</div>
              <div class="bplus-col">å¶å­èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥æˆé“¾è¡¨</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">ç­‰å€¼æŸ¥è¯¢æ€§èƒ½</div>
              <div class="btree-col">ä¼˜ç§€ï¼ˆå¯èƒ½æå‰æ‰¾åˆ°æ•°æ®ï¼‰</div>
              <div class="bplus-col">è‰¯å¥½ï¼ˆå¿…é¡»åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼‰</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">èŒƒå›´æŸ¥è¯¢æ€§èƒ½</div>
              <div class="btree-col">è¾ƒå·®ï¼ˆéœ€è¦å›æº¯ï¼‰</div>
              <div class="bplus-col">ä¼˜ç§€ï¼ˆé¡ºåºæ‰«æå¶å­é“¾è¡¨ï¼‰</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">å†…å­˜åˆ©ç”¨ç‡</div>
              <div class="btree-col">è¾ƒä½ï¼ˆå†…éƒ¨èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼‰</div>
              <div class="bplus-col">è¾ƒé«˜ï¼ˆå†…éƒ¨èŠ‚ç‚¹åªå­˜é”®ï¼‰</div>
            </div>

            <div class="comparison-row">
              <div class="aspect">é€‚ç”¨åœºæ™¯</div>
              <div class="btree-col">æ–‡ä»¶ç³»ç»Ÿã€ç‚¹æŸ¥è¯¢ä¸ºä¸»</div>
              <div class="bplus-col">æ•°æ®åº“ã€èŒƒå›´æŸ¥è¯¢ä¸ºä¸»</div>
            </div>
          </div>

          <div class="selection-guide">
            <h3>é€‰æ‹©æŒ‡å—</h3>
            <div class="guide-grid">
              <div class="guide-item">
                <h4>é€‰æ‹©Bæ ‘çš„æƒ…å†µ</h4>
                <ul>
                  <li>ä¸»è¦è¿›è¡Œç‚¹æŸ¥è¯¢ï¼ˆç­‰å€¼æŸ¥è¯¢ï¼‰</li>
                  <li>æ•°æ®é‡ç›¸å¯¹è¾ƒå°</li>
                  <li>å†…å­˜å……è¶³ï¼Œå¯ä»¥ç¼“å­˜æ•´ä¸ªç´¢å¼•</li>
                  <li>æ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®ç®¡ç†</li>
                </ul>
              </div>

              <div class="guide-item">
                <h4>é€‰æ‹©B+æ ‘çš„æƒ…å†µ</h4>
                <ul>
                  <li>éœ€è¦é«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢</li>
                  <li>æ•°æ®é‡éå¸¸å¤§</li>
                  <li>å†…å­˜æœ‰é™ï¼Œéœ€è¦é«˜æ‰‡å‡º</li>
                  <li>æ•°æ®åº“ç´¢å¼•åœºæ™¯</li>
                  <li>éœ€è¦å…¨è¡¨æ‰«æ</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="performance-chart">
            <h3>æ€§èƒ½ç‰¹å¾å¯¹æ¯”</h3>
            <div class="chart-container">
              <div class="chart">
                <div class="chart-title">æŸ¥è¯¢æ€§èƒ½å¯¹æ¯”</div>
                <div class="bars">
                  <div class="bar-group">
                    <div class="bar-label">ç‚¹æŸ¥è¯¢</div>
                    <div class="bar btree-bar" style="width: 90%">Bæ ‘: ä¼˜ç§€</div>
                    <div class="bar bplus-bar" style="width: 85%">B+æ ‘: è‰¯å¥½</div>
                  </div>
                  <div class="bar-group">
                    <div class="bar-label">èŒƒå›´æŸ¥è¯¢</div>
                    <div class="bar btree-bar" style="width: 60%">Bæ ‘: ä¸€èˆ¬</div>
                    <div class="bar bplus-bar" style="width: 95%">B+æ ‘: ä¼˜ç§€</div>
                  </div>
                  <div class="bar-group">
                    <div class="bar-label">å†…å­˜æ•ˆç‡</div>
                    <div class="bar btree-bar" style="width: 70%">Bæ ‘: è‰¯å¥½</div>
                    <div class="bar bplus-bar" style="width: 90%">B+æ ‘: ä¼˜ç§€</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const activeTab = ref('btree');

const tabs = [
  { id: 'btree', label: 'Bæ ‘è¯¦è§£', icon: 'ğŸŒ³' },
  { id: 'bplustree', label: 'B+æ ‘è¯¦è§£', icon: 'ğŸƒ' },
  { id: 'comparison', label: 'å¯¹æ¯”åˆ†æ', icon: 'âš–ï¸' }
];
</script>

<style lang="less" scoped>
.btree-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  color: #2c3e50;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  min-height: 100vh;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;

  h1 {
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(135deg, #2c3e50 0%, #6366f1 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
  }

  .subtitle {
    font-size: 1.3rem;
    color: #64748b;
    font-weight: 400;
  }
}

.intro-section {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: 2rem;
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  margin-bottom: 2.5rem;
  font-size: 1.1rem;
  color: #475569;
  line-height: 1.7;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.navigation-tabs {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-bottom: 2.5rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.nav-tab {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.8rem;
  padding: 1.2rem 1.5rem;
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 600;
  color: #64748b;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: white;
    border-color: #cbd5e1;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  &.active {
    background: white;
    border-color: #6366f1;
    color: #6366f1;
    box-shadow: 0 6px 16px rgba(99, 102, 241, 0.12);
    transform: translateY(-2px);
  }

  .tab-icon {
    font-size: 1.4rem;
  }
}

.tree-section {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  margin-bottom: 2.5rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  overflow: hidden;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem 2rem 1rem;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);

  h2 {
    font-size: 2.2rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0;
  }
}

.complexity-tag {
  display: flex;
  gap: 1rem;

  span {
    background: rgba(255, 255, 255, 0.9);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 500;
    color: #475569;
    border: 1px solid #cbd5e1;
  }
}

.content-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  padding: 2rem;

  @media (max-width: 1024px) {
    grid-template-columns: 1fr;
  }
}

.concept-box {
  background: #f8fafc;
  padding: 1.5rem;
  border-radius: 12px;
  border-left: 4px solid #64748b;
  margin-bottom: 2rem;

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1rem;
  }

  p {
    color: #475569;
    line-height: 1.6;
    margin: 0;
  }
}

.features-list {
  margin-bottom: 2rem;

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1.5rem;
  }
}

.features-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.feature-item {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid #e2e8f0;

  .feature-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #475569;
    margin-bottom: 0.5rem;
  }

  p {
    color: #64748b;
    line-height: 1.5;
    margin: 0;
    font-size: 0.95rem;
  }
}

.visualization {
  margin-top: 2rem;

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1.5rem;
  }
}

.tree-diagram {
  background: #f8fafc;
  padding: 2rem;
  border-radius: 12px;
  border: 1px solid #e2e8f0;

  &.bplus-tree {
    .leaf-chain {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }
  }
}

.tree-level {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 2rem;

  &:last-child {
    margin-bottom: 0;
  }
}

.node {
  padding: 1rem;
  border: 2px solid;
  border-radius: 8px;
  background: white;
  min-width: 120px;
  text-align: center;

  &.btree-node {
    border-color: #3b82f6;
    background: #dbeafe;
  }

  &.internal-node {
    border-color: #f59e0b;
    background: #fef3c7;
  }

  &.leaf-node {
    border-color: #10b981;
    background: #d1fae5;
  }
}

.node-type {
  font-size: 0.8rem;
  font-weight: 600;
  color: #64748b;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
}

.keys {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
  margin-bottom: 0.5rem;
}

.key {
  padding: 0.5rem 0.8rem;
  background: white;
  border: 1px solid #cbd5e1;
  border-radius: 4px;
  font-weight: 600;
  color: #374151;
  font-family: 'Fira Code', monospace;
}

.data {
  font-size: 0.8rem;
  color: #64748b;
  font-style: italic;
}

.next-pointer {
  color: #6366f1;
  font-weight: bold;
  margin-top: 0.5rem;
}

.pointers {
  font-size: 0.8rem;
  color: #64748b;
}

// ä¼˜ç¼ºç‚¹æ ·å¼
.pros-cons {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 2rem;
}

.pros, .cons {
  h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e2e8f0;
  }
}

.pros h3 {
  color: #059669;
}

.cons h3 {
  color: #dc2626;
}

.advantage-list, .disadvantage-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.advantage-item, .disadvantage-item {
  background: #f8fafc;
  padding: 1.2rem;
  border-radius: 8px;
  border-left: 4px solid;

  h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  p {
    color: #64748b;
    line-height: 1.5;
    margin: 0;
    font-size: 0.9rem;
  }
}

.advantage-item {
  border-left-color: #10b981;
}

.disadvantage-item {
  border-left-color: #ef4444;
}

.use-cases {
  margin-bottom: 2rem;

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1.5rem;
  }
}

.use-case-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

.use-case-item {
  background: white;
  padding: 1.2rem;
  border-radius: 8px;
  border-left: 4px solid #6366f1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

  h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.5rem;
  }

  p {
    color: #64748b;
    line-height: 1.5;
    margin: 0;
    font-size: 0.9rem;
  }
}

.algorithm-code {
  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1rem;
  }
}

pre {
  background: #1e293b;
  border-radius: 8px;
  padding: 1.5rem;
  overflow-x: auto;

  code {
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 0.85rem;
    color: #e2e8f0;
    line-height: 1.5;
  }
}

// å¯¹æ¯”é¡µé¢æ ·å¼
.comparison-content {
  padding: 2rem;
}

.comparison-table {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  margin-bottom: 2rem;
}

.comparison-header {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  background: #475569;
  color: white;
  font-weight: 600;

  div {
    padding: 1.5rem;
    text-align: center;
  }
}

.comparison-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  border-bottom: 1px solid #e2e8f0;

  &:last-child {
    border-bottom: none;
  }

  div {
    padding: 1.5rem;
    display: flex;
    align-items: center;
  }

  .aspect {
    font-weight: 600;
    color: #374151;
    background: #f8fafc;
  }

  .btree-col {
    border-right: 1px solid #e2e8f0;
    color: #3b82f6;
  }

  .bplus-col {
    color: #10b981;
  }
}

.selection-guide {
  margin-bottom: 2rem;

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1.5rem;
  }
}

.guide-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.guide-item {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

  h4 {
    font-size: 1.2rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 1rem;
  }

  ul {
    color: #64748b;
    padding-left: 1.2rem;

    li {
      margin-bottom: 0.5rem;
      line-height: 1.5;
    }
  }
}

.performance-chart {
  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 1.5rem;
  }
}

.chart-container {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.chart {
  .chart-title {
    font-weight: 600;
    color: #475569;
    margin-bottom: 1.5rem;
    text-align: center;
  }
}

.bar-group {
  margin-bottom: 1.5rem;

  &:last-child {
    margin-bottom: 0;
  }
}

.bar-label {
  font-weight: 500;
  color: #64748b;
  margin-bottom: 0.5rem;
}

.bar {
  height: 30px;
  margin-bottom: 0.5rem;
  border-radius: 6px;
  display: flex;
  align-items: center;
  padding: 0 1rem;
  color: white;
  font-weight: 500;
  font-size: 0.9rem;
  transition: width 0.5s ease;

  &.btree-bar {
    background: linear-gradient(135deg, #3b82f6, #6366f1);
  }

  &.bplus-bar {
    background: linear-gradient(135deg, #10b981, #059669);
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .btree-container {
    padding: 1rem;
  }

  .page-header h1 {
    font-size: 2.2rem;
  }

  .content-grid {
    padding: 1.5rem;
    gap: 1.5rem;
  }

  .section-header {
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }

  .features-grid {
    grid-template-columns: 1fr;
  }

  .tree-level {
    flex-direction: column;
    align-items: center;
  }

  .comparison-header,
  .comparison-row {
    grid-template-columns: 1fr;

    .btree-col {
      border-right: none;
      border-bottom: 1px solid #e2e8f0;
    }
  }

  .guide-grid {
    grid-template-columns: 1fr;
  }
}
</style>
