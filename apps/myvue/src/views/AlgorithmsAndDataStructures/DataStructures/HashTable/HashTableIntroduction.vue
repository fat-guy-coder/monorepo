<template>
  <div class="hash-table-container">
    <header class="header">
      <h1>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰åŸºæœ¬ä»‹ç»</h1>
      <p class="subtitle">é«˜æ•ˆæŸ¥æ‰¾çš„æ•°æ®ç»“æ„å®ç°åŸç†ä¸åº”ç”¨åœºæ™¯</p>
    </header>

    <div class="content-wrapper">
      <main class="main-content">
        <section class="section">
          <h2>åŸºæœ¬æ¦‚å¿µ</h2>
          <div class="concept-container">
            <div class="concept-card">
              <div class="concept-icon">ğŸ”‘</div>
              <h3>å“ˆå¸Œå‡½æ•°</h3>
              <p>å°†ä»»æ„å¤§å°çš„æ•°æ®æ˜ å°„åˆ°å›ºå®šå¤§å°å€¼çš„å‡½æ•°ï¼Œç”¨äºç¡®å®šæ•°æ®åœ¨è¡¨ä¸­çš„ä½ç½®</p>
            </div>
            <div class="concept-card">
              <div class="concept-icon">ğŸ“¦</div>
              <h3>æ¡¶ï¼ˆBucketï¼‰</h3>
              <p>å“ˆå¸Œè¡¨ä¸­å­˜å‚¨æ•°æ®çš„ä½ç½®ï¼Œæ¯ä¸ªæ¡¶å¯ä»¥å­˜å‚¨ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹</p>
            </div>
            <div class="concept-card">
              <div class="concept-icon">âš¡</div>
              <h3>å†²çªè§£å†³</h3>
              <p>å½“ä¸åŒé”®æ˜ å°„åˆ°åŒä¸€ä½ç½®æ—¶ï¼Œé€šè¿‡é“¾åœ°å€æ³•æˆ–å¼€æ”¾å¯»å€æ³•è§£å†³å†²çª</p>
            </div>
          </div>
        </section>

        <div class="columns-container">
          <section class="section">
            <h2>å“ˆå¸Œè¡¨ç‰¹ç‚¹</h2>
            <ul class="feature-list">
              <li v-for="(feature, index) in features" :key="index" class="feature-item">
                <div class="feature-icon">
                  <span v-html="feature.icon"></span>
                </div>
                <div>
                  <h3>{{ feature.title }}</h3>
                  <p>{{ feature.description }}</p>
                </div>
              </li>
            </ul>
          </section>

          <section class="section">
            <h2>å†²çªè§£å†³ç®—æ³•</h2>
            <div class="algorithm-grid">
              <div v-for="(algo, index) in algorithms" :key="index" class="algorithm-card">
                <h3>{{ algo.name }}</h3>
                <p>{{ algo.description }}</p>
                <div class="algorithm-details">
                  <span class="complexity">æ—¶é—´å¤æ‚åº¦: {{ algo.timeComplexity }}</span>
                  <span class="usage">ä½¿ç”¨ç‡: {{ algo.usage }}</span>
                </div>
              </div>
            </div>
          </section>
        </div>

        <div class="columns-container">
          <section class="section">
            <h2>å“ˆå¸Œè¡¨ä¼˜ç‚¹</h2>
            <ul class="pros-list">
              <li v-for="(pro, index) in pros" :key="index" class="pro-item">
                <div class="pro-icon">âœ…</div>
                <div>
                  <h3>{{ pro.title }}</h3>
                  <p>{{ pro.description }}</p>
                </div>
              </li>
            </ul>
          </section>

          <section class="section">
            <h2>å“ˆå¸Œè¡¨ç¼ºç‚¹</h2>
            <ul class="cons-list">
              <li v-for="(con, index) in cons" :key="index" class="con-item">
                <div class="con-icon">âš ï¸</div>
                <div>
                  <h3>{{ con.title }}</h3>
                  <p>{{ con.description }}</p>
                </div>
              </li>
            </ul>
          </section>
        </div>

        <section class="section">
          <h2>åº”ç”¨åœºæ™¯</h2>
          <div class="applications-container">
            <div v-for="(app, index) in applications" :key="index" class="application-card">
              <div class="app-icon">
                <span v-html="app.icon"></span>
              </div>
              <div>
                <h3>{{ app.title }}</h3>
                <p>{{ app.description }}</p>
              </div>
            </div>
          </div>
        </section>
      </main>

      <aside class="sidebar">
        <div class="complexity-card">
          <h3>æ—¶é—´å¤æ‚åº¦å¯¹æ¯”</h3>
          <table>
            <thead>
              <tr>
                <th>æ“ä½œ</th>
                <th>å¹³å‡æƒ…å†µ</th>
                <th>æœ€åæƒ…å†µ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>æŸ¥æ‰¾</td>
                <td>O(1)</td>
                <td>O(n)</td>
              </tr>
              <tr>
                <td>æ’å…¥</td>
                <td>O(1)</td>
                <td>O(n)</td>
              </tr>
              <tr>
                <td>åˆ é™¤</td>
                <td>O(1)</td>
                <td>O(n)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="hash-functions">
          <h3>å¸¸è§å“ˆå¸Œå‡½æ•°</h3>
          <ul>
            <li v-for="(func, index) in hashFunctions" :key="index">
              <strong>{{ func.name }}:</strong> {{ func.description }}
            </li>
          </ul>
        </div>

        <div class="tips">
          <h3>ä¼˜åŒ–æŠ€å·§</h3>
          <ul>
            <li>é€‰æ‹©è´Ÿè½½å› å­é˜ˆå€¼ï¼ˆé€šå¸¸0.7-0.8ï¼‰</li>
            <li>ä½¿ç”¨è´¨æ•°ä½œä¸ºè¡¨å¤§å°å‡å°‘å†²çª</li>
            <li>é€‰æ‹©é«˜è´¨é‡çš„å“ˆå¸Œå‡½æ•°</li>
            <li>åŠ¨æ€è°ƒæ•´è¡¨å¤§å°</li>
            <li>è€ƒè™‘å†…å­˜å±€éƒ¨æ€§</li>
          </ul>
        </div>
      </aside>
    </div>

    <section class="section">
      <h2>å“ˆå¸Œè¡¨ä¸ºä»€ä¹ˆå¿«ï¼Ÿâ€”â€”åº•å±‚åŸç†è§£æ</h2>
      <div class="hash-fast-reason">
        <p>
          å“ˆå¸Œè¡¨ä¹‹æ‰€ä»¥æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½éå¸¸å¿«ï¼Œæ ¸å¿ƒåŸå› åœ¨äº<strong>å“ˆå¸Œå‡½æ•°</strong>å’Œ<strong>æ•°ç»„ä¸‹æ ‡ç›´æ¥å¯»å€</strong>çš„ç»“åˆï¼š
        </p>
        <ul>
          <li>
            <strong>å“ˆå¸Œå‡½æ•°ï¼š</strong
            >å°†ä»»æ„ç±»å‹çš„é”®ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ï¼‰é€šè¿‡å“ˆå¸Œç®—æ³•è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•ç›´æ¥å¯¹åº”æ•°ç»„ä¸­çš„ä½ç½®ã€‚
          </li>
          <li>
            <strong>æ•°ç»„å¯»å€ï¼š</strong
            >å“ˆå¸Œè¡¨åº•å±‚é€šå¸¸ç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨æ•°æ®ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºçš„ç´¢å¼•ï¼Œå¯ä»¥<strong>ç›´æ¥å®šä½</strong>åˆ°æ•°ç»„çš„æŸä¸ªä½ç½®ï¼Œé¿å…äº†çº¿æ€§æŸ¥æ‰¾ã€‚
          </li>
          <li>
            <strong>å†²çªå¤„ç†ï¼š</strong
            >å½“ä¸åŒçš„é”®è¢«å“ˆå¸Œåˆ°åŒä¸€ä¸ªä½ç½®æ—¶ï¼Œé€šè¿‡é“¾è¡¨ï¼ˆé“¾åœ°å€æ³•ï¼‰æˆ–æ¢æµ‹ï¼ˆå¼€æ”¾å¯»å€æ³•ï¼‰ç­‰æ–¹å¼è§£å†³å†²çªï¼Œä¿è¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ“ä½œä»ç„¶å¾ˆå¿«ã€‚
          </li>
          <li>
            <strong>è´Ÿè½½å› å­ä¸åŠ¨æ€æ‰©å®¹ï¼š</strong
            >å½“å“ˆå¸Œè¡¨å…ƒç´ è¿‡å¤šæ—¶ï¼Œä¼šè‡ªåŠ¨æ‰©å®¹å¹¶é‡æ–°åˆ†å¸ƒæ•°æ®ï¼Œä¿æŒæŸ¥æ‰¾æ•ˆç‡ã€‚
          </li>
        </ul>
        <p>
          <strong>æ€»ç»“ï¼š</strong>å“ˆå¸Œè¡¨çš„é«˜æ•ˆæ€§æ¥è‡ªäºâ€œ<span style="color: #409eff"
            >ç”¨å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„ä¸ºæ•°ç»„ä¸‹æ ‡ï¼Œç›´æ¥å®šä½</span
          >â€ï¼Œé¿å…äº†é€ä¸ªéå†ï¼Œå¤§å¤§æå‡äº†æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦ã€‚
        </p>
      </div>
    </section>

    <footer class="footer">
      <p>
        å“ˆå¸Œè¡¨æ˜¯ç°ä»£ç¼–ç¨‹ä¸­æœ€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“ç´¢å¼•ã€ç¼“å­˜å®ç°å’Œè¯­è¨€å†…ç½®æ•°æ®ç»“æ„
      </p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const features = ref([
  { icon: 'âš¡', title: 'é«˜æ•ˆæŸ¥æ‰¾', description: 'å¹³å‡æ—¶é—´å¤æ‚åº¦O(1)ï¼Œæ¯”æ•°ç»„å’Œé“¾è¡¨æ›´å¿«' },
  { icon: 'ğŸ“Š', title: 'é”®å€¼å¯¹å­˜å‚¨', description: 'é€šè¿‡é”®ç›´æ¥è®¿é—®å€¼ï¼Œé€‚åˆå¿«é€ŸæŸ¥æ‰¾åœºæ™¯' },
  { icon: 'ğŸ”„', title: 'åŠ¨æ€æ‰©å±•', description: 'å½“è´Ÿè½½å› å­è¿‡é«˜æ—¶å¯è‡ªåŠ¨æ‰©å®¹' },
  {
    icon: 'ğŸ”€',
    title: 'æ— åºå­˜å‚¨',
    description: 'ä¸ä¿æŒæ’å…¥é¡ºåºï¼Œä½†ç°ä»£å®ç°å¦‚LinkedHashMapå¯ä¿æŒé¡ºåº',
  },
  { icon: 'ğŸ“', title: 'ç©ºé—´æ¢æ—¶é—´', description: 'éœ€è¦é¢å¤–å†…å­˜å­˜å‚¨å“ˆå¸Œè¡¨ç»“æ„' },
])

const algorithms = ref([
  {
    name: 'é“¾åœ°å€æ³•',
    description: 'æ¯ä¸ªæ¡¶ä½¿ç”¨é“¾è¡¨å­˜å‚¨å¤šä¸ªå…ƒç´ ',
    timeComplexity: 'O(1+n/m)',
    usage: '80%',
  },
  {
    name: 'å¼€æ”¾å¯»å€æ³•',
    description: 'æ¢æµ‹ç©ºæ§½ä½å­˜æ”¾å†²çªå…ƒç´ ',
    timeComplexity: 'O(1/(1-Î±))',
    usage: '15%',
  },
  {
    name: 'åŒé‡å“ˆå¸Œ',
    description: 'ä½¿ç”¨ç¬¬äºŒä¸ªå“ˆå¸Œå‡½æ•°è§£å†³å†²çª',
    timeComplexity: 'O(1)',
    usage: '3%',
  },
  {
    name: 'å¸ƒè°·é¸Ÿå“ˆå¸Œ',
    description: 'ä½¿ç”¨ä¸¤ä¸ªè¡¨äº¤æ›¿å­˜æ”¾å…ƒç´ ',
    timeComplexity: 'O(1)',
    usage: '2%',
  },
])

const pros = ref([
  { title: 'å¿«é€Ÿè®¿é—®', description: 'é€šè¿‡é”®ç›´æ¥è®¿é—®å€¼ï¼Œå¹³å‡O(1)æ—¶é—´å¤æ‚åº¦' },
  { title: 'æ’å…¥é«˜æ•ˆ', description: 'æ’å…¥æ“ä½œé€šå¸¸éå¸¸å¿«ï¼Œå¹³å‡O(1)æ—¶é—´å¤æ‚åº¦' },
  { title: 'çµæ´»é”®ç±»å‹', description: 'æ”¯æŒå¤šç§æ•°æ®ç±»å‹ä½œä¸ºé”®ï¼ˆéœ€å®ç°hashCodeï¼‰' },
  { title: 'åŠ¨æ€è°ƒæ•´', description: 'å¯æ ¹æ®è´Ÿè½½å› å­è‡ªåŠ¨æ‰©å®¹/ç¼©å®¹' },
])

const cons = ref([
  { title: 'å†²çªé—®é¢˜', description: 'ä¸åŒé”®å¯èƒ½æ˜ å°„åˆ°åŒä¸€ä½ç½®ï¼Œéœ€è¦è§£å†³å†²çª' },
  { title: 'æ— åºå­˜å‚¨', description: 'ä¸ä¿æŒå…ƒç´ æ’å…¥é¡ºåºï¼ˆé™¤éä½¿ç”¨ç‰¹æ®Šå®ç°ï¼‰' },
  { title: 'ç©ºé—´å¼€é”€', description: 'éœ€è¦åˆ†é…è¶³å¤Ÿç©ºé—´å‡å°‘å†²çªï¼Œå†…å­˜åˆ©ç”¨ç‡ä¸é«˜' },
  { title: 'æœ€åæƒ…å†µæ€§èƒ½', description: 'å†²çªä¸¥é‡æ—¶æ€§èƒ½å¯èƒ½é€€åŒ–åˆ°O(n)' },
])

const applications = ref([
  { icon: 'ğŸ—„ï¸', title: 'æ•°æ®åº“ç´¢å¼•', description: 'å¿«é€Ÿå®šä½è®°å½•ä½ç½®ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡' },
  { icon: 'ğŸŒ', title: 'ç¼“å­˜å®ç°', description: 'Memcachedã€Redisç­‰ç¼“å­˜ç³»ç»Ÿæ ¸å¿ƒæ•°æ®ç»“æ„' },
  { icon: 'ğŸ”', title: 'å­—å…¸å®ç°', description: 'ç¼–ç¨‹è¯­è¨€ä¸­çš„å­—å…¸ã€æ˜ å°„ç­‰æ•°æ®ç»“æ„åŸºç¡€' },
  { icon: 'ğŸ†”', title: 'å”¯ä¸€æ€§æ£€æµ‹', description: 'å¿«é€Ÿæ£€æµ‹å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚é‡å¤å†…å®¹è¿‡æ»¤' },
  { icon: 'ğŸ”‘', title: 'å¯†ç å­˜å‚¨', description: 'å­˜å‚¨å¯†ç å“ˆå¸Œå€¼è€Œéæ˜æ–‡ï¼ˆåŠ ç›å¤„ç†ï¼‰' },
  { icon: 'ğŸ§©', title: 'å›¾ç®—æ³•', description: 'å­˜å‚¨èŠ‚ç‚¹å’Œè¾¹çš„ä¿¡æ¯ï¼Œå¿«é€Ÿè®¿é—®é‚»æ¥èŠ‚ç‚¹' },
])

const hashFunctions = ref([
  { name: 'é™¤ç•™ä½™æ•°æ³•', description: 'h(k) = k mod mï¼Œmä¸ºè´¨æ•°æ•ˆæœæœ€å¥½' },
  { name: 'ä¹˜æ³•å“ˆå¸Œ', description: 'h(k) = floor(m * (k * A mod 1))ï¼ŒAä¸ºé»„é‡‘æ¯”ä¾‹å¸¸æ•°' },
  { name: 'MD5', description: 'å¹¿æ³›ä½¿ç”¨çš„å¯†ç æ•£åˆ—å‡½æ•°ï¼Œäº§ç”Ÿ128ä½æ•£åˆ—å€¼' },
  { name: 'SHAç³»åˆ—', description: 'å®‰å…¨å“ˆå¸Œç®—æ³•ï¼Œç”¨äºå¯†ç å­¦å’Œæ•°æ®å®Œæ•´æ€§éªŒè¯' },
  { name: 'MurmurHash', description: 'éåŠ å¯†å‹å“ˆå¸Œå‡½æ•°ï¼Œé€‚åˆä¸€èˆ¬å“ˆå¸Œæ£€ç´¢æ“ä½œ' },
])
</script>

<style lang="less" scoped>
@primary-color: #3498db;
@secondary-color: #2ecc71;
@accent-color: #e74c3c;
@text-color: #2c3e50;
@light-bg: #f8f9fa;
@border-color: #e0e0e0;
@card-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.hash-table-container {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  color: @text-color;
  background-color: #fff;
  line-height: 1.6;
}

.header {
  text-align: center;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid @border-color;

  h1 {
    color: @primary-color;
    font-size: 2.5rem;
    margin-bottom: 10px;
  }

  .subtitle {
    font-size: 1.2rem;
    color: #7f8c8d;
  }
}

.content-wrapper {
  display: flex;
  gap: 25px;
}

.main-content {
  flex: 3;
}

.sidebar {
  flex: 1;
  min-width: 300px;
}

.section {
  background: @light-bg;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: @card-shadow;

  h2 {
    color: @primary-color;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid fade(@primary-color, 30%);
  }
}

.concept-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.concept-card {
  background: white;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  box-shadow: @card-shadow;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }

  .concept-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
  }

  h3 {
    color: @secondary-color;
    margin-bottom: 10px;
  }
}

.columns-container {
  display: flex;
  gap: 20px;

  & > * {
    flex: 1;
  }
}

.feature-list,
.pros-list,
.cons-list {
  list-style: none;
}

.feature-item,
.pro-item,
.con-item {
  display: flex;
  gap: 15px;
  padding: 12px 0;
  border-bottom: 1px solid fade(@border-color, 50%);

  &:last-child {
    border-bottom: none;
  }
}

.feature-icon,
.pro-icon,
.con-icon {
  font-size: 1.5rem;
  min-width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pro-icon {
  color: @secondary-color;
}

.con-icon {
  color: @accent-color;
}

.algorithm-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
}

.algorithm-card {
  background: white;
  border-radius: 8px;
  padding: 15px;
  box-shadow: @card-shadow;
  border-left: 4px solid @primary-color;

  h3 {
    color: @primary-color;
    margin-bottom: 8px;
  }

  .algorithm-details {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
    font-size: 0.85rem;

    .complexity {
      background: fade(@primary-color, 10%);
      padding: 3px 8px;
      border-radius: 4px;
    }

    .usage {
      background: fade(@secondary-color, 10%);
      padding: 3px 8px;
      border-radius: 4px;
    }
  }
}

.applications-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.application-card {
  display: flex;
  gap: 15px;
  align-items: center;
  background: white;
  padding: 15px;
  border-radius: 8px;
  box-shadow: @card-shadow;
  border-left: 4px solid @secondary-color;

  .app-icon {
    font-size: 2rem;
    min-width: 50px;
  }
}

.complexity-card,
.hash-functions,
.tips {
  background: white;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: @card-shadow;

  h3 {
    color: @primary-color;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid @border-color;
  }
}

table {
  width: 100%;
  border-collapse: collapse;

  th,
  td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid @border-color;
  }

  th {
    background-color: fade(@primary-color, 10%);
  }

  tr:last-child td {
    border-bottom: none;
  }
}

ul {
  padding-left: 20px;

  li {
    margin-bottom: 10px;
  }
}

.footer {
  text-align: center;
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid @border-color;
  color: #7f8c8d;
  font-style: italic;
}

@media (max-width: 1100px) {
  .content-wrapper {
    flex-direction: column;
  }

  .columns-container {
    flex-direction: column;
  }
}

@media (max-width: 768px) {
  .concept-container,
  .algorithm-grid,
  .applications-container {
    grid-template-columns: 1fr;
  }
}
</style>
