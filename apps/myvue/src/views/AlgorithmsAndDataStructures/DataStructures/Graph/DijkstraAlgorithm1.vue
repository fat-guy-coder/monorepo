<template>
  <div class="dijkstra-container">
    <header class="page-header">
      <h1 class="title">Dijkstraç®—æ³•è¯¦è§£</h1>
      <p class="subtitle">å•æºæœ€çŸ­è·¯å¾„é—®é¢˜çš„ç»å…¸è§£å†³æ–¹æ¡ˆ</p>
    </header>

    <main class="content">
      <section class="intro-section">
        <div class="card">
          <h2 class="card-title">ç®—æ³•ç®€ä»‹</h2>
          <p class="card-content">
            Dijkstraç®—æ³•ç”±è·å…°è®¡ç®—æœºç§‘å­¦å®¶è‰¾å…¹èµ«å°”Â·æˆ´å…‹æ–¯ç‰¹æ‹‰äº1956å¹´æå‡ºï¼Œæ˜¯ä¸€ç§ç”¨äºåœ¨åŠ æƒå›¾ä¸­æŸ¥æ‰¾å•æºæœ€çŸ­è·¯å¾„çš„è´ªå¿ƒç®—æ³•ã€‚
          </p>
        </div>
      </section>

      <div class="two-column">
        <section class="algorithm-section">
          <div class="card">
            <h2 class="card-title">ç®—æ³•æ€è·¯</h2>
            <div class="card-content">
              <ol class="step-list">
                <li class="step-item">
                  <span class="step-number">1</span>
                  <div class="step-content">
                    <strong>åˆå§‹åŒ–</strong>
                    <p>è®¾ç½®èµ·å§‹ç‚¹çš„è·ç¦»ä¸º0ï¼Œå…¶ä»–æ‰€æœ‰ç‚¹çš„è·ç¦»ä¸ºæ— ç©·å¤§</p>
                  </div>
                </li>
                <li class="step-item">
                  <span class="step-number">2</span>
                  <div class="step-content">
                    <strong>é€‰æ‹©æœ€è¿‘èŠ‚ç‚¹</strong>
                    <p>ä»æœªå¤„ç†çš„èŠ‚ç‚¹ä¸­é€‰æ‹©è·ç¦»æœ€å°çš„èŠ‚ç‚¹</p>
                  </div>
                </li>
                <li class="step-item">
                  <span class="step-number">3</span>
                  <div class="step-content">
                    <strong>æ›´æ–°é‚»å±…è·ç¦»</strong>
                    <p>æ›´æ–°å½“å‰èŠ‚ç‚¹æ‰€æœ‰é‚»å±…èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»</p>
                  </div>
                </li>
                <li class="step-item">
                  <span class="step-number">4</span>
                  <div class="step-content">
                    <strong>æ ‡è®°å·²å¤„ç†</strong>
                    <p>å°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå·²å¤„ç†ï¼Œä¸å†è®¿é—®</p>
                  </div>
                </li>
                <li class="step-item">
                  <span class="step-number">5</span>
                  <div class="step-content">
                    <strong>é‡å¤æ‰§è¡Œ</strong>
                    <p>é‡å¤æ­¥éª¤2-4ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«å¤„ç†</p>
                  </div>
                </li>
              </ol>
            </div>
          </div>
        </section>

        <section class="implementation-section">
          <div class="card">
            <h2 class="card-title">ç®—æ³•å®ç°</h2>
            <div class="card-content">
              <pre class="code-block"><code>function dijkstra(graph: number[][], start: number): number[] {
  const n = graph.length;
  const dist: number[] = new Array(n).fill(Infinity);
  const visited: boolean[] = new Array(n).fill(false);

  dist[start] = 0;

  for (let i = 0; i < n - 1; i++) {
    // æ‰¾åˆ°æœªè®¿é—®çš„æœ€å°è·ç¦»èŠ‚ç‚¹
    let minDist = Infinity;
    let minIndex = -1;

    for (let j = 0; j < n; j++) {
      if (!visited[j] && dist[j] < minDist) {
        minDist = dist[j];
        minIndex = j;
      }
    }

    if (minIndex === -1) break;
    visited[minIndex] = true;

    // æ›´æ–°é‚»å±…è·ç¦»
    for (let j = 0; j < n; j++) {
      if (!visited[j] &&
          graph[minIndex][j] !== 0 &&
          dist[minIndex] + graph[minIndex][j] < dist[j]) {
        dist[j] = dist[minIndex] + graph[minIndex][j];
      }
    }
  }

  return dist;
}</code></pre>
            </div>
          </div>
        </section>
      </div>

      <section class="application-section">
        <div class="card">
          <h2 class="card-title">é€‚ç”¨åœºæ™¯</h2>
          <div class="card-content">
            <div class="scenario-grid">
              <div class="scenario-item">
                <div class="scenario-icon">ğŸ—ºï¸</div>
                <h3>è·¯å¾„è§„åˆ’</h3>
                <p>åœ°å›¾å¯¼èˆªç³»ç»Ÿçš„æœ€çŸ­è·¯å¾„è®¡ç®—</p>
              </div>
              <div class="scenario-item">
                <div class="scenario-icon">ğŸŒ</div>
                <h3>ç½‘ç»œè·¯ç”±</h3>
                <p>è®¡ç®—æœºç½‘ç»œä¸­çš„æ•°æ®åŒ…è½¬å‘è·¯å¾„é€‰æ‹©</p>
              </div>
              <div class="scenario-item">
                <div class="scenario-icon">ğŸšš</div>
                <h3>ç‰©æµé…é€</h3>
                <p>è´§ç‰©è¿è¾“çš„æœ€ä¼˜è·¯å¾„è§„åˆ’</p>
              </div>
              <div class="scenario-item">
                <div class="scenario-icon">âš¡</div>
                <h3>ç”µåŠ›ç½‘ç»œ</h3>
                <p>ç”µç½‘ä¸­çš„æœ€ä¼˜ç”µåŠ›ä¼ è¾“è·¯å¾„</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="pros-cons-section">
        <div class="card">
          <h2 class="card-title">ä¼˜ç¼ºç‚¹åˆ†æ</h2>
          <div class="card-content">
            <div class="comparison-grid">
              <div class="pros">
                <h3 class="pros-title">ä¼˜ç‚¹</h3>
                <ul class="feature-list">
                  <li class="feature-item positive">
                    <span class="feature-icon">âœ“</span>
                    <div class="feature-content">
                      <strong>æ•ˆç‡è¾ƒé«˜</strong>
                      <p>åœ¨ç¨ å¯†å›¾ä¸­è¡¨ç°è‰¯å¥½ï¼Œæ—¶é—´å¤æ‚åº¦O(VÂ²)</p>
                    </div>
                  </li>
                  <li class="feature-item positive">
                    <span class="feature-icon">âœ“</span>
                    <div class="feature-content">
                      <strong>ç»“æœå‡†ç¡®</strong>
                      <p>ä¿è¯æ‰¾åˆ°å•æºæœ€çŸ­è·¯å¾„</p>
                    </div>
                  </li>
                  <li class="feature-item positive">
                    <span class="feature-icon">âœ“</span>
                    <div class="feature-content">
                      <strong>å®ç°ç®€å•</strong>
                      <p>ç®—æ³•é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œå®ç°</p>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="cons">
                <h3 class="cons-title">ç¼ºç‚¹</h3>
                <ul class="feature-list">
                  <li class="feature-item negative">
                    <span class="feature-icon">âœ—</span>
                    <div class="feature-content">
                      <strong>è´Ÿæƒè¾¹é™åˆ¶</strong>
                      <p>ä¸èƒ½å¤„ç†åŒ…å«è´Ÿæƒè¾¹çš„å›¾</p>
                    </div>
                  </li>
                  <li class="feature-item negative">
                    <span class="feature-icon">âœ—</span>
                    <div class="feature-content">
                      <strong>ç¨€ç–å›¾æ•ˆç‡</strong>
                      <p>åœ¨ç¨€ç–å›¾ä¸­æ•ˆç‡ä¸å¦‚å…¶ä»–ç®—æ³•</p>
                    </div>
                  </li>
                  <li class="feature-item negative">
                    <span class="feature-icon">âœ—</span>
                    <div class="feature-content">
                      <strong>å†…å­˜æ¶ˆè€—</strong>
                      <p>éœ€è¦å­˜å‚¨æ•´ä¸ªå›¾çš„é‚»æ¥çŸ©é˜µ</p>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup lang="ts">
// è¿™é‡Œå¯ä»¥æ·»åŠ å“åº”å¼æ•°æ®æˆ–æ–¹æ³•ï¼Œä½†æ ¹æ®è¦æ±‚ä¸»è¦å±•ç¤ºé™æ€å†…å®¹
</script>

<style lang="less" scoped>
.dijkstra-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  color: #333;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
}

.page-header {
  text-align: center;
  margin-bottom: 32px;
  padding: 32px 0;

  .title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #2c3e50;
    margin: 0 0 8px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .subtitle {
    font-size: 1.2rem;
    color: #7f8c8d;
    margin: 0;
    font-weight: 300;
  }
}

.content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
  transition: all 0.3s ease;
  border: 1px solid #e1e8ed;

  &:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #2c3e50;
    margin: 0 0 16px 0;
    padding-bottom: 12px;
    border-bottom: 2px solid #e9ecef;
  }

  .card-content {
    color: #555;
  }
}

.two-column {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.step-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.step-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 20px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #667eea;

  &:last-child {
    margin-bottom: 0;
  }

  .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: #667eea;
    color: white;
    border-radius: 50%;
    font-weight: 600;
    margin-right: 16px;
    flex-shrink: 0;
  }

  .step-content {
    flex: 1;

    strong {
      display: block;
      font-size: 1.1rem;
      color: #2c3e50;
      margin-bottom: 4px;
    }

    p {
      margin: 0;
      color: #666;
      font-size: 0.95rem;
    }
  }
}

.code-block {
  background: #2d3748;
  color: #e2e8f0;
  padding: 20px;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Monaco', 'Consolas', monospace;
  font-size: 0.9rem;
  line-height: 1.4;
  margin: 0;

  code {
    display: block;
  }
}

.scenario-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.scenario-item {
  text-align: center;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s ease;

  &:hover {
    background: #e9ecef;
    transform: translateY(-2px);
  }

  .scenario-icon {
    font-size: 2.5rem;
    margin-bottom: 12px;
  }

  h3 {
    margin: 0 0 8px 0;
    color: #2c3e50;
    font-size: 1.2rem;
  }

  p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
  }
}

.comparison-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.pros, .cons {
  .pros-title, .cons-title {
    font-size: 1.3rem;
    margin: 0 0 16px 0;
    padding-bottom: 8px;
    border-bottom: 2px solid;
  }

  .pros-title {
    color: #27ae60;
    border-bottom-color: #27ae60;
  }

  .cons-title {
    color: #e74c3c;
    border-bottom-color: #e74c3c;
  }
}

.feature-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.feature-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 16px;
  padding: 16px;
  border-radius: 8px;

  &:last-child {
    margin-bottom: 0;
  }

  &.positive {
    background: rgba(39, 174, 96, 0.1);
    border-left: 4px solid #27ae60;
  }

  &.negative {
    background: rgba(231, 76, 60, 0.1);
    border-left: 4px solid #e74c3c;
  }

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 12px;
    flex-shrink: 0;
    font-weight: bold;
  }

  .positive .feature-icon {
    background: #27ae60;
    color: white;
  }

  .negative .feature-icon {
    background: #e74c3c;
    color: white;
  }

  .feature-content {
    flex: 1;

    strong {
      display: block;
      color: #2c3e50;
      margin-bottom: 4px;
      font-size: 1.05rem;
    }

    p {
      margin: 0;
      color: #666;
      font-size: 0.9rem;
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .dijkstra-container {
    padding: 16px;
  }

  .page-header .title {
    font-size: 2rem;
  }

  .card {
    padding: 20px;
  }

  .step-item {
    padding: 12px;
  }
}
</style>
