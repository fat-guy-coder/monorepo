<template>
  <div class="buffer-container">
    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <div class="header-section">
      <div class="logo-container">
        <div class="buffer-logo">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 17h18v2H3zm0-7h18v2H3zm0-7h18v2H3z" fill="#68a063" />
            <circle cx="6" cy="5" r="2" fill="#388e3c" />
            <circle cx="12" cy="12" r="2" fill="#388e3c" />
            <circle cx="18" cy="19" r="2" fill="#388e3c" />
          </svg>
        </div>
      </div>
      <div class="header-content">
        <h1 class="main-title">Node.js Buffer æ¨¡å—åŸºç¡€ä»‹ç»</h1>
        <p class="subtitle">äºŒè¿›åˆ¶æ•°æ®å¤„ç†çš„åŸºçŸ³</p>
      </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <div class="content-wrapper">
      <!-- ç®€ä»‹éƒ¨åˆ† -->
      <section class="intro-section">
        <div class="section-header">
          <div class="icon">ğŸ“š</div>
          <h2>Buffer æ¨¡å—æ¦‚è¿°</h2>
        </div>

        <div class="intro-content">
          <p>
            <strong>Buffer æ¨¡å—</strong>æ˜¯ Node.js ä¸­ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ ¸å¿ƒæ¨¡å—ã€‚åœ¨æµè§ˆå™¨ JavaScript ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ TypedArray å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œåœ¨ Node.js
            ä¸­ï¼ŒBuffer ç±»å°±æ˜¯ç”¨äºåœ¨ TCP æµã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œä»¥åŠå…¶ä»–éœ€è¦äºŒè¿›åˆ¶æ•°æ®çš„åœºæ™¯ä¸­æ“ä½œåŸå§‹å†…å­˜çš„ã€‚
          </p>

          <p>åœ¨
            Node
            åº”â½¤ä¸­ï¼Œéœ€è¦å¤„ç†â½¹ç»œåè®®ã€æ“ä½œæ•°æ®åº“ã€å¤„ç†å›¾â½šã€æ¥æ”¶ä¸Šä¼ â½‚ä»¶ç­‰ï¼Œåœ¨â½¹ç»œæµå’Œâ½‚ä»¶çš„æ“
            ä½œä¸­ï¼Œè¦å¤„ç†â¼¤é‡â¼†è¿›åˆ¶æ•°æ®ï¼Œâ½½
            æ”¾â¼†è¿›åˆ¶æ•°æ®
            Buffer
            å°±æ˜¯åœ¨å†…å­˜ä¸­å¼€è¾Ÿâ¼€â½šåŒºåŸŸï¼ˆåˆæ¬¡åˆå§‹åŒ–ä¸º8KBï¼‰ï¼Œâ½¤æ¥å­˜
            åœ¨ä¸Šè¿°æ“ä½œä¸­éƒ½ä¼šå­˜åœ¨æ•°æ®æµåŠ¨ï¼Œæ¯ä¸ªæ•°æ®æµåŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæœ‰â¼€ä¸ªæœ€â¼©æˆ–æœ€â¼¤æ•°æ®é‡
            å¦‚æœæ•°æ®åˆ°è¾¾çš„é€Ÿåº¦â½è¿›ç¨‹æ¶ˆè€—çš„é€Ÿåº¦å¿«ï¼Œé‚£ä¹ˆå°‘æ•°æ—©åˆ°è¾¾çš„æ•°æ®ä¼šå¤„äºç­‰å¾…åŒºç­‰å€™è¢«å¤„ç†ã€‚åä¹‹ï¼Œå¦‚
            æœæ•°æ®åˆ°è¾¾çš„é€Ÿåº¦â½è¿›ç¨‹æ¶ˆè€—çš„æ•°æ®æ…¢ï¼Œé‚£ä¹ˆæ—©å…ˆåˆ°è¾¾çš„æ•°æ®éœ€è¦ç­‰å¾…â¼€å®šé‡çš„æ•°æ®åˆ°è¾¾ä¹‹åæ‰èƒ½è¢«å¤„
            ç†
            è¿™â¾¥çš„ç­‰å¾…åŒºå°±æŒ‡çš„ç¼“å†²åŒºï¼ˆBufferï¼‰ï¼Œå®ƒæ˜¯è®¡ç®—æœºä¸­çš„â¼€ä¸ªâ¼©ç‰©ç†å•ä½ï¼Œé€šå¸¸ä½äºè®¡ç®—æœºçš„
            RAM
            ä¸­
            ç®€å•æ¥è®²ï¼Œ
            Nodejs
            ä¸èƒ½æ§åˆ¶æ•°æ®ä¼ è¾“çš„é€Ÿåº¦å’Œåˆ°è¾¾æ—¶é—´ï¼Œåªèƒ½å†³å®šä½•æ—¶å‘é€æ•°æ®ï¼Œå¦‚æœè¿˜æ²¡åˆ°å‘é€æ—¶
            é—´ï¼Œåˆ™å°†æ•°æ®æ”¾åœ¨
            Buffer
            ä¸­ï¼Œå³åœ¨
            RAM
            ä¸­ï¼Œç›´â¾„å°†å®ƒä»¬å‘é€å®Œæ¯• </p>

          <div class="key-features">
            <h3 class="section-subtitle">æ ¸å¿ƒç‰¹æ€§</h3>
            <ul>
              <li><strong>äºŒè¿›åˆ¶æ•°æ®å¤„ç†</strong>ï¼šç›´æ¥æ“ä½œå†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ®</li>
              <li><strong>æ— éœ€å¼•å…¥</strong>ï¼šNode.js å…¨å±€æ¨¡å—ï¼Œæ— éœ€ require å³å¯ä½¿ç”¨</li>
              <li><strong>é«˜æ•ˆæ€§èƒ½</strong>ï¼šåº•å±‚ C++ å®ç°ï¼Œæä¾›é«˜æ•ˆçš„å†…å­˜æ“ä½œ</li>
              <li><strong>æµæ“ä½œåŸºç¡€</strong>ï¼šNode.js Stream æ¨¡å—çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†</li>
              <li><strong>ç¼–ç è½¬æ¢</strong>ï¼šæ”¯æŒå¤šç§ç¼–ç ï¼ˆutf8, hex, base64 ç­‰ï¼‰</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- ä¸ºä»€ä¹ˆéœ€è¦ Buffer -->
      <section class="why-section">
        <div class="section-header">
          <div class="icon">â“</div>
          <h2>ä¸ºä»€ä¹ˆéœ€è¦ Bufferï¼Ÿ</h2>
        </div>

        <div class="why-grid">
          <div class="why-card">
            <div class="why-icon">1</div>
            <h3>å¤„ç†äºŒè¿›åˆ¶æ•°æ®</h3>
            <p>JavaScript ä¼ ç»Ÿä¸Šä¸æ“…é•¿å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼ŒBuffer å¡«è¡¥äº†è¿™ä¸€ç©ºç¼º</p>
          </div>

          <div class="why-card">
            <div class="why-icon">2</div>
            <h3>ç½‘ç»œé€šä¿¡</h3>
            <p>TCP/UDP æµã€WebSocket ç­‰ç½‘ç»œåè®®éœ€è¦å¤„ç†åŸå§‹äºŒè¿›åˆ¶æ•°æ®</p>
          </div>

          <div class="why-card">
            <div class="why-icon">3</div>
            <h3>æ–‡ä»¶æ“ä½œ</h3>
            <p>è¯»å–å›¾ç‰‡ã€è§†é¢‘ã€å‹ç¼©åŒ…ç­‰éæ–‡æœ¬æ–‡ä»¶æ—¶éœ€è¦äºŒè¿›åˆ¶å¤„ç†</p>
          </div>

          <div class="why-card">
            <div class="why-icon">4</div>
            <h3>æ€§èƒ½ä¼˜åŒ–</h3>
            <p>ç›´æ¥æ“ä½œå†…å­˜æ¯”å­—ç¬¦ä¸²æ“ä½œæ›´é«˜æ•ˆï¼Œå°¤å…¶åœ¨å¤§å‹æ•°æ®å¤„ç†ä¸­</p>
          </div>
        </div>
      </section>

      <!-- API åŸºç¡€ä»‹ç» -->
      <section class="api-section">
        <div class="section-header">
          <div class="icon">ğŸ”§</div>
          <h2>Buffer API åŸºç¡€ä»‹ç»</h2>
        </div>

        <div class="api-table">
          <div class="table-header">
            <div class="col-method">æ–¹æ³•/å±æ€§</div>
            <div class="col-desc">æè¿°</div>
            <div class="col-params">å‚æ•°</div>
            <div class="col-return">è¿”å›å€¼</div>
          </div>

          <div class="table-row" v-for="(api, index) in apiList" :key="index">
            <div class="col-method">
              <code>{{ api.method }}</code>
              <div class="method-type">{{ api.type }}</div>
            </div>
            <div class="col-desc">{{ api.description }}</div>
            <div class="col-params">
              <div v-for="(param, pIndex) in api.params" :key="pIndex" class="param-item">
                <code>{{ param.name }}</code>: {{ param.desc }}
              </div>
              <div v-if="api.params.length === 0">-</div>
            </div>
            <div class="col-return">
              <code>{{ api.return || 'void' }}</code>
            </div>
          </div>
        </div>
      </section>

      <!-- åˆ›å»º Buffer çš„å¤šç§æ–¹å¼ -->
      <section class="creation-section">
        <div class="section-header">
          <div class="icon">ğŸ› ï¸</div>
          <h2>åˆ›å»º Buffer çš„å¤šç§æ–¹å¼</h2>
        </div>

        <div class="creation-grid">
          <div class="creation-card">
            <h3>1. æŒ‡å®šå¤§å°åˆ›å»º</h3>
            <pre class="code-block">// åˆ›å»º 10 å­—èŠ‚çš„ Buffer
const buf1 = Buffer.alloc(10);</pre>
          </div>

          <div class="creation-card">
            <h3>2. ä»æ•°ç»„åˆ›å»º</h3>
            <pre class="code-block">// ä»å­—èŠ‚æ•°ç»„åˆ›å»º
const buf2 = Buffer.from([0x62, 0x75, 0x66, 0x66]);</pre>
          </div>

          <div class="creation-card">
            <h3>3. ä»å­—ç¬¦ä¸²åˆ›å»º</h3>
            <pre class="code-block">// ä½¿ç”¨ UTF-8 ç¼–ç åˆ›å»º
const buf3 = Buffer.from('Hello Buffer', 'utf8');</pre>
          </div>

          <div class="creation-card">
            <h3>4. å¿«é€Ÿåˆ›å»ºï¼ˆä¸å®‰å…¨ï¼‰</h3>
            <pre class="code-block">// åˆ†é…æœªåˆå§‹åŒ–çš„ Bufferï¼ˆæ›´å¿«ä½†å¯èƒ½åŒ…å«æ—§æ•°æ®ï¼‰
const buf4 = Buffer.allocUnsafe(100);</pre>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="scenarios-section">
        <div class="section-header">
          <div class="icon">ğŸ’¡</div>
          <h2>Buffer ä½¿ç”¨åœºæ™¯</h2>
        </div>

        <div class="scenarios-grid">
          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ“¡</div>
              <h3>ç½‘ç»œé€šä¿¡</h3>
            </div>
            <div class="scenario-content">
              <p>å¤„ç† TCP/UDP æ•°æ®åŒ…ã€WebSocket æ¶ˆæ¯</p>
              <pre class="code-block">server.on('data', (data) => {
  // data æ˜¯ä¸€ä¸ª Buffer
  const packetSize = data.readUInt32BE(0);
  const payload = data.slice(4);
});</pre>
            </div>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ“</div>
              <h3>æ–‡ä»¶æ“ä½œ</h3>
            </div>
            <div class="scenario-content">
              <p>è¯»å†™å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰äºŒè¿›åˆ¶æ–‡ä»¶</p>
              <pre class="code-block">// è¯»å–å›¾ç‰‡æ–‡ä»¶
fs.readFile('image.png', (err, data) => {
  if (err) throw err;
  // data æ˜¯ä¸€ä¸ªåŒ…å« PNG æ•°æ®çš„ Buffer
  const signature = data.slice(0, 8).toString('hex');
});</pre>
            </div>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">ğŸ”</div>
              <h3>åŠ å¯†ä¸å“ˆå¸Œ</h3>
            </div>
            <div class="scenario-content">
              <p>å¯†ç å­¦æ“ä½œéœ€è¦å¤„ç†äºŒè¿›åˆ¶æ•°æ®</p>
              <pre class="code-block">const crypto = require('crypto');
const hash = crypto.createHash('sha256');

// æ›´æ–°å“ˆå¸Œå†…å®¹
hash.update(Buffer.from('secret data'));
const digest = hash.digest('hex'); // å“ˆå¸Œç»“æœ</pre>
            </div>
          </div>

          <div class="scenario-card">
            <div class="scenario-header">
              <div class="scenario-icon">âš™ï¸</div>
              <h3>åè®®è§£æ</h3>
            </div>
            <div class="scenario-content">
              <p>è§£æè‡ªå®šä¹‰äºŒè¿›åˆ¶åè®®</p>
              <pre class="code-block">function parsePacket(buffer) {
  const version = buffer.readUInt8(0);
  const type = buffer.readUInt8(1);
  const length = buffer.readUInt16BE(2);
  const payload = buffer.slice(4, 4 + length);
  return { version, type, length, payload };
}</pre>
            </div>
          </div>
        </div>
      </section>

      <!-- æœ€ä½³å®è·µ -->
      <section class="practice-section">
        <div class="section-header">
          <div class="icon">ğŸ†</div>
          <h2>Buffer æœ€ä½³å®è·µ</h2>
        </div>

        <div class="practice-list">
          <div class="practice-item">
            <div class="practice-icon">1</div>
            <div class="practice-content">
              <h3>ä¼˜å…ˆä½¿ç”¨ Buffer.alloc</h3>
              <p>é™¤éæ€§èƒ½è‡³å…³é‡è¦ï¼Œå¦åˆ™é¿å…ä½¿ç”¨ <code>Buffer.allocUnsafe</code>ï¼Œå› ä¸ºå®ƒå¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®ã€‚ä½¿ç”¨ <code>Buffer.alloc()</code> åˆ›å»ºåˆå§‹åŒ–çš„
                Bufferã€‚</p>
            </div>
          </div>

          <div class="practice-item">
            <div class="practice-icon">2</div>
            <div class="practice-content">
              <h3>æ³¨æ„ç¼–ç ä¸€è‡´æ€§</h3>
              <p>åœ¨ä¸åŒæ“ä½œä¸­ä½¿ç”¨ Buffer æ—¶ï¼Œç¡®ä¿ç¼–ç æ–¹å¼ä¸€è‡´ã€‚é»˜è®¤ç¼–ç æ˜¯ UTF-8ï¼Œä½†å…¶ä»–ç¼–ç ï¼ˆå¦‚ 'base64', 'hex'ï¼‰åœ¨ç‰¹å®šåœºæ™¯å¾ˆæœ‰ç”¨ã€‚</p>
            </div>
          </div>

          <div class="practice-item">
            <div class="practice-icon">3</div>
            <div class="practice-content">
              <h3>é¿å…æ‹¼æ¥å¤§ Buffer</h3>
              <p>å¤§ Buffer æ‹¼æ¥æ“ä½œï¼ˆå¦‚ <code>Buffer.concat</code>ï¼‰å¯èƒ½å¯¼è‡´å†…å­˜é—®é¢˜ã€‚è€ƒè™‘ä½¿ç”¨æµï¼ˆStreamsï¼‰å¤„ç†å¤§æ•°æ®ã€‚</p>
            </div>
          </div>

          <div class="practice-item">
            <div class="practice-icon">4</div>
            <div class="practice-content">
              <h3>ä½¿ç”¨ TypedArray äº’æ“ä½œæ€§</h3>
              <p>Buffer å®ä¾‹ä¹Ÿæ˜¯ Uint8Array å®ä¾‹ï¼Œä½†è¦æ³¨æ„å®ƒä»¬å…±äº«å†…å­˜ã€‚å¯ä»¥ä½¿ç”¨ <code>Buffer.from(arrayBuffer)</code> ä» ArrayBuffer åˆ›å»º
                Bufferã€‚</p>
            </div>
          </div>
        </div>
      </section>

      <!-- å¸¸è§é—®é¢˜ -->
      <section class="faq-section">
        <div class="section-header">
          <div class="icon">â”</div>
          <h2>Buffer å¸¸è§é—®é¢˜</h2>
        </div>

        <div class="faq-grid">
          <div class="faq-card">
            <h3>Q: Buffer æ˜¯å¦åœ¨ V8 å †å¤–åˆ†é…å†…å­˜ï¼Ÿ</h3>
            <p><strong>A:</strong> æ˜¯çš„ï¼ŒBuffer åœ¨ Node.js çš„å †å¤–åˆ†é…å†…å­˜ï¼ˆC++ å±‚é¢ï¼‰ï¼Œè¿™ä½¿å…¶å¤§å°ä¸å— V8 å†…å­˜é™åˆ¶å½±å“ã€‚</p>
          </div>

          <div class="faq-card">
            <h3>Q: Buffer å’Œ ArrayBuffer æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
            <p><strong>A:</strong> Buffer æ˜¯ Node.js ç‰¹æœ‰çš„ï¼Œè€Œ ArrayBuffer æ˜¯ ECMAScript æ ‡å‡†ã€‚Buffer å®ç°äº† Uint8Array
              APIï¼Œä½†æä¾›äº†æ›´å¤šå®ç”¨æ–¹æ³•ã€‚</p>
          </div>

          <div class="faq-card">
            <h3>Q: å¦‚ä½•è½¬æ¢ Buffer ä¸º JSONï¼Ÿ</h3>
            <p><strong>A:</strong> Buffer å®ä¾‹æœ‰ä¸€ä¸ª <code>toJSON()</code>
              æ–¹æ³•ï¼Œè¿”å›åŒ…å«æ•°æ®çš„ç±»å‹åŒ–æ•°ç»„ï¼š<code>{ type: 'Buffer', data: [...] }</code>ã€‚</p>
          </div>

          <div class="faq-card">
            <h3>Q: Buffer æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ</h3>
            <p><strong>A:</strong> å•ä¸ª Buffer å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ª Bufferï¼Œéœ€è¦ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ Mutexï¼‰ã€‚</p>
          </div>
        </div>
      </section>
    </div>

    <!-- é¡µè„š -->
    <div class="footer">
      <p>Node.js Buffer æ¨¡å—åŸºç¡€ä»‹ç» | äºŒè¿›åˆ¶æ•°æ®å¤„ç†æŒ‡å— | Â© 2023</p>
      <div class="footer-links">
        <a href="https://nodejs.org/api/buffer.html" target="_blank">å®˜æ–¹æ–‡æ¡£</a>
        <a href="https://github.com/nodejs/node" target="_blank">Node.js æºç </a>
        <a href="https://nodesource.com/blog/understanding-the-buffer" target="_blank">æ·±å…¥è§£æ</a>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
interface ApiItem {
  method: string;
  type: 'static' | 'instance';
  description: string;
  params: { name: string; desc: string }[];
  return: string;
}

const apiList: ApiItem[] = [
  {
    method: 'Buffer.alloc(size)',
    type: 'static',
    description: 'åˆ›å»ºæŒ‡å®šå¤§å°çš„ Bufferï¼Œå¹¶ç”¨ 0 å¡«å……',
    params: [
      { name: 'size', desc: 'Buffer çš„å­—èŠ‚é•¿åº¦' },
      { name: 'fill', desc: 'å¯é€‰ï¼Œå¡«å……å€¼ (é»˜è®¤: 0)' },
      { name: 'encoding', desc: 'å¯é€‰ï¼Œå¡«å……ç¼–ç  (é»˜è®¤: utf8)' }
    ],
    return: 'Buffer'
  },
  {
    method: 'Buffer.from(array)',
    type: 'static',
    description: 'ä»å­—èŠ‚æ•°ç»„åˆ›å»º Buffer',
    params: [
      { name: 'array', desc: 'å­—èŠ‚å€¼æ•°ç»„ (0-255)' }
    ],
    return: 'Buffer'
  },
  {
    method: 'Buffer.from(string)',
    type: 'static',
    description: 'ä»å­—ç¬¦ä¸²åˆ›å»º Buffer',
    params: [
      { name: 'string', desc: 'è¾“å…¥å­—ç¬¦ä¸²' },
      { name: 'encoding', desc: 'å­—ç¬¦ä¸²ç¼–ç  (é»˜è®¤: utf8)' }
    ],
    return: 'Buffer'
  },
  {
    method: 'buf.length',
    type: 'instance',
    description: 'Buffer çš„å­—èŠ‚é•¿åº¦',
    params: [],
    return: 'number'
  },
  {
    method: 'buf.write(string)',
    type: 'instance',
    description: 'å‘ Buffer å†™å…¥å­—ç¬¦ä¸²',
    params: [
      { name: 'string', desc: 'è¦å†™å…¥çš„å­—ç¬¦ä¸²' },
      { name: 'offset', desc: 'å¼€å§‹å†™å…¥çš„ä½ç½® (é»˜è®¤: 0)' },
      { name: 'length', desc: 'è¦å†™å…¥çš„å­—èŠ‚æ•°' },
      { name: 'encoding', desc: 'å­—ç¬¦ä¸²ç¼–ç  (é»˜è®¤: utf8)' }
    ],
    return: 'number'
  },
  {
    method: 'buf.toString()',
    type: 'instance',
    description: 'å°† Buffer è§£ç ä¸ºå­—ç¬¦ä¸²',
    params: [
      { name: 'encoding', desc: 'è§£ç ç¼–ç  (é»˜è®¤: utf8)' },
      { name: 'start', desc: 'å¼€å§‹ä½ç½® (é»˜è®¤: 0)' },
      { name: 'end', desc: 'ç»“æŸä½ç½® (é»˜è®¤: buf.length)' }
    ],
    return: 'string'
  },
  {
    method: 'buf.slice()',
    type: 'instance',
    description: 'åˆ›å»ºæŒ‡å‘ç›¸åŒå†…å­˜çš„æ–° Buffer åˆ‡ç‰‡',
    params: [
      { name: 'start', desc: 'åˆ‡ç‰‡èµ·å§‹ä½ç½® (é»˜è®¤: 0)' },
      { name: 'end', desc: 'åˆ‡ç‰‡ç»“æŸä½ç½® (é»˜è®¤: buf.length)' }
    ],
    return: 'Buffer'
  },
  {
    method: 'buf.readUInt8(offset)',
    type: 'instance',
    description: 'ä»æŒ‡å®šä½ç½®è¯»å–æ— ç¬¦å· 8 ä½æ•´æ•°',
    params: [
      { name: 'offset', desc: 'è¯»å–ä½ç½® (0 â‰¤ offset â‰¤ buf.length-1)' }
    ],
    return: 'number'
  },
  {
    method: 'buf.writeUInt8(value, offset)',
    type: 'instance',
    description: 'å‘æŒ‡å®šä½ç½®å†™å…¥æ— ç¬¦å· 8 ä½æ•´æ•°',
    params: [
      { name: 'value', desc: 'è¦å†™å…¥çš„æ•°å€¼' },
      { name: 'offset', desc: 'å†™å…¥ä½ç½®' }
    ],
    return: 'void'
  },
  {
    method: 'buf.readUInt16BE(offset)',
    type: 'instance',
    description: 'ä½¿ç”¨å¤§ç«¯åºè¯»å–æ— ç¬¦å· 16 ä½æ•´æ•°',
    params: [
      { name: 'offset', desc: 'è¯»å–ä½ç½®' }
    ],
    return: 'number'
  },
  {
    method: 'Buffer.concat(list)',
    type: 'static',
    description: 'åˆå¹¶ Buffer æ•°ç»„ä¸ºä¸€ä¸ªæ–° Buffer',
    params: [
      { name: 'list', desc: 'Buffer æ•°ç»„' },
      { name: 'totalLength', desc: 'å¯é€‰ï¼Œåˆå¹¶åæ€»é•¿åº¦' }
    ],
    return: 'Buffer'
  },
  {
    method: 'buf.compare(target)',
    type: 'instance',
    description: 'æ¯”è¾ƒä¸¤ä¸ª Buffer çš„æ’åº',
    params: [
      { name: 'target', desc: 'è¦æ¯”è¾ƒçš„ Buffer' }
    ],
    return: 'number'
  },
  {
    method: 'buf.copy(target)',
    type: 'instance',
    description: 'å¤åˆ¶ Buffer æ•°æ®åˆ°ç›®æ ‡ Buffer',
    params: [
      { name: 'target', desc: 'ç›®æ ‡ Buffer' },
      { name: 'targetStart', desc: 'ç›®æ ‡å¼€å§‹ä½ç½® (é»˜è®¤: 0)' },
      { name: 'sourceStart', desc: 'æºå¼€å§‹ä½ç½® (é»˜è®¤: 0)' },
      { name: 'sourceEnd', desc: 'æºç»“æŸä½ç½® (é»˜è®¤: buf.length)' }
    ],
    return: 'number'
  },
  {
    method: 'buf.equals(other)',
    type: 'instance',
    description: 'æ£€æŸ¥ä¸¤ä¸ª Buffer æ˜¯å¦åŒ…å«ç›¸åŒå­—èŠ‚',
    params: [
      { name: 'other', desc: 'è¦æ¯”è¾ƒçš„ Buffer' }
    ],
    return: 'boolean'
  },
  {
    method: 'buf.indexOf(value)',
    type: 'instance',
    description: 'åœ¨ Buffer ä¸­æœç´¢å€¼',
    params: [
      { name: 'value', desc: 'æŸ¥æ‰¾çš„å€¼ (string/Buffer/integer)' },
      { name: 'byteOffset', desc: 'å¼€å§‹æœç´¢ä½ç½® (é»˜è®¤: 0)' },
      { name: 'encoding', desc: 'å­—ç¬¦ä¸²ç¼–ç  (é»˜è®¤: utf8)' }
    ],
    return: 'number'
  },
  {
    method: 'buf.fill(value)',
    type: 'instance',
    description: 'ç”¨æŒ‡å®šå€¼å¡«å…… Buffer',
    params: [
      { name: 'value', desc: 'å¡«å……å€¼ (string/Buffer/integer)' },
      { name: 'offset', desc: 'å¼€å§‹ä½ç½® (é»˜è®¤: 0)' },
      { name: 'end', desc: 'ç»“æŸä½ç½® (é»˜è®¤: buf.length)' },
      { name: 'encoding', desc: 'å­—ç¬¦ä¸²ç¼–ç  (é»˜è®¤: utf8)' }
    ],
    return: 'Buffer'
  }
];
</script>

<style lang="less" scoped>
@font-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
@font-code: 'Fira Code', 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;

.buffer-container {
  max-width: 1200px;
  margin: 0 auto;
  font-family: @font-main;
  background-color: #f8fafc;
  color: #334155;
  line-height: 1.6;
  padding-bottom: 2rem;
}

.header-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background: linear-gradient(135deg, #4caf50, #388e3c);
  color: white;
  padding: 3rem 2rem;
  border-radius: 0 0 30px 30px;
  margin-bottom: 2rem;

  .logo-container {
    margin-bottom: 1.5rem;
  }

  .buffer-logo {
    width: 80px;
    height: 80px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

    svg {
      width: 50px;
      height: 50px;
    }
  }
}

.main-title {
  font-size: 2.5rem;
  margin: 0 0 0.8rem;
  font-weight: 800;
}

.subtitle {
  font-size: 1.4rem;
  opacity: 0.9;
  margin: 0 0 1.5rem;
  font-weight: 400;
}

.content-wrapper {
  padding: 0 2rem;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: 3rem 0 1.8rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #e2e8f0;

  .icon {
    font-size: 1.8rem;
    background: #e8f5e9;
    color: #388e3c;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
  }

  h2 {
    font-size: 1.8rem;
    margin: 0;
    color: #1e293b;
  }
}

.intro-content {
  background: white;
  border-radius: 12px;
  padding: 1.8rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);

  p {
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }
}

.key-features {
  margin-top: 2.5rem;

  .section-subtitle {
    font-size: 1.4rem;
    color: #388e3c;
    margin-top: 0;
    margin-bottom: 1.5rem;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid #c8e6c9;
  }

  ul {
    list-style-type: none;
    padding-left: 1.5rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;

    li {
      position: relative;
      padding-left: 1.8rem;
      margin-bottom: 0.8rem;
      font-size: 1.05rem;

      &:before {
        content: "â€¢";
        position: absolute;
        left: 0;
        color: #4caf50;
        font-size: 1.5rem;
        line-height: 1;
      }

      strong {
        color: #388e3c;
      }
    }
  }
}

.why-grid,
.creation-grid,
.scenarios-grid,
.faq-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.why-card,
.faq-card {
  background: white;
  border-radius: 12px;
  padding: 1.8rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  border-top: 3px solid #4caf50;

  h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #388e3c;
  }

  p {
    margin: 0;
    color: #4b5563;
    font-size: 0.95rem;
    line-height: 1.5;
  }
}

.why-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;

  .why-icon {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 1rem;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #e8f5e9;
    color: #388e3c;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

.api-table {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  border: 1px solid #e2e8f0;
  margin-top: 1.5rem;

  .table-header {
    display: flex;
    background: #e8f5e9;
    padding: 1rem 1.5rem;
    font-weight: 600;
    color: #388e3c;
    border-bottom: 1px solid #c8e6c9;

    .col-method {
      width: 22%;
    }

    .col-desc {
      width: 38%;
    }

    .col-params {
      width: 25%;
    }

    .col-return {
      width: 15%;
    }
  }

  .table-row {
    display: flex;
    padding: 1.2rem 1.5rem;
    border-bottom: 1px solid #f1f5f9;

    &:last-child {
      border-bottom: none;
    }

    &:nth-child(even) {
      background-color: #f8fafc;
    }

    >div {
      padding-right: 1rem;
    }

    .col-method {
      width: 22%;
      font-family: @font-code;

      code {
        font-size: 0.95rem;
        color: #2e7d32;
        font-weight: 600;
      }

      .method-type {
        font-size: 0.8rem;
        color: #666;
        margin-top: 0.3rem;
        font-family: @font-main;
      }
    }

    .col-desc {
      width: 38%;
      font-size: 0.95rem;
      line-height: 1.5;
      color: #4b5563;
    }

    .col-params {
      width: 25%;

      .param-item {
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
        line-height: 1.4;

        code {
          font-family: @font-code;
          color: #d84315;
          font-weight: 500;
        }
      }
    }

    .col-return {
      width: 15%;
      font-family: @font-code;
      color: #0288d1;
      font-weight: 500;
    }
  }
}

.creation-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  border-top: 3px solid #4caf50;

  h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    color: #388e3c;
  }
}

.scenario-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  border: 1px solid #e2e8f0;

  .scenario-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.2rem 1.5rem;
    background: #e8f5e9;
    border-bottom: 1px solid #c8e6c9;

    .scenario-icon {
      font-size: 1.5rem;
    }

    h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #2e7d32;
    }
  }

  .scenario-content {
    padding: 1.5rem;

    p {
      margin: 0 0 1rem;
      font-size: 0.95rem;
      line-height: 1.5;
      color: #4b5563;
    }
  }
}

.practice-list {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  margin-top: 1.5rem;
}

.practice-item {
  display: flex;
  gap: 1.5rem;
  padding: 1.5rem 0;
  border-bottom: 1px solid #f1f5f9;

  &:last-child {
    border-bottom: none;
    padding-bottom: 0.5rem;
  }

  .practice-icon {
    width: 40px;
    height: 40px;
    flex-shrink: 0;
    background: #e8f5e9;
    color: #388e3c;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
  }

  .practice-content {
    flex: 1;

    h3 {
      margin-top: 0;
      margin-bottom: 0.8rem;
      font-size: 1.2rem;
      color: #2e7d32;
    }

    p {
      margin: 0;
      color: #4b5563;
      font-size: 0.95rem;
      line-height: 1.6;

      code {
        font-family: @font-code;
        background: #f1f8e9;
        padding: 2px 6px;
        border-radius: 4px;
        color: #2e7d32;
      }
    }
  }
}

.faq-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  border-left: 4px solid #4caf50;

  h3 {
    margin-top: 0;
    font-size: 1.1rem;
    color: #2e7d32;
  }

  p {
    margin: 0.5rem 0 0;
    color: #4b5563;
    font-size: 0.95rem;
    line-height: 1.5;

    strong {
      color: #388e3c;
    }
  }
}

.footer {
  text-align: center;
  padding: 2.5rem 2rem 1rem;
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 2rem;

  .footer-links {
    margin-top: 1rem;

    a {
      color: #4caf50;
      text-decoration: none;
      margin: 0 1rem;
      font-weight: 500;
      transition: all 0.2s ease;

      &:hover {
        text-decoration: underline;
      }
    }
  }
}

.code-block {
  background-color: #2e3e2e;
  color: #e8f5e9;
  border-radius: 8px;
  padding: 1rem;
  font-family: @font-code;
  font-size: 0.92rem;
  line-height: 1.5;
  overflow-x: auto;
  tab-size: 2;
  margin: 0.8rem 0;
}

@media (max-width: 768px) {
  .header-section {
    padding: 2rem 1rem;
  }

  .main-title {
    font-size: 2rem;
  }

  .subtitle {
    font-size: 1.1rem;
  }

  .content-wrapper {
    padding: 0 1rem;
  }

  .section-header {
    h2 {
      font-size: 1.5rem;
    }
  }

  .table-header {
    display: none !important;
  }

  .table-row {
    flex-direction: column !important;
    gap: 1rem;

    >div {
      width: 100% !important;
      padding-right: 0 !important;
    }
  }

  .api-table .table-row {
    border-bottom: 1px solid #e2e8f0;
    padding-bottom: 1.5rem;
    margin-bottom: 1.5rem;
  }
}

@media (max-width: 480px) {
  .main-title {
    font-size: 1.7rem;
  }

  .buffer-logo {
    width: 60px;
    height: 60px;

    svg {
      width: 40px;
      height: 40px;
    }
  }

  .why-grid,
  .creation-grid,
  .scenarios-grid,
  .faq-grid {
    grid-template-columns: 1fr;
  }
}
</style>
