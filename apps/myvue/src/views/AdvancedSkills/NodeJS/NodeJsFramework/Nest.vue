<template>
  <div class="nest-guide">
    <header class="header">
      <div class="header-content">
        <h1><span class="nest-logo">N</span>est.js æ¡†æ¶åŸºç¡€ä»‹ç»</h1>
        <p class="subtitle">ç°ä»£åŒ–ã€é«˜æ•ˆã€å¯æ‰©å±•çš„ Node.js æœåŠ¡å™¨æ¡†æ¶</p>
        <div class="tech-stack">
          <div class="tech-badge">Node.js</div>
          <div class="tech-badge">TypeScript</div>
          <div class="tech-badge">Express/Fastify</div>
          <div class="tech-badge">RxJS</div>
          <div class="tech-badge">GraphQL</div>
          <div class="tech-badge">WebSockets</div>
        </div>
      </div>
    </header>

    <main class="content">
      <section class="section intro-section">
        <div class="section-content">
          <h2 class="section-title">ğŸš€ Nest.js ç®€ä»‹</h2>
          <div class="intro-cards">
            <div class="intro-card">
              <div class="intro-icon">ğŸ“…</div>
              <h3>è¯ç”ŸèƒŒæ™¯</h3>
              <p>ç”± Kamil MyÅ›liwiec äº 2017 å¹´åˆ›å»ºï¼Œæ—¨åœ¨è§£å†³ Node.js åœ¨æ„å»ºå¤æ‚åç«¯åº”ç”¨æ—¶ç¼ºä¹æ¶æ„è§„èŒƒçš„é—®é¢˜ã€‚</p>
              <p>çµæ„Ÿæ¥æºäº Angular çš„æ¨¡å—åŒ–å’Œä¾èµ–æ³¨å…¥è®¾è®¡ï¼ŒåŒæ—¶ç»“åˆäº† Spring æ¡†æ¶çš„ç¼–ç¨‹èŒƒå¼ã€‚</p>
            </div>

            <div class="intro-card">
              <div class="intro-icon">ğŸ¯</div>
              <h3>æ¡†æ¶å®šä½</h3>
              <ul>
                <li>å¼€ç®±å³ç”¨çš„åº”ç”¨ç¨‹åºæ¶æ„</li>
                <li>é¢å‘ AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</li>
                <li>é«˜åº¦å¯æµ‹è¯•æ€§</li>
                <li>å¹³å°æ— å…³ï¼ˆæ”¯æŒ Express/Fastifyï¼‰</li>
                <li>æ¸è¿›å¼æ¡†æ¶ï¼Œæ˜“äºå­¦ä¹ å’Œæ‰©å±•</li>
              </ul>
            </div>

            <div class="intro-card">
              <div class="intro-icon">ğŸ“ˆ</div>
              <h3>é‡‡ç”¨è¶‹åŠ¿</h3>
              <div class="metrics">
                <div class="metric">
                  <div class="metric-value">60K+</div>
                  <div class="metric-label">GitHub Stars</div>
                </div>
                <div class="metric">
                  <div class="metric-value">1.5M+</div>
                  <div class="metric-label">å‘¨ä¸‹è½½é‡</div>
                </div>
                <div class="metric">
                  <div class="metric-value">98%</div>
                  <div class="metric-label">å¼€å‘è€…æ»¡æ„åº¦</div>
                </div>
              </div>
              <p>è¢« Adidasã€Rocheã€AutoTrader ç­‰ä¼ä¸šå¹¿æ³›é‡‡ç”¨</p>
            </div>
          </div>
        </div>
      </section>

      <section class="section core-section">
        <div class="section-content">
          <h2 class="section-title">ğŸ§± æ ¸å¿ƒæ¦‚å¿µ</h2>

          <div class="core-concepts">
            <div class="concept-diagram">
              <div class="diagram-center">
                <div class="diagram-item main">æ¨¡å—<br>(Module)</div>
              </div>
              <div class="diagram-ring">
                <div class="diagram-item">æ§åˆ¶å™¨<br>(Controller)</div>
                <div class="diagram-item">æœåŠ¡<br>(Service)</div>
                <div class="diagram-item">ä¸­é—´ä»¶<br>(Middleware)</div>
              </div>
              <div class="diagram-outer">
                <div class="diagram-item">å®ˆå«<br>(Guard)</div>
                <div class="diagram-item">æ‹¦æˆªå™¨<br>(Interceptor)</div>
                <div class="diagram-item">ç®¡é“<br>(Pipe)</div>
                <div class="diagram-item">å¼‚å¸¸è¿‡æ»¤å™¨<br>(Exception Filter)</div>
              </div>
            </div>

            <div class="concept-details">
              <div class="concept-card">
                <div class="concept-header">
                  <span class="concept-icon">ğŸ“¦</span>
                  <h3>æ¨¡å— (Module)</h3>
                </div>
                <p>åº”ç”¨ç¨‹åºçš„æ„å»ºå—ï¼Œä½¿ç”¨ @Module() è£…é¥°å™¨å®šä¹‰ï¼Œç”¨äºç»„ç»‡ç›¸å…³åŠŸèƒ½ã€‚</p>
                <pre><code class="language-typescript">@Module({
  imports: [OtherModule],
  controllers: [UserController],
  providers: [UserService],
})
export class UserModule {}</code></pre>
              </div>

              <div class="concept-card">
                <div class="concept-header">
                  <span class="concept-icon">ğŸ®</span>
                  <h3>æ§åˆ¶å™¨ (Controller)</h3>
                </div>
                <p>å¤„ç†ä¼ å…¥è¯·æ±‚å¹¶è¿”å›å“åº”ï¼Œå®šä¹‰è·¯ç”±å’Œç«¯ç‚¹ã€‚</p>
                <pre><code class="language-typescript">@Controller('users')
export class UserController {
  @Get()
  findAll(): string {
    return 'All users';
  }
}</code></pre>
              </div>

              <div class="concept-card">
                <div class="concept-header">
                  <span class="concept-icon">ğŸ”§</span>
                  <h3>æœåŠ¡ (Service)</h3>
                </div>
                <p>ä¸šåŠ¡é€»è¾‘çš„æä¾›è€…ï¼Œä½¿ç”¨ @Injectable() è£…é¥°å™¨ï¼Œå¯é€šè¿‡ä¾èµ–æ³¨å…¥ä½¿ç”¨ã€‚</p>
                <pre><code class="language-typescript">@Injectable()
export class UserService {
  private users = [];

  findAll() {
    return this.users;
  }
}</code></pre>
              </div>

              <div class="concept-card">
                <div class="concept-header">
                  <span class="concept-icon">ğŸ§©</span>
                  <h3>ä¸­é—´ä»¶ (Middleware)</h3>
                </div>
                <p>åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è°ƒç”¨çš„å‡½æ•°ï¼Œç”¨äºè¯·æ±‚é¢„å¤„ç†ã€‚</p>
                <pre><code class="language-typescript">@Injectable()
export class LoggerMiddleware implements NestMiddleware {
  use(req: Request, res: Response, next: NextFunction) {
    console.log(`Request...`);
    next();
  }
}</code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section usage-section">
        <div class="section-content">
          <h2 class="section-title">ğŸ› ï¸ å¦‚ä½•ä½¿ç”¨ Nest.js</h2>

          <div class="usage-steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>å®‰è£…ä¸åˆ›å»ºé¡¹ç›®</h3>
                <pre><code class="language-bash"># å®‰è£… Nest CLI
npm i -g @nestjs/cli

# åˆ›å»ºæ–°é¡¹ç›®
nest new project-name</code></pre>
                <div class="file-structure">
                  <div class="file">src/</div>
                  <div class="file indent">main.ts <span class="comment">// åº”ç”¨å…¥å£</span></div>
                  <div class="file indent">app.module.ts <span class="comment">// æ ¹æ¨¡å—</span></div>
                  <div class="file indent">app.controller.ts</div>
                  <div class="file indent">app.service.ts</div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>åˆ›å»ºèµ„æºæ¨¡å—</h3>
                <pre><code class="language-bash"># ç”Ÿæˆå®Œæ•´ CRUD èµ„æº
nest g resource users</code></pre>
                <div class="file-structure">
                  <div class="file">src/users/</div>
                  <div class="file indent">users.module.ts</div>
                  <div class="file indent">users.controller.ts</div>
                  <div class="file indent">users.service.ts</div>
                  <div class="file indent">dto/ <span class="comment">// æ•°æ®ä¼ è¾“å¯¹è±¡</span></div>
                  <div class="file indent">entities/ <span class="comment">// æ•°æ®åº“å®ä½“</span></div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>é…ç½®ä¸è¿è¡Œ</h3>
                <pre><code class="language-bash"># å¼€å‘æ¨¡å¼è¿è¡Œ
npm run start:dev</code></pre>

                <div class="code-block">
                  <h4>main.ts - åº”ç”¨å…¥å£æ–‡ä»¶</h4>
                  <pre><code class="language-typescript">import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);

  // å…¨å±€ä¸­é—´ä»¶
  // app.use(logger)

  // å…¨å±€ç®¡é“
  // app.useGlobalPipes(new ValidationPipe())

  // å…¨å±€å‰ç¼€
  app.setGlobalPrefix('api');

  await app.listen(3000);
}
bootstrap();</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section case-section">
        <div class="section-content">
          <h2 class="section-title">ğŸ’¼ ä½¿ç”¨åœºæ™¯</h2>

          <div class="case-grid">
            <div class="case-card">
              <div class="case-icon">ğŸŒ</div>
              <h3>RESTful API æœåŠ¡</h3>
              <p>æ„å»ºé«˜æ€§èƒ½ã€ç»“æ„åŒ–çš„ REST APIï¼Œæ”¯æŒç‰ˆæœ¬æ§åˆ¶ã€è®¤è¯ã€æ•°æ®éªŒè¯</p>
              <pre><code class="language-typescript">@Controller('api/v1/users')
export class UserController {
  constructor(private userService: UserService) {}

  @Get()
  findAll() {
    return this.userService.findAll();
  }

  @Post()
  @HttpCode(201)
  create(@Body() createUserDto: CreateUserDto) {
    return this.userService.create(createUserDto);
  }
}</code></pre>
            </div>

            <div class="case-card">
              <div class="case-icon">ğŸ“¡</div>
              <h3>å®æ—¶åº”ç”¨ (WebSockets)</h3>
              <p>ä½¿ç”¨ @nestjs/websockets æ¨¡å—æ„å»ºå®æ—¶èŠå¤©ã€é€šçŸ¥ç³»ç»Ÿ</p>
              <pre><code class="language-typescript">@WebSocketGateway()
export class ChatGateway {
  @WebSocketServer() server;

  @SubscribeMessage('message')
  handleMessage(client: any, payload: any): void {
    this.server.emit('message', payload);
  }
}</code></pre>
            </div>

            <div class="case-card">
              <div class="case-icon">ğŸ“Š</div>
              <h3>GraphQL æœåŠ¡å™¨</h3>
              <p>ä½¿ç”¨ @nestjs/graphql æ„å»ºç±»å‹å®‰å…¨çš„ GraphQL API</p>
              <pre><code class="language-typescript">@Resolver(of => User)
export class UserResolver {
  constructor(private userService: UserService) {}

  @Query(returns => [User])
  async users() {
    return this.userService.findAll();
  }

  @Mutation(returns => User)
  async createUser(@Args('data') data: CreateUserInput) {
    return this.userService.create(data);
  }
}</code></pre>
            </div>

            <div class="case-card">
              <div class="case-icon">ğŸ›¡ï¸</div>
              <h3>å¾®æœåŠ¡æ¶æ„</h3>
              <p>ä½¿ç”¨å†…ç½®å¾®æœåŠ¡æ¨¡å—æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿ</p>
              <div class="microservices">
                <div class="service">API Gateway</div>
                <div class="connector">â‡„</div>
                <div class="service-group">
                  <div class="service">ç”¨æˆ·æœåŠ¡</div>
                  <div class="service">è®¢å•æœåŠ¡</div>
                  <div class="service">æ”¯ä»˜æœåŠ¡</div>
                </div>
              </div>
              <pre><code class="language-typescript">// åˆ›å»ºå¾®æœåŠ¡
const app = await NestFactory.createMicroservice(AppModule, {
  transport: Transport.TCP,
  options: { port: 3001 }
});</code></pre>
            </div>
          </div>
        </div>
      </section>

      <section class="section pros-cons-section">
        <div class="section-content">
          <h2 class="section-title">ğŸ‘ğŸ‘ Nest.js ä¼˜ç¼ºç‚¹åˆ†æ</h2>

          <div class="comparison">
            <div class="pros">
              <h3>âœ… ä¼˜åŠ¿</h3>
              <ul>
                <li>
                  <div class="icon">ğŸ—ï¸</div>
                  <div>
                    <strong>å¼€ç®±å³ç”¨çš„æ¶æ„</strong>
                    <p>æä¾›æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼Œå‡å°‘æ¶æ„å†³ç­–æ—¶é—´</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ”„</div>
                  <div>
                    <strong>å¼ºå¤§çš„ä¾èµ–æ³¨å…¥</strong>
                    <p>ç®€åŒ–æ¨¡å—é—´ä¾èµ–ç®¡ç†ï¼Œæé«˜å¯æµ‹è¯•æ€§</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ“š</div>
                  <div>
                    <strong>ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ</strong>
                    <p>å®˜æ–¹æ”¯æŒ TypeORMã€Mongooseã€GraphQLã€WebSockets ç­‰</p>
                  </div>
                </li>
                <li>
                  <div class="icon">âš¡</div>
                  <div>
                    <strong>é«˜æ€§èƒ½</strong>
                    <p>é»˜è®¤ä½¿ç”¨ Fastifyï¼Œæ€§èƒ½ä¼˜äº Express</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ§ª</div>
                  <div>
                    <strong>ä¼˜ç§€çš„å¯æµ‹è¯•æ€§</strong>
                    <p>ä¾èµ–æ³¨å…¥æ¶æ„ä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ§©</div>
                  <div>
                    <strong>æ¨¡å—åŒ–è®¾è®¡</strong>
                    <p>åŠŸèƒ½æ¨¡å—åŒ–ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="cons">
              <h3>âš ï¸ å±€é™</h3>
              <ul>
                <li>
                  <div class="icon">ğŸ“–</div>
                  <div>
                    <strong>å­¦ä¹ æ›²çº¿</strong>
                    <p>éœ€è¦ç†è§£è£…é¥°å™¨ã€ä¾èµ–æ³¨å…¥ç­‰æ¦‚å¿µ</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ—ï¸</div>
                  <div>
                    <strong>é¡¹ç›®åˆå§‹åŒ–å¤æ‚</strong>
                    <p>ç›¸æ¯” Express/Koa æœ‰æ›´å¤šåˆå§‹é…ç½®å’Œæ ·æ¿ä»£ç </p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ§ </div>
                  <div>
                    <strong>æŠ½è±¡å±‚</strong>
                    <p>æ¡†æ¶æŠ½è±¡å¯èƒ½é™åˆ¶åº•å±‚è®¿é—®</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ“¦</div>
                  <div>
                    <strong>åŒ…ä½“ç§¯è¾ƒå¤§</strong>
                    <p>åŒ…å«æ›´å¤šä¾èµ–ï¼Œå†·å¯åŠ¨æ—¶é—´ç¨é•¿</p>
                  </div>
                </li>
                <li>
                  <div class="icon">ğŸ§‘â€ğŸ’»</div>
                  <div>
                    <strong>å›¢é˜Ÿé€‚é…</strong>
                    <p>éœ€è¦å›¢é˜Ÿæˆå‘˜ç†Ÿæ‚‰ TypeScript å’Œ OOP æ¦‚å¿µ</p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="section conclusion-section">
        <div class="section-content">
          <h2 class="section-title">ğŸ¯ ä½•æ—¶é€‰æ‹© Nest.js</h2>

          <div class="recommendation">
            <div class="recommend-card">
              <h3>æ¨èä½¿ç”¨åœºæ™¯</h3>
              <ul>
                <li>ä¼ä¸šçº§åç«¯åº”ç”¨ç¨‹åº</li>
                <li>éœ€è¦é•¿æœŸç»´æŠ¤çš„é¡¹ç›®</li>
                <li>å¤§å‹å›¢é˜Ÿåä½œå¼€å‘</li>
                <li>éœ€è¦ä¸¥æ ¼æ¶æ„è§„èŒƒçš„ç³»ç»Ÿ</li>
                <li>éœ€è¦é›†æˆå¤šç§æŠ€æœ¯æ ˆçš„é¡¹ç›®</li>
              </ul>
            </div>

            <div class="recommend-card">
              <h3>å…¶ä»–é€‰æ‹©</h3>
              <ul>
                <li>å°å‹é¡¹ç›®/åŸå‹éªŒè¯ - Express/Koa</li>
                <li>å‡½æ•°å¼è®¡ç®— - Serverless Framework</li>
                <li>æ— æ¶æ„çº¦æŸ - Fastify/Hapi</li>
                <li>å…¨æ ˆ JavaScript - Next.js/Nuxt.js API Routes</li>
              </ul>
            </div>
          </div>

          <div class="final-thoughts">
            <div class="thought-icon">ğŸ’¡</div>
            <p>Nest.js æä¾›äº†ä¸€ä¸ªå¼ºå¤§è€Œä¼˜é›…çš„æ¶æ„æ¥è§£å†³ Node.js
              æœåŠ¡å™¨ç«¯åº”ç”¨çš„å¤æ‚æ€§é—®é¢˜ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦é•¿æœŸç»´æŠ¤çš„ä¼ä¸šçº§åº”ç”¨ç¨‹åºã€‚è™½ç„¶å­¦ä¹ æ›²çº¿æ¯”ç®€å•æ¡†æ¶é™¡å³­ï¼Œä½†å®ƒæä¾›çš„ç»“æ„åŒ–å’Œå¯æ‰©å±•æ€§ä¸ºå¤§å‹é¡¹ç›®å¸¦æ¥äº†æ˜¾è‘—çš„é•¿æœŸæ•ˆç›Šã€‚</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>Â© 2023 Nest.js æ¡†æ¶æŒ‡å— | æ„å»ºå¯æ‰©å±•çš„ä¼ä¸šçº§ Node.js åº”ç”¨ | æ–‡æ¡£: docs.nestjs.com</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { onMounted, ref } from 'vue';

// ä»£ç é«˜äº®çŠ¶æ€
const highlighted = ref(false);

// æ¨¡æ‹Ÿä»£ç é«˜äº®åˆå§‹åŒ–
const highlightCode = () => {
  if (!highlighted.value) {
    console.log('åˆå§‹åŒ–ä»£ç é«˜äº®æ•ˆæœ');
    highlighted.value = true;
    // å®é™…é¡¹ç›®ä¸­å¯é›†æˆ Prism.js æˆ– Highlight.js
  }
};

onMounted(() => {
  highlightCode();
});
</script>

<style lang="less" scoped>
@primary-color: #e0234e;
@secondary-color: #3f51b5;
@accent-color: #42b983;
@text-color: #2c3e50;
@light-bg: #f8fafc;
@card-bg: #ffffff;
@border-color: #e1e4e8;
@success-color: #43a047;
@warning-color: #ff9800;

.nest-guide {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  color: @text-color;
  line-height: 1.6;
  background: @light-bg;
}

.header {
  text-align: center;
  padding: 60px 20px 40px;
  margin-bottom: 40px;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  border-radius: 16px;
  color: white;
  position: relative;
  overflow: hidden;

  &::before {
    content: '{}';
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 6rem;
    opacity: 0.05;
    font-family: monospace;
    transform: rotate(20deg);
  }

  .header-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
  }

  h1 {
    font-size: 3.5rem;
    margin-bottom: 15px;
    font-weight: 700;

    .nest-logo {
      display: inline-block;
      width: 70px;
      height: 70px;
      line-height: 70px;
      background: @primary-color;
      border-radius: 50%;
      margin-right: 15px;
      font-weight: 900;
      box-shadow: 0 5px 15px rgba(224, 35, 78, 0.3);
    }
  }

  .subtitle {
    font-size: 1.4rem;
    opacity: 0.9;
    margin-bottom: 30px;
  }

  .tech-stack {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 30px;

    .tech-badge {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 8px 18px;
      border-radius: 30px;
      font-size: 0.9rem;
      transition: all 0.3s ease;

      &:hover {
        background: @primary-color;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(224, 35, 78, 0.3);
      }
    }
  }
}

.section {
  margin-bottom: 50px;

  .section-content {
    background: @card-bg;
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.05);
  }

  .section-title {
    font-size: 2rem;
    margin-top: 0;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 2px solid @border-color;
    color: @primary-color;
    display: flex;
    align-items: center;

    &::before {
      content: '';
      display: inline-block;
      width: 8px;
      height: 30px;
      background: @primary-color;
      margin-right: 15px;
      border-radius: 4px;
    }
  }
}

.intro-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.intro-card {
  background: @card-bg;
  border-radius: 12px;
  padding: 25px;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }

  .intro-icon {
    font-size: 3rem;
    margin-bottom: 20px;
  }

  h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: @secondary-color;
  }

  ul {
    padding-left: 20px;
    margin-top: 10px;

    li {
      margin-bottom: 8px;
    }
  }

  .metrics {
    display: flex;
    justify-content: space-between;
    margin: 20px 0;

    .metric {
      text-align: center;

      .metric-value {
        font-size: 1.8rem;
        font-weight: 700;
        color: @primary-color;
      }

      .metric-label {
        font-size: 0.85rem;
        opacity: 0.8;
      }
    }
  }
}

.core-concepts {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
}

.concept-diagram {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  min-height: 450px;

  .diagram-center {
    position: absolute;
    width: 150px;
    height: 150px;
    background: lighten(@secondary-color, 40%);
    border: 3px solid @secondary-color;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-weight: 700;
    color: darken(@secondary-color, 15%);
    z-index: 3;
    box-shadow: 0 5px 15px rgba(63, 81, 181, 0.2);
  }

  .diagram-ring {
    position: absolute;
    width: 300px;
    height: 300px;
    border: 2px dashed lighten(@primary-color, 30%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;

    .diagram-item {
      position: absolute;
      width: 120px;
      height: 120px;
      background: lighten(@primary-color, 45%);
      border: 2px solid @primary-color;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 0.9rem;
      font-weight: 600;
      padding: 15px;
      color: darken(@primary-color, 10%);

      &:nth-child(1) {
        transform: translate(-150px, 0);
      }

      &:nth-child(2) {
        transform: translate(0, -150px);
      }

      &:nth-child(3) {
        transform: translate(150px, 0);
      }
    }
  }

  .diagram-outer {
    position: absolute;
    width: 450px;
    height: 450px;
    border: 2px dashed lighten(@accent-color, 30%);
    border-radius: 50%;

    .diagram-item {
      position: absolute;
      width: 110px;
      height: 110px;
      background: lighten(@accent-color, 45%);
      border: 2px solid @accent-color;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 0.85rem;
      padding: 10px;
      color: darken(@accent-color, 15%);

      &:nth-child(1) {
        transform: translate(-220px, -80px);
      }

      &:nth-child(2) {
        transform: translate(-150px, -200px);
      }

      &:nth-child(3) {
        transform: translate(150px, -200px);
      }

      &:nth-child(4) {
        transform: translate(220px, -80px);
      }
    }
  }
}

.concept-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.concept-card {
  background: @card-bg;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

  .concept-header {
    display: flex;
    align-items: center;
    padding: 20px;
    background: linear-gradient(to right, #f5f7fa, #e8edf5);
    border-bottom: 1px solid @border-color;

    .concept-icon {
      font-size: 1.8rem;
      margin-right: 15px;
    }

    h3 {
      margin: 0;
      color: @primary-color;
    }
  }

  p {
    padding: 15px 20px;
    margin: 0;
  }

  pre {
    margin: 0;
    padding: 15px;
    background: #2d2d2d;
    color: #f8f8f2;
    border-radius: 0 0 12px 12px;
    font-size: 0.9rem;
    overflow-x: auto;
  }
}

.usage-steps {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.step {
  display: flex;
  gap: 20px;

  .step-number {
    min-width: 40px;
    height: 40px;
    background: @primary-color;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.2rem;
    margin-top: 5px;
  }

  .step-content {
    flex: 1;

    h3 {
      margin-top: 0;
      color: @secondary-color;
    }

    pre {
      background: #f5f7fa;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid @primary-color;
      overflow-x: auto;
      font-size: 0.95rem;
    }

    .file-structure {
      background: #f8f9fc;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Fira Code', monospace;
      margin-top: 15px;

      .file {
        margin-bottom: 5px;

        &.indent {
          padding-left: 20px;
        }

        .comment {
          color: #888;
        }
      }
    }

    .code-block {
      margin-top: 20px;

      h4 {
        margin-top: 0;
        margin-bottom: 10px;
        color: @secondary-color;
      }

      pre {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid @accent-color;
      }
    }
  }
}

.case-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 25px;
}

.case-card {
  background: @card-bg;
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

  .case-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
  }

  h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: @primary-color;
  }

  p {
    color: #555;
    margin-bottom: 15px;
  }

  pre {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    font-size: 0.85rem;
  }

  .microservices {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px 0;
    gap: 20px;

    .service {
      background: @accent-color;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 0.9rem;
      text-align: center;
    }

    .service-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .connector {
      font-size: 1.5rem;
      opacity: 0.5;
    }
  }
}

.comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }

  .pros,
  .cons {
    border-radius: 12px;
    padding: 25px;

    h3 {
      margin-top: 0;
      padding-bottom: 15px;
      border-bottom: 2px solid;
    }
  }

  .pros {
    background: rgba(67, 160, 71, 0.05);
    border-left: 4px solid @success-color;

    h3 {
      color: @success-color;
      border-bottom-color: rgba(67, 160, 71, 0.2);
    }
  }

  .cons {
    background: rgba(255, 152, 0, 0.05);
    border-left: 4px solid @warning-color;

    h3 {
      color: @warning-color;
      border-bottom-color: rgba(255, 152, 0, 0.2);
    }
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      display: flex;
      align-items: flex-start;
      padding: 15px 0;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);

      .icon {
        font-size: 1.8rem;
        margin-right: 15px;
        min-width: 40px;
      }

      strong {
        display: block;
        margin-bottom: 5px;
      }

      p {
        margin: 0;
        opacity: 0.8;
        font-size: 0.95rem;
      }
    }
  }
}

.recommendation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  margin-bottom: 40px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.recommend-card {
  background: @card-bg;
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);

  h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: @secondary-color;
    padding-bottom: 10px;
    border-bottom: 1px solid @border-color;
  }

  ul {
    padding-left: 20px;
    margin: 0;

    li {
      margin-bottom: 12px;
      padding-left: 8px;
      position: relative;

      &::before {
        content: '';
        position: absolute;
        left: 0;
        top: 10px;
        width: 6px;
        height: 6px;
        background: @primary-color;
        border-radius: 50%;
      }
    }
  }
}

.final-thoughts {
  display: flex;
  background: #edf7ff;
  border-radius: 12px;
  padding: 25px;
  border-left: 4px solid @secondary-color;

  .thought-icon {
    font-size: 3rem;
    margin-right: 20px;
    color: @secondary-color;
  }

  p {
    margin: 0;
    font-size: 1.1rem;
    line-height: 1.7;
  }
}

.footer {
  text-align: center;
  padding: 30px 0;
  margin-top: 50px;
  border-top: 1px solid @border-color;
  color: #7f8c8d;
  font-size: 0.95rem;
}
</style>
