<template>
  <div class="electron-apis-container">
    <header class="page-header">
      <h1>Electron åŸç”Ÿæ¥å£ä¸åŠŸèƒ½</h1>
      <p class="subtitle">è·¨å¹³å°æ¡Œé¢åº”ç”¨å¼€å‘çš„æ ¸å¿ƒèƒ½åŠ›</p>
    </header>

    <div class="intro-section">
      <p>Electron æä¾›äº†ä¸°å¯Œçš„åŸç”Ÿ APIï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ„å»ºåŠŸèƒ½å®Œæ•´çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚è¿™äº› API æ¶µç›–äº†ä»çª—å£ç®¡ç†åˆ°ç³»ç»Ÿé›†æˆçš„å„ä¸ªæ–¹é¢ã€‚</p>
    </div>

    <div class="apis-grid">
      <!-- åº”ç”¨ç”Ÿå‘½å‘¨æœŸ -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸš€</div>
          <h2>åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</h2>
          <div class="process-tag">ä¸»è¿›ç¨‹</div>
        </div>

        <div class="api-content">
          <div class="api-item">
            <h3>app æ¨¡å—</h3>
            <p>æ§åˆ¶åº”ç”¨ç¨‹åºçš„äº‹ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œç®¡ç†æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸã€‚</p>

            <div class="code-example">
              <h4>æ ¸å¿ƒæ–¹æ³•</h4>
              <pre><code>const { app } = require('electron')

// åº”ç”¨ç¨‹åºäº‹ä»¶
app.whenReady().then(() => {
  createWindow()
})

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') {
    app.quit()
  }
})

app.on('activate', () => {
  if (BrowserWindow.getAllWindows().length === 0) {
    createWindow()
  }
})

// åº”ç”¨é…ç½®
app.setAppUserModelId('com.example.app')
app.setLoginItemSettings({
  openAtLogin: true,
  openAsHidden: false
})</code></pre>
            </div>

            <div class="feature-list">
              <h4>ä¸»è¦åŠŸèƒ½</h4>
              <ul>
                <li>åº”ç”¨ç¨‹åºå¯åŠ¨å’Œé€€å‡ºç®¡ç†</li>
                <li>å•å®ä¾‹åº”ç”¨ç¨‹åºæ§åˆ¶</li>
                <li>å¼€æœºè‡ªå¯åŠ¨é…ç½®</li>
                <li>åº”ç”¨ç¨‹åºäº‹ä»¶ç›‘å¬</li>
                <li>åè®®å¤„ç†æ³¨å†Œ</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- çª—å£ç®¡ç† -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸªŸ</div>
          <h2>çª—å£ç®¡ç†</h2>
          <div class="process-tag">ä¸»è¿›ç¨‹</div>
        </div>

        <div class="api-content">
          <div class="api-item">
            <h3>BrowserWindow</h3>
            <p>åˆ›å»ºå’Œæ§åˆ¶æµè§ˆå™¨çª—å£ï¼Œæä¾›ä¸°å¯Œçš„çª—å£å®šåˆ¶é€‰é¡¹ã€‚</p>

            <div class="code-example">
              <h4>çª—å£åˆ›å»ºä¸é…ç½®</h4>
              <pre><code>const { BrowserWindow } = require('electron')

function createWindow() {
  const mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    minWidth: 800,
    minHeight: 600,
    show: false,
    webPreferences: {
      nodeIntegration: true,
      contextIsolation: false,
      enableRemoteModule: true
    },
    titleBarStyle: 'hiddenInset',
    frame: false,
    transparent: true
  })

  // çª—å£äº‹ä»¶
  mainWindow.once('ready-to-show', () => {
    mainWindow.show()
  })

  mainWindow.on('closed', () => {
    mainWindow = null
  })

  // çª—å£æ“ä½œ
  mainWindow.loadFile('index.html')
  mainWindow.maximize()
  mainWindow.setAlwaysOnTop(true)
}</code></pre>
            </div>

            <div class="feature-list">
              <h4>çª—å£ç‰¹æ€§</h4>
              <ul>
                <li>è‡ªå®šä¹‰çª—å£æ¡†æ¶å’Œæ— è¾¹æ¡†çª—å£</li>
                <li>é€æ˜èƒŒæ™¯å’Œè§†è§‰ç‰¹æ•ˆ</li>
                <li>å¤šæ˜¾ç¤ºå™¨æ”¯æŒå’Œçª—å£å®šä½</li>
                <li>çª—å£çŠ¶æ€ç®¡ç†ï¼ˆæœ€å¤§åŒ–ã€æœ€å°åŒ–ï¼‰</li>
                <li>æ¨¡æ€çª—å£å’Œå­çª—å£</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- è¿›ç¨‹é—´é€šä¿¡ -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸ“¡</div>
          <h2>è¿›ç¨‹é—´é€šä¿¡</h2>
          <div class="process-tags">
            <span class="process-tag main">ä¸»è¿›ç¨‹</span>
            <span class="process-tag renderer">æ¸²æŸ“è¿›ç¨‹</span>
          </div>
        </div>

        <div class="api-content">
          <div class="api-item">
            <h3>ipcMain å’Œ ipcRenderer</h3>
            <p>åœ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´è¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚</p>

            <div class="code-example">
              <h4>åŒå‘é€šä¿¡ç¤ºä¾‹</h4>
              <div class="code-columns">
                <div class="code-column">
                  <h5>ä¸»è¿›ç¨‹ (main.js)</h5>
                  <pre><code>const { ipcMain } = require('electron')

// å¤„ç†æ¥è‡ªæ¸²æŸ“è¿›ç¨‹çš„æ¶ˆæ¯
ipcMain.handle('get-app-version', () => {
  return process.env.npm_package_version
})

ipcMain.on('window-action', (event, action) => {
  const win = BrowserWindow.fromWebContents(event.sender)
  switch (action) {
    case 'minimize':
      win.minimize()
      break
    case 'maximize':
      win.isMaximized() ?
        win.unmaximize() : win.maximize()
      break
    case 'close':
      win.close()
      break
  }
})

// ä¸»åŠ¨å‘é€æ¶ˆæ¯åˆ°æ¸²æŸ“è¿›ç¨‹
const sendToRenderer = (window, channel, data) => {
  window.webContents.send(channel, data)
}</code></pre>
                </div>
                <div class="code-column">
                  <h5>æ¸²æŸ“è¿›ç¨‹ (renderer.js)</h5>
                  <pre><code>const { ipcRenderer } = require('electron')

// è°ƒç”¨ä¸»è¿›ç¨‹æ–¹æ³•
const getVersion = async () => {
  const version = await ipcRenderer.invoke('get-app-version')
  console.log('App version:', version)
}

// å‘é€æ¶ˆæ¯åˆ°ä¸»è¿›ç¨‹
const minimizeWindow = () => {
  ipcRenderer.send('window-action', 'minimize')
}

// ç›‘å¬ä¸»è¿›ç¨‹æ¶ˆæ¯
ipcRenderer.on('app-update', (event, updateInfo) => {
  showUpdateNotification(updateInfo)
})

// åŒå‘é€šä¿¡ç¤ºä¾‹
const fetchData = async () => {
  try {
    const result = await ipcRenderer.invoke('fetch-data', {
      url: 'https://api.example.com/data'
    })
    return result
  } catch (error) {
    console.error('Failed to fetch data:', error)
  }
}</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- åŸç”ŸUIé›†æˆ -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸ¨</div>
          <h2>åŸç”ŸUIé›†æˆ</h2>
          <div class="process-tag">ä¸»è¿›ç¨‹</div>
        </div>

        <div class="api-content">
          <div class="api-items-grid">
            <div class="api-item">
              <h3>Menu & ContextMenu</h3>
              <p>åˆ›å»ºåŸç”Ÿåº”ç”¨ç¨‹åºèœå•å’Œä¸Šä¸‹æ–‡èœå•ã€‚</p>
              <pre><code>const { Menu, MenuItem } = require('electron')

// åº”ç”¨èœå•
const template = [
  {
    label: 'æ–‡ä»¶',
    submenu: [
      {
        label: 'æ–°å»º',
        accelerator: 'CmdOrCtrl+N',
        click: () => { /* å¤„ç†æ–°å»º */ }
      },
      { type: 'separator' },
      { role: 'quit' }
    ]
  }
]

const menu = Menu.buildFromTemplate(template)
Menu.setApplicationMenu(menu)

// ä¸Šä¸‹æ–‡èœå•
const contextMenu = new Menu()
contextMenu.append(new MenuItem({
  label: 'å¤åˆ¶',
  role: 'copy'
}))

window.addEventListener('contextmenu', (e) => {
  e.preventDefault()
  contextMenu.popup()
})</code></pre>
            </div>

            <div class="api-item">
              <h3>Dialog</h3>
              <p>æ˜¾ç¤ºåŸç”Ÿç³»ç»Ÿå¯¹è¯æ¡†ã€‚</p>
              <pre><code>const { dialog } = require('electron')

// æ–‡ä»¶å¯¹è¯æ¡†
const result = await dialog.showOpenDialog({
  properties: ['openFile', 'multiSelections'],
  filters: [
    { name: 'Images', extensions: ['jpg', 'png', 'gif'] },
    { name: 'All Files', extensions: ['*'] }
  ]
})

// æ¶ˆæ¯å¯¹è¯æ¡†
const response = await dialog.showMessageBox({
  type: 'question',
  buttons: ['æ˜¯', 'å¦'],
  title: 'ç¡®è®¤',
  message: 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿ'
})</code></pre>
            </div>

            <div class="api-item">
              <h3>Tray</h3>
              <p>åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡å’Œèœå•ã€‚</p>
              <pre><code>const { Tray, Menu } = require('electron')
const path = require('path')

let tray = new Tray(path.join(__dirname, 'icon.png'))

const contextMenu = Menu.buildFromTemplate([
  { label: 'æ˜¾ç¤º', click: () => mainWindow.show() },
  { label: 'é€€å‡º', click: () => app.quit() }
])

tray.setToolTip('æˆ‘çš„åº”ç”¨')
tray.setContextMenu(contextMenu)

// ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡
tray.on('click', () => {
  mainWindow.isVisible() ?
    mainWindow.hide() : mainWindow.show()
})</code></pre>
            </div>

            <div class="api-item">
              <h3>Notification</h3>
              <p>æ˜¾ç¤ºåŸç”Ÿç³»ç»Ÿé€šçŸ¥ã€‚</p>
              <pre><code>const { Notification } = require('electron')

// ä¸»è¿›ç¨‹é€šçŸ¥
new Notification({
  title: 'ä»»åŠ¡å®Œæˆ',
  body: 'æ–‡ä»¶å·²æˆåŠŸä¸‹è½½',
  icon: path.join(__dirname, 'icon.png'),
  actions: [
    { type: 'button', text: 'æŸ¥çœ‹' }
  ]
}).show()

// æ¸²æŸ“è¿›ç¨‹é€šçŸ¥ï¼ˆç°ä»£æµè§ˆå™¨APIï¼‰
new window.Notification('æ–°æ¶ˆæ¯', {
  body: 'æ‚¨æ”¶åˆ°ä¸€æ¡æ–°æ¶ˆæ¯',
  icon: '/path/to/icon.png',
  badge: '/path/to/badge.png'
})</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- ç³»ç»Ÿé›†æˆ -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">âš™ï¸</div>
          <h2>ç³»ç»Ÿé›†æˆ</h2>
          <div class="process-tags">
            <span class="process-tag main">ä¸»è¿›ç¨‹</span>
            <span class="process-tag renderer">æ¸²æŸ“è¿›ç¨‹</span>
          </div>
        </div>

        <div class="api-content">
          <div class="api-items-grid">
            <div class="api-item">
              <h3>Shell</h3>
              <p>ä½¿ç”¨é»˜è®¤åº”ç”¨ç¨‹åºç®¡ç†æ–‡ä»¶å’Œ URLã€‚</p>
              <pre><code>const { shell } = require('electron')

// æ‰“å¼€å¤–éƒ¨é“¾æ¥
shell.openExternal('https://electronjs.org')

// åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ˜¾ç¤ºæ–‡ä»¶
shell.showItemInFolder('/path/to/file')

// ç§»åŠ¨æ–‡ä»¶åˆ°å›æ”¶ç«™
shell.trashItem('/path/to/file')

// æ‰“å¼€æ–‡ä»¶
shell.openPath('/path/to/document.pdf')</code></pre>
            </div>

            <div class="api-item">
              <h3>Clipboard</h3>
              <p>ç³»ç»Ÿå‰ªè´´æ¿æ“ä½œã€‚</p>
              <pre><code>const { clipboard } = require('electron')

// å†™å…¥å‰ªè´´æ¿
clipboard.writeText('è¦å¤åˆ¶çš„æ–‡æœ¬')
clipboard.writeHTML('&lt;b&gt;HTMLå†…å®¹&lt;/b&gt;')
clipboard.writeImage(nativeImage)

// è¯»å–å‰ªè´´æ¿
const text = clipboard.readText()
const html = clipboard.readHTML()
const image = clipboard.readImage()

// å‰ªè´´æ¿æ ¼å¼æ£€æŸ¥
const availableFormats = clipboard.availableFormats()</code></pre>
            </div>

            <div class="api-item">
              <h3>Screen</h3>
              <p>è·å–å±å¹•ä¿¡æ¯å’Œå¤šæ˜¾ç¤ºå™¨æ”¯æŒã€‚</p>
              <pre><code>const { screen } = require('electron')

// è·å–æ‰€æœ‰æ˜¾ç¤ºå™¨
const displays = screen.getAllDisplays()
const primaryDisplay = screen.getPrimaryDisplay()

// æ˜¾ç¤ºå™¨ä¿¡æ¯
console.log('æ˜¾ç¤ºå™¨æ•°é‡:', displays.length)
displays.forEach((display, index) => {
  console.log(`æ˜¾ç¤ºå™¨ ${index}:`, {
    bounds: display.bounds,
    workArea: display.workArea,
    scaleFactor: display.scaleFactor,
    size: display.size
  })
})

// ç›‘å¬æ˜¾ç¤ºå™¨å˜åŒ–
screen.on('display-added', (event, newDisplay) => {
  console.log('æ–°æ˜¾ç¤ºå™¨æ·»åŠ :', newDisplay)
})</code></pre>
            </div>

            <div class="api-item">
              <h3>PowerMonitor</h3>
              <p>ç›‘æ§ç”µæºçŠ¶æ€å˜åŒ–ã€‚</p>
              <pre><code>const { powerMonitor } = require('electron')

// ç”µæºçŠ¶æ€äº‹ä»¶
powerMonitor.on('suspend', () => {
  console.log('ç³»ç»Ÿå³å°†æŒ‚èµ·')
  // ä¿å­˜çŠ¶æ€ï¼Œæš‚åœä»»åŠ¡ç­‰
})

powerMonitor.on('resume', () => {
  console.log('ç³»ç»Ÿä»æŒ‚èµ·æ¢å¤')
  // æ¢å¤ä»»åŠ¡ç­‰
})

powerMonitor.on('on-ac', () => {
  console.log('åˆ‡æ¢åˆ°äº¤æµç”µæº')
})

powerMonitor.on('on-battery', () => {
  console.log('åˆ‡æ¢åˆ°ç”µæ± ç”µæº')
})

// è·å–ç³»ç»Ÿç©ºé—²çŠ¶æ€
const idleTime = powerMonitor.getSystemIdleTime()</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- æ–‡ä»¶ç³»ç»Ÿ -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸ“</div>
          <h2>æ–‡ä»¶ç³»ç»Ÿè®¿é—®</h2>
          <div class="process-tags">
            <span class="process-tag main">ä¸»è¿›ç¨‹</span>
            <span class="process-tag renderer">æ¸²æŸ“è¿›ç¨‹</span>
          </div>
        </div>

        <div class="api-content">
          <div class="api-item">
            <h3>æ–‡ä»¶æ“ä½œ</h3>
            <p>é€šè¿‡ä¸»è¿›ç¨‹å®‰å…¨åœ°è®¿é—®æ–‡ä»¶ç³»ç»Ÿã€‚</p>

            <div class="code-example">
              <h4>æ–‡ä»¶è¯»å†™ç¤ºä¾‹</h4>
              <div class="code-columns">
                <div class="code-column">
                  <h5>ä¸»è¿›ç¨‹ (main.js)</h5>
                  <pre><code>const fs = require('fs').promises
const path = require('path')

// å¤„ç†æ–‡ä»¶è¯»å–
ipcMain.handle('read-file', async (event, filePath) => {
  try {
    const data = await fs.readFile(filePath, 'utf-8')
    return { success: true, data }
  } catch (error) {
    return { success: false, error: error.message }
  }
})

// å¤„ç†æ–‡ä»¶ä¿å­˜
ipcMain.handle('save-file', async (event, { filePath, content }) => {
  try {
    await fs.writeFile(filePath, content, 'utf-8')
    return { success: true }
  } catch (error) {
    return { success: false, error: error.message }
  }
})

// æ–‡ä»¶æ“ä½œ
ipcMain.handle('file-operations', async (event, operation) => {
  const { type, source, destination } = operation

  switch (type) {
    case 'copy':
      await fs.copyFile(source, destination)
      break
    case 'move':
      await fs.rename(source, destination)
      break
    case 'delete':
      await fs.unlink(source)
      break
  }
})</code></pre>
                </div>
                <div class="code-column">
                  <h5>æ¸²æŸ“è¿›ç¨‹ (renderer.js)</h5>
                  <pre><code>const { ipcRenderer } = require('electron')

// è¯»å–æ–‡ä»¶
const readConfigFile = async () => {
  const result = await ipcRenderer.invoke('read-file', './config.json')
  if (result.success) {
    return JSON.parse(result.data)
  } else {
    throw new Error(result.error)
  }
}

// ä¿å­˜æ–‡ä»¶
const saveData = async (data) => {
  const result = await ipcRenderer.invoke('save-file', {
    filePath: './data.json',
    content: JSON.stringify(data, null, 2)
  })

  if (!result.success) {
    alert('ä¿å­˜å¤±è´¥: ' + result.error)
  }
}

// æ–‡ä»¶æ“ä½œ
const copyFile = async (source, dest) => {
  await ipcRenderer.invoke('file-operations', {
    type: 'copy',
    source,
    destination: dest
  })
}</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ç¡¬ä»¶è®¿é—® -->
      <section class="api-section">
        <div class="section-header">
          <div class="section-icon">ğŸ”§</div>
          <h2>ç¡¬ä»¶è®¿é—®</h2>
          <div class="process-tags">
            <span class="process-tag main">ä¸»è¿›ç¨‹</span>
            <span class="process-tag renderer">æ¸²æŸ“è¿›ç¨‹</span>
          </div>
        </div>

        <div class="api-content">
          <div class="api-items-grid">
            <div class="api-item">
              <h3>GlobalShortcut</h3>
              <p>æ³¨å†Œå…¨å±€é”®ç›˜å¿«æ·é”®ã€‚</p>
              <pre><code>const { globalShortcut } = require('electron')

// æ³¨å†Œå…¨å±€å¿«æ·é”®
app.whenReady().then(() => {
  // æ³¨å†Œå¿«æ·é”®
  const ret = globalShortcut.register('CommandOrControl+Shift+I', () => {
    console.log('å…¨å±€å¿«æ·é”®è§¦å‘')
    // æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ
  })

  if (!ret) {
    console.log('å¿«æ·é”®æ³¨å†Œå¤±è´¥')
  }

  // æ£€æŸ¥å¿«æ·é”®æ˜¯å¦æ³¨å†Œ
  console.log(globalShortcut.isRegistered('CommandOrControl+Shift+I'))
})

// åº”ç”¨é€€å‡ºæ—¶æ³¨é”€æ‰€æœ‰å¿«æ·é”®
app.on('will-quit', () => {
  globalShortcut.unregisterAll()
})</code></pre>
            </div>

            <div class="api-item">
              <h3>NativeImage</h3>
              <p>å¤„ç†åŸç”Ÿå›¾åƒã€‚</p>
              <pre><code>const { nativeImage } = require('electron')

// ä»æ–‡ä»¶åˆ›å»ºå›¾åƒ
const image = nativeImage.createFromPath('/path/to/image.png')

// ä»Bufferåˆ›å»ºå›¾åƒ
const imageFromBuffer = nativeImage.createFromBuffer(buffer)

// ä»Data URLåˆ›å»ºå›¾åƒ
const imageFromDataUrl = nativeImage.createFromDataURL('data:image/png;base64,...')

// å›¾åƒæ“ä½œ
const resized = image.resize({ width: 100, height: 100 })
const cropped = image.crop({ x: 0, y: 0, width: 50, height: 50 })

// è½¬æ¢ä¸ºä¸åŒæ ¼å¼
const pngBuffer = image.toPNG()
const jpegBuffer = image.toJPEG(85)

// è®¾ç½®æ‰˜ç›˜å›¾æ ‡
tray.setImage(image)</code></pre>
            </div>

            <div class="api-item">
              <h3>DesktopCapturer</h3>
              <p>æ•è·å±å¹•å’Œçª—å£å†…å®¹ã€‚</p>
              <pre><code>const { desktopCapturer } = require('electron')

// åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è·å–å±å¹•æº
desktopCapturer.getSources({
  types: ['screen', 'window'],
  thumbnailSize: { width: 800, height: 600 }
}).then(sources => {
  sources.forEach(source => {
    console.log('æºåç§°:', source.name)
    console.log('æºID:', source.id)
    console.log('ç¼©ç•¥å›¾:', source.thumbnail)

    // åˆ›å»ºè§†é¢‘å…ƒç´ æ˜¾ç¤ºå±å¹•å…±äº«
    if (source.name === 'Entire Screen') {
      navigator.mediaDevices.getUserMedia({
        audio: false,
        video: {
          mandatory: {
            chromeMediaSource: 'desktop',
            chromeMediaSourceId: source.id
          }
        }
      }).then(stream => {
        videoElement.srcObject = stream
      })
    }
  })
})</code></pre>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- å®‰å…¨æœ€ä½³å®è·µ -->
    <section class="best-practices">
      <div class="section-header">
        <h2>å®‰å…¨æœ€ä½³å®è·µ</h2>
        <div class="section-tag">é‡è¦</div>
      </div>

      <div class="practices-grid">
        <div class="practice-item">
          <h3>ä¸Šä¸‹æ–‡éš”ç¦»</h3>
          <p>å¯ç”¨ä¸Šä¸‹æ–‡éš”ç¦»ä»¥é˜²æ­¢é¢„åŠ è½½è„šæœ¬ä¸­çš„æ½œåœ¨å®‰å…¨é£é™©ã€‚</p>
          <pre><code>new BrowserWindow({
  webPreferences: {
    contextIsolation: true,
    preload: path.join(__dirname, 'preload.js')
  }
})</code></pre>
        </div>

        <div class="practice-item">
          <h3>ç¦ç”¨Node.jsé›†æˆ</h3>
          <p>åœ¨ä¸éœ€è¦Node.jsé›†æˆçš„çª—å£ä¸­ç¦ç”¨è¯¥åŠŸèƒ½ã€‚</p>
          <pre><code>new BrowserWindow({
  webPreferences: {
    nodeIntegration: false,
    enableRemoteModule: false
  }
})</code></pre>
        </div>

        <div class="practice-item">
          <h3>å†…å®¹å®‰å…¨ç­–ç•¥</h3>
          <p>å®æ–½CSPæ¥é™åˆ¶èµ„æºåŠ è½½ã€‚</p>
          <pre><code>&lt;meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"&gt;</code></pre>
        </div>

        <div class="practice-item">
          <h3>ä¼šè¯æƒé™</h3>
          <p>é™åˆ¶ä¼šè¯æƒé™ï¼Œåªæˆäºˆå¿…è¦çš„æƒé™ã€‚</p>
          <pre><code>session.defaultSession.setPermissionRequestHandler(
  (webContents, permission, callback) => {
    const allowedPermissions = ['notifications']
    callback(allowedPermissions.includes(permission))
  }
)</code></pre>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
// è¿™é‡Œå¯ä»¥æ·»åŠ ç»„ä»¶é€»è¾‘
</script>

<style lang="less" scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

.electron-apis-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  color: #2c3e50;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  min-height: 100vh;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;

  h1 {
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
  }

  .subtitle {
    font-size: 1.3rem;
    color: #64748b;
    font-weight: 400;
  }
}

.intro-section {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: 2rem;
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  margin-bottom: 2.5rem;
  font-size: 1.1rem;
  color: #475569;
  line-height: 1.7;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.apis-grid {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 3rem;
}

.api-section {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.3);
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
  }
}

.section-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem 2rem;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  border-bottom: 1px solid #e2e8f0;

  .section-icon {
    font-size: 2rem;
  }

  h2 {
    font-size: 1.8rem;
    font-weight: 600;
    color: #1e293b;
    margin: 0;
    flex: 1;
  }
}

.process-tags {
  display: flex;
  gap: 0.5rem;
}

.process-tag {
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  &.main {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #bfdbfe;
  }

  &.renderer {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #bbf7d0;
  }
}

.api-content {
  padding: 2rem;
}

.api-item {
  margin-bottom: 2rem;

  &:last-child {
    margin-bottom: 0;
  }

  h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 0.8rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e2e8f0;
  }

  p {
    color: #64748b;
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }
}

.api-items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 1.5rem;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }

  .api-item {
    background: #f8fafc;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    margin-bottom: 0;

    h3 {
      font-size: 1.2rem;
      border-bottom: 1px solid #e2e8f0;
    }
  }
}

.code-example {
  background: #f8fafc;
  border-radius: 12px;
  overflow: hidden;
  margin-bottom: 1.5rem;
  border: 1px solid #e2e8f0;

  h4 {
    background: #e2e8f0;
    padding: 1rem 1.5rem;
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: #475569;
    border-bottom: 1px solid #cbd5e1;
  }
}

.code-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;

  @media (max-width: 1024px) {
    grid-template-columns: 1fr;
  }

  .code-column {
    h5 {
      background: #e2e8f0;
      padding: 0.8rem 1rem;
      margin: 0;
      font-size: 0.9rem;
      font-weight: 600;
      color: #475569;
      border-bottom: 1px solid #cbd5e1;
    }
  }
}

pre {
  margin: 0;
  padding: 1.5rem;
  background: #1e293b;
  overflow-x: auto;

  code {
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 0.85rem;
    color: #e2e8f0;
    line-height: 1.5;
  }
}

.feature-list {
  background: #f0f9ff;
  padding: 1.5rem;
  border-radius: 12px;
  border-left: 4px solid #0ea5e9;

  h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #0369a1;
    margin-bottom: 1rem;
  }

  ul {
    color: #475569;
    padding-left: 1.2rem;

    li {
      margin-bottom: 0.5rem;
      line-height: 1.5;
    }
  }
}

.best-practices {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.3);

  .section-header {
    background: none;
    padding: 0 0 1.5rem;
    border-bottom: 2px solid #e2e8f0;

    h2 {
      font-size: 2rem;
      color: #1e293b;
    }

    .section-tag {
      background: #fef3c7;
      color: #92400e;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 600;
      border: 1px solid #fcd34d;
    }
  }
}

.practices-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.practice-item {
  background: #f8fafc;
  padding: 1.5rem;
  border-radius: 12px;
  border: 1px solid #e2e8f0;

  h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: #334155;
    margin-bottom: 0.8rem;
  }

  p {
    color: #64748b;
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  pre {
    border-radius: 8px;
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .electron-apis-container {
    padding: 1rem;
  }

  .page-header h1 {
    font-size: 2.2rem;
  }

  .api-content {
    padding: 1.5rem;
  }

  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.8rem;

    h2 {
      font-size: 1.5rem;
    }
  }

  .api-items-grid {
    grid-template-columns: 1fr;
  }

  .code-columns {
    grid-template-columns: 1fr;
  }

  .practices-grid {
    grid-template-columns: 1fr;
  }
}
</style>
