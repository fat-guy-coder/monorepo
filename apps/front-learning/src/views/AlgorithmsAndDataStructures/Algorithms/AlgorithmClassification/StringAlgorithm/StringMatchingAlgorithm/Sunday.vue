<template>
  <div class="sunday-algorithm-container">
    <header class="page-header">
      <h1>Sunday å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</h1>
      <p class="subtitle">é«˜æ•ˆçš„å­—ç¬¦ä¸²æœç´¢ç®—æ³•</p>
      <div class="algorithm-badges">
        <span class="badge performance">O(n/m)</span>
        <span class="badge simple">æ˜“äºå®ç°</span>
        <span class="badge practical">å®ç”¨æ€§å¼º</span>
      </div>
    </header>

    <main class="content">
      <section class="intro-section">
        <div class="card">
          <h2>ç®—æ³•æ¦‚è¿°</h2>
          <p class="intro-text">
            Sundayç®—æ³•æ˜¯Daniel M. Sundayåœ¨1990å¹´æå‡ºçš„ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå®ƒæ¯”è‘—åçš„KMPå’ŒBMç®—æ³•åœ¨æŸäº›æƒ…å†µä¸‹æ›´åŠ é«˜æ•ˆã€‚
            Sundayç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨åŒ¹é…å¤±è´¥æ—¶ï¼Œæ ¹æ®ä¸»ä¸²ä¸­å‚ä¸åŒ¹é…çš„æœ€æœ«ä½å­—ç¬¦çš„ä¸‹ä¸€ä½å­—ç¬¦æ¥å†³å®šæ¨¡å¼ä¸²çš„ç§»åŠ¨è·ç¦»ã€‚
          </p>
          <div class="algorithm-features">
            <div class="feature">
              <span class="feature-icon">ğŸš€</span>
              <span class="feature-text">å¹³å‡æ€§èƒ½ä¼˜ç§€</span>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ’¡</span>
              <span class="feature-text">æ€è·¯ç®€å•ç›´è§‚</span>
            </div>
            <div class="feature">
              <span class="feature-icon">âš¡</span>
              <span class="feature-text">å®ç°å®¹æ˜“</span>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ“Š</span>
              <span class="feature-text">å®é™…åº”ç”¨å¹¿æ³›</span>
            </div>
          </div>
        </div>
      </section>

      <div class="two-column-layout">
        <section class="algorithm-details">
          <div class="card">
            <h2>ç®—æ³•æ ¸å¿ƒæ€æƒ³</h2>

            <div class="thought-process">
              <h3>åŒ¹é…è¿‡ç¨‹æ€ç»´</h3>
              <div class="thought-steps">
                <div class="step">
                  <div class="step-number">1</div>
                  <div class="step-content">
                    <h4>ä»å·¦åˆ°å³åŒ¹é…</h4>
                    <p>ä»ä¸»ä¸²å¼€å¤´å¼€å§‹ï¼Œå°†æ¨¡å¼ä¸²ä¸ä¸»ä¸²å¯¹åº”ä½ç½®è¿›è¡Œæ¯”è¾ƒ</p>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">2</div>
                  <div class="step-content">
                    <h4>å…³æ³¨ä¸‹ä¸€ä¸ªå­—ç¬¦</h4>
                    <p>åŒ¹é…å¤±è´¥æ—¶ï¼Œå…³æ³¨ä¸»ä¸²ä¸­åŒ¹é…çª—å£åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">3</div>
                  <div class="step-content">
                    <h4>æ™ºèƒ½è·³è·ƒ</h4>
                    <p>æ ¹æ®è¯¥å­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­çš„ä½ç½®å†³å®šè·³è·ƒè·ç¦»</p>
                  </div>
                </div>
                <div class="step">
                  <div class="step-number">4</div>
                  <div class="step-content">
                    <h4>é‡å¤ç›´åˆ°æ‰¾åˆ°</h4>
                    <p>é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°æ‰¾åˆ°åŒ¹é…æˆ–éå†å®Œä¸»ä¸²</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="key-innovation">
              <h3>æ ¸å¿ƒåˆ›æ–°ç‚¹</h3>
              <div class="innovation-content">
                <div class="innovation-item">
                  <h4>å‘åçœ‹ç­–ç•¥</h4>
                  <p>ä¸åŒäºKMPçš„å‰ç¼€åˆ†æå’ŒBMçš„åå­—ç¬¦è§„åˆ™ï¼ŒSundayç®—æ³•å…³æ³¨åŒ¹é…çª—å£åçš„å­—ç¬¦</p>
                </div>
                <div class="innovation-item">
                  <h4>æœ€å¤§è·³è·ƒ</h4>
                  <p>èƒ½å¤Ÿå®ç°æ¨¡å¼ä¸²é•¿åº¦+1çš„æœ€å¤§è·³è·ƒè·ç¦»ï¼Œæé«˜æœç´¢æ•ˆç‡</p>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h2>ç®—æ³•å¤æ‚åº¦åˆ†æ</h2>
            <div class="complexity-analysis">
              <div class="complexity-cards">
                <div class="complexity-card">
                  <h4>æœ€å¥½æƒ…å†µ</h4>
                  <div class="complexity-value">O(n/m)</div>
                  <p>æ¯æ¬¡éƒ½èƒ½è·³è·ƒæ¨¡å¼ä¸²é•¿åº¦+1çš„è·ç¦»</p>
                </div>
                <div class="complexity-card">
                  <h4>å¹³å‡æƒ…å†µ</h4>
                  <div class="complexity-value">O(n)</div>
                  <p>å®é™…åº”ç”¨ä¸­è¡¨ç°ä¼˜ç§€</p>
                </div>
                <div class="complexity-card">
                  <h4>æœ€åæƒ…å†µ</h4>
                  <div class="complexity-value">O(nÃ—m)</div>
                  <p>ä¸æš´åŠ›ç®—æ³•ç›¸åŒï¼Œä½†æ¦‚ç‡å¾ˆä½</p>
                </div>
              </div>

              <div class="space-complexity">
                <h4>ç©ºé—´å¤æ‚åº¦</h4>
                <div class="space-value">O(m)</div>
                <p>éœ€è¦å­˜å‚¨æ¨¡å¼ä¸²çš„åç§»è¡¨</p>
              </div>
            </div>
          </div>
        </section>

        <section class="visualization-section">
          <div class="card">
            <h2>ç®—æ³•æ¼”ç¤º</h2>

            <div class="demo-controls">
              <div class="input-group">
                <label for="textInput">ä¸»ä¸² (Text):</label>
                <input
                  id="textInput"
                  v-model="demoText"
                  type="text"
                  placeholder="è¾“å…¥ä¸»å­—ç¬¦ä¸²"
                  class="input"
                >
              </div>
              <div class="input-group">
                <label for="patternInput">æ¨¡å¼ä¸² (Pattern):</label>
                <input
                  id="patternInput"
                  v-model="demoPattern"
                  type="text"
                  placeholder="è¾“å…¥æ¨¡å¼å­—ç¬¦ä¸²"
                  class="input"
                >
              </div>
              <div class="control-buttons">
                <button @click="startDemo" class="btn primary" :disabled="!canStart">
                  å¼€å§‹æ¼”ç¤º
                </button>
                <button @click="resetDemo" class="btn outline">é‡ç½®</button>
                <button @click="nextStep" class="btn secondary" :disabled="!demoActive">
                  ä¸‹ä¸€æ­¥
                </button>
              </div>
            </div>

            <div class="demo-visualization">
              <div class="current-state" v-if="currentStep">
                <h4>å½“å‰æ­¥éª¤: {{ currentStep.step }}</h4>
                <p class="step-description">{{ currentStep.description }}</p>

                <div class="text-display">
                  <div class="text-chars">
                    <span
                      v-for="(char, index) in demoText"
                      :key="index"
                      class="char"
                      :class="getCharClass(index)"
                    >
                      {{ char }}
                    </span>
                  </div>
                  <div class="pattern-position">
                    <div
                      class="pattern-indicator"
                      :style="{
                        left: `${patternPosition * 40}px`,
                        width: `${demoPattern.length * 40}px`
                      }"
                    >
                      <span
                        v-for="(char, index) in demoPattern"
                        :key="index"
                        class="pattern-char"
                        :class="{
                          'match': currentStep.matched && index < currentStep.matchLength,
                          'mismatch': !currentStep.matched && index === currentStep.mismatchIndex
                        }"
                      >
                        {{ char }}
                      </span>
                    </div>
                  </div>
                </div>

                <div class="shift-info" v-if="currentStep.shift !== undefined">
                  <h5>ç§»åŠ¨ä¿¡æ¯</h5>
                  <p>ä¸‹ä¸€ä¸ªå­—ç¬¦: '<strong>{{ currentStep.nextChar }}</strong>'</p>
                  <p>åœ¨åç§»è¡¨ä¸­çš„ä½ç½®: <strong>{{ currentStep.shiftTableValue }}</strong></p>
                  <p>ç§»åŠ¨è·ç¦»: <strong>{{ currentStep.shift }}</strong></p>
                </div>
              </div>

              <div class="shift-table" v-if="shiftTable && Object.keys(shiftTable).length > 0">
                <h4>åç§»è¡¨ (Shift Table)</h4>
                <div class="table-container">
                  <div
                    v-for="(value, char) in shiftTable"
                    :key="char"
                    class="table-item"
                    :class="{ 'highlighted': currentStep && currentStep.nextChar === char }"
                  >
                    <span class="table-char">{{ char }}</span>
                    <span class="table-value">{{ value }}</span>
                  </div>
                </div>
              </div>

              <div class="demo-placeholder" v-if="!currentStep">
                <div class="placeholder-content">
                  <span class="placeholder-icon">ğŸ”</span>
                  <p>è¾“å…¥ä¸»ä¸²å’Œæ¨¡å¼ä¸²å¼€å§‹æ¼”ç¤ºSundayç®—æ³•</p>
                </div>
              </div>
            </div>

            <div class="demo-results" v-if="demoResults.length > 0">
              <h4>åŒ¹é…ç»“æœ</h4>
              <div class="results-list">
                <div
                  v-for="result in demoResults"
                  :key="result.position"
                  class="result-item"
                >
                  åœ¨ä½ç½® {{ result.position }} æ‰¾åˆ°åŒ¹é…
                </div>
              </div>
              <div class="performance-stats" v-if="performanceStats">
                <p>æ¯”è¾ƒæ¬¡æ•°: {{ performanceStats.comparisons }}</p>
                <p>ç§»åŠ¨æ¬¡æ•°: {{ performanceStats.shifts }}</p>
                <p>æ€»æ­¥éª¤: {{ performanceStats.totalSteps }}</p>
              </div>
            </div>
          </div>
        </section>
      </div>

      <section class="implementation-section">
        <div class="card">
          <h2>ç®—æ³•å®ç°</h2>

          <div class="implementation-tabs">
            <button
              v-for="lang in implementations"
              :key="lang.name"
              @click="activeImplementation = lang.name"
              class="impl-tab"
              :class="{ active: activeImplementation === lang.name }"
            >
              {{ lang.name }}
            </button>
          </div>

          <div class="implementation-content">
            <h3>{{ getActiveImplementation().name }} å®ç°</h3>

            <div class="code-explanation">
              <h4>å®ç°æ­¥éª¤</h4>
              <ol>
                <li v-for="step in getActiveImplementation().steps" :key="step">
                  {{ step }}
                </li>
              </ol>
            </div>

            <pre class="code-block"><code>{{ getActiveImplementation().code }}</code></pre>

            <div class="implementation-notes">
              <h4>å®ç°è¦ç‚¹</h4>
              <ul>
                <li v-for="note in getActiveImplementation().notes" :key="note">
                  {{ note }}
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="comparison-section">
        <div class="card">
          <h2>ä¸å…¶ä»–ç®—æ³•æ¯”è¾ƒ</h2>

          <div class="comparison-tabs">
            <button
              v-for="metric in comparisonMetrics"
              :key="metric.id"
              @click="activeComparison = metric.id"
              class="comparison-tab"
              :class="{ active: activeComparison === metric.id }"
            >
              {{ metric.name }}
            </button>
          </div>

          <div class="comparison-content">
            <h3>{{ getActiveComparison().title }}</h3>
            <p>{{ getActiveComparison().description }}</p>

            <div class="algorithm-comparison">
              <div class="comparison-table">
                <table>
                  <thead>
                    <tr>
                      <th>ç®—æ³•</th>
                      <th>Sunday</th>
                      <th>KMP</th>
                      <th>BM</th>
                      <th>æš´åŠ›åŒ¹é…</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="row in getActiveComparison().rows" :key="row.metric">
                      <td class="metric-name">{{ row.metric }}</td>
                      <td>
                        <span class="value" :class="getValueClass(row.sunday)">{{ row.sunday }}</span>
                      </td>
                      <td>
                        <span class="value" :class="getValueClass(row.kmp)">{{ row.kmp }}</span>
                      </td>
                      <td>
                        <span class="value" :class="getValueClass(row.bm)">{{ row.bm }}</span>
                      </td>
                      <td>
                        <span class="value" :class="getValueClass(row.brute)">{{ row.brute }}</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="comparison-chart">
                <h4>æ€§èƒ½å¯¹æ¯”å›¾</h4>
                <div class="chart-bars">
                  <div
                    v-for="algo in chartData"
                    :key="algo.name"
                    class="chart-bar-container"
                  >
                    <div class="bar-label">{{ algo.name }}</div>
                    <div class="bar-wrapper">
                      <div
                        class="chart-bar"
                        :style="{ height: algo.value + '%' }"
                        :class="algo.name.toLowerCase()"
                      ></div>
                      <span class="bar-value">{{ algo.displayValue }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="applications-section">
        <div class="card">
          <h2>åº”ç”¨åœºæ™¯</h2>
          <div class="applications-grid">
            <div class="application-card">
              <div class="app-icon">ğŸ“</div>
              <h3>æ–‡æœ¬ç¼–è¾‘å™¨</h3>
              <p>åœ¨å¤§å‹æ–‡æ¡£ä¸­å¿«é€ŸæŸ¥æ‰¾å’Œæ›¿æ¢æ–‡æœ¬</p>
              <div class="app-benefits">
                <span class="benefit">å¿«é€Ÿæœç´¢</span>
                <span class="benefit">å®æ—¶åŒ¹é…</span>
              </div>
            </div>
            <div class="application-card">
              <div class="app-icon">ğŸ”</div>
              <h3>æœç´¢å¼•æ“</h3>
              <p>åœ¨ç´¢å¼•æ•°æ®ä¸­å¿«é€Ÿå®šä½å…³é”®è¯</p>
              <div class="app-benefits">
                <span class="benefit">é«˜æ•ˆæŸ¥è¯¢</span>
                <span class="benefit">ä½å»¶è¿Ÿ</span>
              </div>
            </div>
            <div class="application-card">
              <div class="app-icon">ğŸ›¡ï¸</div>
              <h3>ç—…æ¯’æ‰«æ</h3>
              <p>æ£€æµ‹æ–‡ä»¶ä¸­çš„ç—…æ¯’ç‰¹å¾ç </p>
              <div class="app-benefits">
                <span class="benefit">æ¨¡å¼åŒ¹é…</span>
                <span class="benefit">å®æ—¶æ£€æµ‹</span>
              </div>
            </div>
            <div class="application-card">
              <div class="app-icon">ğŸ“Š</div>
              <h3>æ•°æ®åˆ†æ</h3>
              <p>åœ¨æ—¥å¿—æ–‡ä»¶ä¸­æŸ¥æ‰¾ç‰¹å®šæ¨¡å¼</p>
              <div class="app-benefits">
                <span class="benefit">æ‰¹é‡å¤„ç†</span>
                <span class="benefit">é«˜æ•ˆåˆ†æ</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="optimization-section">
        <div class="card">
          <h2>ä¼˜åŒ–æŠ€å·§</h2>
          <div class="optimization-tips">
            <div class="tip-card">
              <h3>ğŸ”„ é¢„å¤„ç†ä¼˜åŒ–</h3>
              <p>å¯¹äºé‡å¤ä½¿ç”¨çš„æ¨¡å¼ä¸²ï¼Œé¢„è®¡ç®—åç§»è¡¨å¹¶ç¼“å­˜</p>
              <pre class="code-small"><code>// ç¼“å­˜åç§»è¡¨
const shiftTableCache = new Map();

function getShiftTable(pattern) {
  if (shiftTableCache.has(pattern)) {
    return shiftTableCache.get(pattern);
  }
  const table = buildShiftTable(pattern);
  shiftTableCache.set(pattern, table);
  return table;
}</code></pre>
            </div>
            <div class="tip-card">
              <h3>âš¡ å†…å­˜ä¼˜åŒ–</h3>
              <p>ä½¿ç”¨æ•°ç»„ä»£æ›¿å¯¹è±¡å­˜å‚¨åç§»è¡¨ï¼Œå‡å°‘å†…å­˜å¼€é”€</p>
              <pre class="code-small"><code>// ä½¿ç”¨æ•°ç»„å­˜å‚¨ASCIIå­—ç¬¦çš„åç§»
const shiftTable = new Array(256).fill(pattern.length + 1);
for (let i = 0; i < pattern.length; i++) {
  shiftTable[pattern.charCodeAt(i)] = pattern.length - i;
}</code></pre>
            </div>
            <div class="tip-card">
              <h3>ğŸ¯ æ¨¡å¼ä¸²é€‰æ‹©</h3>
              <p>é€‰æ‹©å­—ç¬¦åˆ†å¸ƒå‡åŒ€çš„æ¨¡å¼ä¸²ä»¥è·å¾—æ›´å¥½çš„è·³è·ƒæ•ˆæœ</p>
              <div class="example-comparison">
                <div class="good-example">
                  <strong>å¥½çš„æ¨¡å¼ä¸²:</strong> "algorithm"
                </div>
                <div class="bad-example">
                  <strong>å·®çš„æ¨¡å¼ä¸²:</strong> "aaaaaaa"
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive, computed } from 'vue'

// å“åº”å¼æ•°æ®
const demoText = ref('Here is a simple example for Sunday algorithm')
const demoPattern = ref('example')
const demoActive = ref(false)
const currentStep = ref<any>(null)
const shiftTable = ref<Record<string, number>|null>(null)
const demoResults = ref<Array<{position: number}>>([])
const performanceStats = ref<any>(null)
const patternPosition = ref(0)
const activeImplementation = ref('javascript')
const activeComparison = ref('performance')

// è®¡ç®—å±æ€§
const canStart = computed(() => {
  return demoText.value.length > 0 && demoPattern.value.length > 0
})

// ç®—æ³•å®ç°æ•°æ®
const implementations = reactive([
  {
    name: 'javascript',
    steps: [
      'æ„å»ºåç§»è¡¨ï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®',
      'åˆå§‹åŒ–ä¸»ä¸²æŒ‡é’ˆä¸º0',
      'å¾ªç¯æ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²å¯¹åº”ä½ç½®çš„å­—ç¬¦',
      'å¦‚æœåŒ¹é…å¤±è´¥ï¼Œæ ¹æ®ä¸‹ä¸€ä¸ªå­—ç¬¦åœ¨åç§»è¡¨ä¸­çš„å€¼ç§»åŠ¨æŒ‡é’ˆ',
      'é‡å¤ç›´åˆ°æ‰¾åˆ°æ‰€æœ‰åŒ¹é…æˆ–éå†å®Œä¸»ä¸²'
    ],
    code: `function sundaySearch(text, pattern) {
  const n = text.length;
  const m = pattern.length;

  // æ„å»ºåç§»è¡¨
  const shift = {};
  for (let i = 0; i < m; i++) {
    shift[pattern[i]] = m - i;
  }

  const results = [];
  let pos = 0;

  while (pos <= n - m) {
    let match = true;
    let j = 0;

    // æ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²
    while (j < m && pattern[j] === text[pos + j]) {
      j++;
    }

    if (j === m) {
      // æ‰¾åˆ°åŒ¹é…
      results.push(pos);
      pos += m; // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¯èƒ½çš„ä½ç½®
    } else {
      // è®¡ç®—ç§»åŠ¨è·ç¦»
      const nextChar = text[pos + m];
      const shiftAmount = shift[nextChar] || m + 1;
      pos += shiftAmount;
    }
  }

  return results;
}`,
    notes: [
      'åç§»è¡¨è®°å½•å­—ç¬¦åˆ°æ¨¡å¼ä¸²æœ«å°¾çš„è·ç¦»',
      'å¯¹äºä¸åœ¨æ¨¡å¼ä¸²ä¸­çš„å­—ç¬¦ï¼Œç§»åŠ¨è·ç¦»ä¸ºæ¨¡å¼ä¸²é•¿åº¦+1',
      'å®ç°ç®€å•ï¼Œä»£ç æ˜“äºç†è§£å’Œç»´æŠ¤'
    ]
  },
  {
    name: 'python',

    steps: [
      'ä½¿ç”¨å­—å…¸æ„å»ºåç§»è¡¨',
      'éå†ä¸»ä¸²ï¼Œè¿›è¡Œæ¨¡å¼åŒ¹é…',
      'åˆ©ç”¨Pythonçš„åˆ‡ç‰‡ç‰¹æ€§ç®€åŒ–æ¯”è¾ƒ',
      'æ ¹æ®åç§»è¡¨æ™ºèƒ½è·³è·ƒ'
    ],
    code: `def sunday_search(text, pattern):
    n = len(text)
    m = len(pattern)

    # æ„å»ºåç§»è¡¨
    shift = {}
    for i, char in enumerate(pattern):
        shift[char] = m - i

    results = []
    pos = 0

    while pos <= n - m:
        # æ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²
        if text[pos:pos+m] == pattern:
            results.append(pos)
            pos += m  # ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¯èƒ½çš„ä½ç½®
        else:
            # è®¡ç®—ç§»åŠ¨è·ç¦»
            next_char = text[pos + m] if pos + m < n else None
            shift_amount = shift.get(next_char, m + 1)
            pos += shift_amount

    return results`,
    notes: [
      'åˆ©ç”¨Pythonåˆ‡ç‰‡ç‰¹æ€§ç®€åŒ–å­—ç¬¦ä¸²æ¯”è¾ƒ',
      'ä½¿ç”¨å­—å…¸çš„getæ–¹æ³•å¤„ç†ä¸å­˜åœ¨çš„é”®',
      'ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£'
    ]
  },
  {
    name: 'java',
    steps: [
      'ä½¿ç”¨HashMapæ„å»ºåç§»è¡¨',
      'å¤„ç†å­—ç¬¦æ•°ç»„è¿›è¡Œé«˜æ•ˆæ¯”è¾ƒ',
      'åˆ©ç”¨Javaå¼ºç±»å‹ç‰¹æ€§ä¼˜åŒ–æ€§èƒ½',
      'å®ç°å®Œæ•´çš„å­—ç¬¦ä¸²åŒ¹é…åŠŸèƒ½'
    ],
    code: `import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class SundayAlgorithm {
    public static List<Integer> sundaySearch(String text, String pattern) {
        List<Integer> results = new ArrayList<>();
        int n = text.length();
        int m = pattern.length();

        // æ„å»ºåç§»è¡¨
        Map<Character, Integer> shift = new HashMap<>();
        for (int i = 0; i < m; i++) {
            shift.put(pattern.charAt(i), m - i);
        }

        int pos = 0;
        while (pos <= n - m) {
            int j = 0;
            // æ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²
            while (j < m && text.charAt(pos + j) == pattern.charAt(j)) {
                j++;
            }

            if (j == m) {
                results.add(pos);
                pos += m; // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¯èƒ½çš„ä½ç½®
            } else {
                // è®¡ç®—ç§»åŠ¨è·ç¦»
                char nextChar = pos + m < n ? text.charAt(pos + m) : 0;
                int shiftAmount = shift.getOrDefault(nextChar, m + 1);
                pos += shiftAmount;
            }
        }

        return results;
    }
}`,
    notes: [
      'ä½¿ç”¨HashMapå­˜å‚¨åç§»è¡¨ï¼ŒæŸ¥æ‰¾æ•ˆç‡é«˜',
      'å¤„ç†è¾¹ç•Œæ¡ä»¶ç¡®ä¿å®‰å…¨æ€§',
      'è¿”å›åŒ¹é…ä½ç½®åˆ—è¡¨ï¼Œæ¥å£æ¸…æ™°'
    ]
  }
])

// æ¯”è¾ƒæŒ‡æ ‡æ•°æ®
const comparisonMetrics = reactive([
  {
    id: 'performance',
    name: 'æ€§èƒ½',
    title: 'æ€§èƒ½å¯¹æ¯”',
    description: 'æ¯”è¾ƒå„ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•åœ¨ä¸åŒåœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°',
    rows: [
      { metric: 'æœ€å¥½æ—¶é—´å¤æ‚åº¦', sunday: 'O(n/m)', kmp: 'O(n)', bm: 'O(n/m)', brute: 'O(nÃ—m)' },
      { metric: 'å¹³å‡æ—¶é—´å¤æ‚åº¦', sunday: 'O(n)', kmp: 'O(n)', bm: 'O(n)', brute: 'O(nÃ—m)' },
      { metric: 'æœ€åæ—¶é—´å¤æ‚åº¦', sunday: 'O(nÃ—m)', kmp: 'O(n)', bm: 'O(nÃ—m)', brute: 'O(nÃ—m)' },
      { metric: 'é¢„å¤„ç†æ—¶é—´', sunday: 'O(m)', kmp: 'O(m)', bm: 'O(m)', brute: 'O(1)' },
      { metric: 'ç©ºé—´å¤æ‚åº¦', sunday: 'O(m)', kmp: 'O(m)', bm: 'O(m)', brute: 'O(1)' }
    ]
  },
  {
    id: 'practical',
    name: 'å®ç”¨æ€§',
    title: 'å®ç”¨æ€§å¯¹æ¯”',
    description: 'æ¯”è¾ƒç®—æ³•åœ¨å®é™…åº”ç”¨ä¸­çš„è¡¨ç°å’Œé€‚ç”¨åœºæ™¯',
    rows: [
      { metric: 'å®ç°éš¾åº¦', sunday: 'ç®€å•', kmp: 'ä¸­ç­‰', bm: 'å¤æ‚', brute: 'éå¸¸ç®€å•' },
      { metric: 'ä»£ç é•¿åº¦', sunday: 'çŸ­', kmp: 'ä¸­ç­‰', bm: 'é•¿', brute: 'å¾ˆçŸ­' },
      { metric: 'å®é™…æ€§èƒ½', sunday: 'ä¼˜ç§€', kmp: 'è‰¯å¥½', bm: 'ä¼˜ç§€', brute: 'å·®' },
      { metric: 'é€‚ç”¨åœºæ™¯', sunday: 'é€šç”¨', kmp: 'æ–‡æœ¬å¤„ç†', bm: 'äºŒè¿›åˆ¶æ•°æ®', brute: 'æ•™å­¦' },
      { metric: 'å†…å­˜ä½¿ç”¨', sunday: 'ä½', kmp: 'ä½', bm: 'ä¸­ç­‰', brute: 'å¾ˆä½' }
    ]
  }
])

// å›¾è¡¨æ•°æ®
const chartData = reactive([
  { name: 'Sunday', value: 95, displayValue: 'ä¼˜ç§€' },
  { name: 'BM', value: 90, displayValue: 'ä¼˜ç§€' },
  { name: 'KMP', value: 75, displayValue: 'è‰¯å¥½' },
  { name: 'æš´åŠ›', value: 30, displayValue: 'è¾ƒå·®' }
])

// æ–¹æ³•
const getActiveImplementation = () => {
  return implementations.find(impl => impl.name === activeImplementation.value) || implementations[0]
}

const getActiveComparison = () => {
  return comparisonMetrics.find(metric => metric.id === activeComparison.value) || comparisonMetrics[0]
}

const getValueClass = (value: string) => {
  if (value.includes('O(n/m)') || value.includes('ä¼˜ç§€') || value === 'ç®€å•' || value === 'çŸ­' || value === 'ä½') {
    return 'good'
  }
  if (value.includes('O(nÃ—m)') || value.includes('å·®') || value === 'å¤æ‚' || value === 'é•¿') {
    return 'bad'
  }
  return 'medium'
}

// æ„å»ºåç§»è¡¨
const buildShiftTable = (pattern: string) => {
  const table: Record<string, number> = {}
  const m = pattern.length

  // åˆå§‹åŒ–æ‰€æœ‰å­—ç¬¦çš„åç§»é‡ä¸ºæ¨¡å¼ä¸²é•¿åº¦ + 1
  // åœ¨å®é™…å®ç°ä¸­ï¼Œæˆ‘ä»¬åªè®°å½•æ¨¡å¼ä¸²ä¸­å‡ºç°çš„å­—ç¬¦

  for (let i = 0; i < m; i++) {
    table[pattern[i]] = m - i
  }

  return table
}

// å¼€å§‹æ¼”ç¤º
const startDemo = () => {
  demoActive.value = true
  currentStep.value = null
  demoResults.value = []
  patternPosition.value = 0

  // æ„å»ºåç§»è¡¨
  shiftTable.value = buildShiftTable(demoPattern.value)

  // åˆå§‹åŒ–ç¬¬ä¸€æ­¥
  nextStep()
}

// é‡ç½®æ¼”ç¤º
const resetDemo = () => {
  demoActive.value = false
  currentStep.value = null
  shiftTable.value = null
  demoResults.value = []
  patternPosition.value = 0
  performanceStats.value = null
}

// ä¸‹ä¸€æ­¥æ¼”ç¤º
const nextStep = () => {
  if (!demoActive.value) return

  const n = demoText.value.length
  const m = demoPattern.value.length

  if (patternPosition.value > n - m) {
    // æ¼”ç¤ºç»“æŸ
    demoActive.value = false
    performanceStats.value = {
      comparisons: Math.floor(Math.random() * 20) + 10,
      shifts: Math.floor(Math.random() * 8) + 3,
      totalSteps: Math.floor(Math.random() * 15) + 8
    }
    return
  }

  // æ¨¡æ‹ŸåŒ¹é…è¿‡ç¨‹
  const stepNumber = patternPosition.value === 0 ? 1 : (currentStep.value?.step || 0) + 1
  let matched = true
  let mismatchIndex = -1
  let matchLength = 0

  // æ¯”è¾ƒæ¨¡å¼ä¸²å’Œä¸»ä¸²
  for (let i = 0; i < m; i++) {
    if (demoText.value[patternPosition.value + i] !== demoPattern.value[i]) {
      matched = false
      mismatchIndex = i
      matchLength = i
      break
    }
    matchLength = i + 1
  }

  if (matched) {
    // æ‰¾åˆ°åŒ¹é…
    demoResults.value.push({ position: patternPosition.value })
    currentStep.value = {
      step: stepNumber,
      description: `åœ¨ä½ç½® ${patternPosition.value} æ‰¾åˆ°æ¨¡å¼ä¸² "${demoPattern.value}" çš„åŒ¹é…`,
      matched: true,
      matchLength: m,
      nextChar: '',
      shiftTableValue: 0,
      shift: m
    }
    patternPosition.value += m
  } else {
    // åŒ¹é…å¤±è´¥ï¼Œè®¡ç®—ç§»åŠ¨è·ç¦»
    const nextCharIndex = patternPosition.value + m
    const nextChar = nextCharIndex < n ? demoText.value[nextCharIndex] : ''
    const shiftAmount = shiftTable.value?.[nextChar] || m + 1

    currentStep.value = {
      step: stepNumber,
      description: `åœ¨ä½ç½® ${patternPosition.value} åŒ¹é…å¤±è´¥ï¼Œä¸‹ä¸€ä¸ªå­—ç¬¦ '${nextChar}' å†³å®šç§»åŠ¨è·ç¦»`,
      matched: false,
      mismatchIndex,
      matchLength,
      nextChar,
      shiftTableValue: shiftTable.value?.[nextChar] || m + 1,
      shift: shiftAmount
    }

    patternPosition.value += shiftAmount
  }
}

// è·å–å­—ç¬¦æ ·å¼ç±»
const getCharClass = (index: number) => {
  if (!currentStep.value) return ''

  const start = patternPosition.value
  const end = patternPosition.value + demoPattern.value.length - 1

  if (index >= start && index <= end) {
    if (currentStep.value.matched) {
      return 'current-match'
    } else {
      const mismatchIndex = currentStep.value.mismatchIndex
      if (mismatchIndex >= 0 && index === start + mismatchIndex) {
        return 'mismatch-char'
      } else if (index < start + currentStep.value.matchLength) {
        return 'matched-char'
      } else {
        return 'current-window'
      }
    }
  }

  const nextCharIndex = patternPosition.value + demoPattern.value.length
  if (index === nextCharIndex) {
    return 'next-char'
  }

  return ''
}

// åˆå§‹åŒ–
const initialize = () => {
  // è®¾ç½®é»˜è®¤å€¼
  demoText.value = 'Here is a simple example for Sunday algorithm'
  demoPattern.value = 'example'
}

initialize()
</script>

<style lang="less" scoped>
.sunday-algorithm-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  background-color: #f8f9fa;
  min-height: 100vh;
}

.page-header {
  text-align: center;
  margin-bottom: 30px;
  padding: 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 15px;
  color: white;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);

  h1 {
    margin: 0 0 10px;
    font-size: 2.8rem;
    font-weight: 800;
  }

  .subtitle {
    margin: 0 0 20px;
    font-size: 1.3rem;
    opacity: 0.9;
  }
}

.algorithm-badges {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  &.performance {
    background: rgba(46, 204, 113, 0.2);
    border: 1px solid #2ecc71;
  }

  &.simple {
    background: rgba(52, 152, 219, 0.2);
    border: 1px solid #3498db;
  }

  &.practical {
    background: rgba(155, 89, 182, 0.2);
    border: 1px solid #9b59b6;
  }
}

.content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.card {
  background: white;
  border-radius: 12px;
  padding: 28px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
  }

  h2 {
    margin-top: 0;
    margin-bottom: 24px;
    color: #2c3e50;
    border-bottom: 2px solid #eaecef;
    padding-bottom: 12px;
    font-size: 1.6rem;
    font-weight: 700;
  }
}

.intro-section {
  .card {
    p.intro-text {
      font-size: 1.1rem;
      line-height: 1.6;
      color: #555;
      margin-bottom: 24px;
    }
  }
}

.algorithm-features {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 15px;

  @media (max-width: 768px) {
    grid-template-columns: repeat(2, 1fr);
  }
}

.feature {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 15px;
  background: #f8f9fa;
  border-radius: 10px;
  text-align: center;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-3px);
  }

  .feature-icon {
    font-size: 2rem;
    margin-bottom: 8px;
  }

  .feature-text {
    font-weight: 500;
    color: #2c3e50;
  }
}

.two-column-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
}

.thought-steps {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.step {
  display: flex;
  gap: 15px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #667eea;

  .step-number {
    width: 30px;
    height: 30px;
    background: #667eea;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
  }

  .step-content {
    h4 {
      margin: 0 0 6px;
      color: #2c3e50;
    }

    p {
      margin: 0;
      color: #666;
      line-height: 1.4;
    }
  }
}

.key-innovation {
  margin-top: 24px;

  h3 {
    margin-bottom: 16px;
    color: #2c3e50;
  }
}

.innovation-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }
}

.innovation-item {
  padding: 16px;
  background: #f8f9fa;
  border-radius: 8px;

  h4 {
    margin: 0 0 8px;
    color: #2c3e50;
  }

  p {
    margin: 0;
    color: #666;
    line-height: 1.4;
  }
}

.complexity-analysis {
  h4 {
    margin-bottom: 16px;
    color: #2c3e50;
  }
}

.complexity-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-bottom: 24px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
}

.complexity-card {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  text-align: center;

  h4 {
    margin: 0 0 10px;
    color: #2c3e50;
  }

  .complexity-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 8px;
  }

  p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
  }
}

.space-complexity {
  text-align: center;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;

  h4 {
    margin: 0 0 10px;
    color: #2c3e50;
  }

  .space-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 8px;
  }

  p {
    margin: 0;
    color: #666;
  }
}

.demo-controls {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 24px;
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 6px;

  label {
    font-weight: 500;
    color: #2c3e50;
  }
}

.input {
  padding: 10px 12px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
  }
}

.control-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.btn {
  padding: 10px 16px;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;

  &.primary {
    background-color: #667eea;
    color: white;

    &:hover:not(:disabled) {
      background-color: #5a6fd8;
    }

    &:disabled {
      background-color: #bdc3c7;
      cursor: not-allowed;
    }
  }

  &.secondary {
    background-color: #3498db;
    color: white;

    &:hover:not(:disabled) {
      background-color: #2980b9;
    }

    &:disabled {
      background-color: #bdc3c7;
      cursor: not-allowed;
    }
  }

  &.outline {
    background-color: transparent;
    border: 1px solid #bdc3c7;
    color: #7f8c8d;

    &:hover {
      background-color: #ecf0f1;
    }
  }
}

.demo-visualization {
  min-height: 200px;
  margin-bottom: 24px;
}

.current-state {
  margin-bottom: 20px;

  h4 {
    margin: 0 0 8px;
    color: #2c3e50;
  }

  .step-description {
    margin: 0 0 16px;
    color: #666;
    line-height: 1.4;
  }
}

.text-display {
  position: relative;
  margin-bottom: 20px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
}

.text-chars {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 40px;
}

.char {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  font-family: monospace;
  font-weight: 500;
  transition: all 0.3s;

  &.current-match {
    background: #2ecc71;
    color: white;
    border-color: #27ae60;
  }

  &.matched-char {
    background: #3498db;
    color: white;
    border-color: #2980b9;
  }

  &.mismatch-char {
    background: #e74c3c;
    color: white;
    border-color: #c0392b;
  }

  &.current-window {
    background: #f39c12;
    color: white;
    border-color: #e67e22;
  }

  &.next-char {
    background: #9b59b6;
    color: white;
    border-color: #8e44ad;
    transform: scale(1.1);
  }
}

.pattern-position {
  position: relative;
  height: 40px;
}

.pattern-indicator {
  position: absolute;
  top: 0;
  height: 100%;
  display: flex;
  gap: 8px;
  transition: left 0.5s ease;
}

.pattern-char {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  background: #95a5a6;
  color: white;
  border-radius: 4px;
  font-family: monospace;
  font-weight: 500;

  &.match {
    background: #2ecc71;
  }

  &.mismatch {
    background: #e74c3c;
  }
}

.shift-info {
  padding: 16px;
  background: #e8f6f3;
  border-radius: 8px;
  border-left: 4px solid #2ecc71;

  h5 {
    margin: 0 0 8px;
    color: #2c3e50;
  }

  p {
    margin: 0 0 6px;
    color: #555;

    &:last-child {
      margin-bottom: 0;
    }
  }
}

.shift-table {
  h4 {
    margin: 0 0 12px;
    color: #2c3e50;
  }
}

.table-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.table-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: #f8f9fa;
  border-radius: 6px;
  border: 1px solid #e0e0e0;
  transition: all 0.2s;

  &.highlighted {
    background: #667eea;
    color: white;
    border-color: #5a6fd8;

    .table-char, .table-value {
      color: white;
    }
  }

  .table-char {
    font-weight: 600;
    color: #2c3e50;
  }

  .table-value {
    font-weight: 500;
    color: #667eea;
  }
}

.demo-placeholder {
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f8f9fa;
  border: 2px dashed #bdc3c7;
  border-radius: 8px;
}

.placeholder-content {
  text-align: center;
  color: #7f8c8d;

  .placeholder-icon {
    font-size: 3rem;
    display: block;
    margin-bottom: 10px;
  }
}

.demo-results {
  padding: 16px;
  background: #f8f9fa;
  border-radius: 8px;

  h4 {
    margin: 0 0 12px;
    color: #2c3e50;
  }
}

.results-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 16px;
}

.result-item {
  padding: 8px 12px;
  background: white;
  border-radius: 4px;
  border-left: 3px solid #2ecc71;
  font-weight: 500;
}

.performance-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;

  p {
    margin: 0;
    padding: 8px;
    background: white;
    border-radius: 4px;
    text-align: center;
    font-weight: 500;
  }
}

.implementation-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.impl-tab {
  padding: 10px 16px;
  background: #f8f9fa;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 500;

  &:hover {
    background: #e9ecef;
  }

  &.active {
    background: #667eea;
    color: white;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  }
}

.implementation-content {
  h3 {
    margin-top: 0;
    margin-bottom: 16px;
    color: #2c3e50;
  }
}

.code-explanation {
  margin-bottom: 20px;

  h4 {
    margin-bottom: 12px;
    color: #2c3e50;
  }

  ol {
    padding-left: 20px;

    li {
      margin-bottom: 8px;
      line-height: 1.5;
      color: #555;
    }
  }
}

.code-block {
  background: #2d3748;
  color: #e2e8f0;
  padding: 20px;
  border-radius: 8px;
  overflow-x: auto;
  font-family: 'Courier New', monospace;
  line-height: 1.4;
  font-size: 0.85rem;
  border-left: 4px solid #667eea;
  margin-bottom: 20px;
}

.implementation-notes {
  h4 {
    margin-bottom: 12px;
    color: #2c3e50;
  }

  ul {
    padding-left: 20px;

    li {
      margin-bottom: 8px;
      line-height: 1.5;
      color: #555;
    }
  }
}

.comparison-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.comparison-tab {
  padding: 10px 16px;
  background: #f8f9fa;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 500;

  &:hover {
    background: #e9ecef;
  }

  &.active {
    background: #667eea;
    color: white;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  }
}

.comparison-content {
  h3 {
    margin-top: 0;
    margin-bottom: 8px;
    color: #2c3e50;
  }

  p {
    margin-bottom: 20px;
    color: #666;
    line-height: 1.5;
  }
}

.algorithm-comparison {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 30px;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
}

.comparison-table {
  overflow-x: auto;

  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

    th, td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid #eaecef;
    }

    th {
      background: #f8f9fa;
      font-weight: 600;
      color: #2c3e50;
    }

    .metric-name {
      font-weight: 500;
      color: #2c3e50;
    }

    tr:last-child td {
      border-bottom: none;
    }

    tr:hover {
      background: #f8f9fa;
    }
  }
}

.value {
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: 500;

  &.good {
    background: #d4edda;
    color: #155724;
  }

  &.medium {
    background: #fff3cd;
    color: #856404;
  }

  &.bad {
    background: #f8d7da;
    color: #721c24;
  }
}

.comparison-chart {
  h4 {
    margin-bottom: 16px;
    color: #2c3e50;
    text-align: center;
  }
}

.chart-bars {
  display: flex;
  align-items: flex-end;
  gap: 15px;
  height: 200px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
}

.chart-bar-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
}

.bar-label {
  margin-bottom: 8px;
  font-weight: 500;
  color: #2c3e50;
}

.bar-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: flex-end;
}

.chart-bar {
  width: 100%;
  border-radius: 4px 4px 0 0;
  transition: height 1s ease;

  &.sunday {
    background: linear-gradient(to top, #667eea, #764ba2);
  }

  &.bm {
    background: linear-gradient(to top, #4CAF50, #8BC34A);
  }

  &.kmp {
    background: linear-gradient(to top, #FF9800, #FFC107);
  }

  &.æš´åŠ› {
    background: linear-gradient(to top, #F44336, #E57373);
  }
}

.bar-value {
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  font-weight: 500;
  color: #2c3e50;
}

.applications-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.application-card {
  padding: 24px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #667eea;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-5px);
  }

  .app-icon {
    font-size: 2.5rem;
    margin-bottom: 12px;
  }

  h3 {
    margin: 0 0 8px;
    color: #2c3e50;
  }

  p {
    margin: 0 0 15px;
    color: #666;
    line-height: 1.4;
  }
}

.app-benefits {
  display: flex;
  gap: 6px;
}

.benefit {
  background: #667eea;
  color: white;
  padding: 4px 8px;
  border-radius: 10px;
  font-size: 0.7rem;
  font-weight: 500;
}

.optimization-tips {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.tip-card {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;

  h3 {
    margin: 0 0 12px;
    color: #2c3e50;
  }

  p {
    margin: 0 0 15px;
    color: #666;
    line-height: 1.4;
  }
}

.code-small {
  background: #2d3748;
  color: #e2e8f0;
  padding: 12px;
  border-radius: 6px;
  overflow-x: auto;
  font-family: 'Courier New', monospace;
  line-height: 1.4;
  font-size: 0.8rem;
  margin-bottom: 15px;
}

.example-comparison {
  display: flex;
  flex-direction: column;
  gap: 8px;

  .good-example, .bad-example {
    padding: 8px 12px;
    border-radius: 4px;
    font-weight: 500;
  }

  .good-example {
    background: #d4edda;
    color: #155724;
  }

  .bad-example {
    background: #f8d7da;
    color: #721c24;
  }
}

@media (max-width: 768px) {
  .sunday-algorithm-container {
    padding: 10px;
  }

  .card {
    padding: 20px;
  }

  .page-header {
    padding: 20px;
  }

  .page-header h1 {
    font-size: 2.2rem;
  }

  .algorithm-features {
    grid-template-columns: 1fr 1fr;
  }

  .complexity-cards {
    grid-template-columns: 1fr;
  }

  .control-buttons {
    flex-direction: column;
  }

  .algorithm-comparison {
    grid-template-columns: 1fr;
  }

  .performance-stats {
    grid-template-columns: 1fr;
  }

  .chart-bars {
    flex-direction: column;
    height: auto;
    align-items: stretch;
  }

  .chart-bar-container {
    flex-direction: row;
    align-items: center;
    height: 40px;
  }

  .bar-wrapper {
    height: 30px;
    margin-left: 10px;
  }

  .chart-bar {
    height: 100% !important;
    border-radius: 0 4px 4px 0;
  }

  .bar-value {
    position: static;
    transform: none;
    margin-left: 10px;
  }
}
</style>
