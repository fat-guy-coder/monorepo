<template>
  <div class="backtracking-guide">
    <header>
      <h1>å›æº¯ç®—æ³•ç²¾è§£</h1>
      <p>æ¢ç´¢ç®—æ³•è®¾è®¡ä¸­çš„"è¯•é”™ä¸å›é€€"è‰ºæœ¯</p>
    </header>

    <main>
      <!-- ç®—æ³•ä»‹ç» -->
      <section class="introduction">
        <div class="content">
          <div class="definition">
            <h2>ä»€ä¹ˆæ˜¯å›æº¯ç®—æ³•ï¼Ÿ</h2>
            <p>å›æº¯ç®—æ³•æ˜¯ä¸€ç§é€šè¿‡<strong>è¯•é”™</strong>æ¥å¯»æ‰¾é—®é¢˜è§£å†³æ–¹æ¡ˆçš„ç®—æ³•ã€‚å®ƒå°è¯•åˆ†æ­¥è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œå½“å‘ç°å½“å‰æ­¥éª¤ä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„è§£æ—¶ï¼Œå°±<strong>å›æº¯</strong>åˆ°ä¸Šä¸€æ­¥å°è¯•å…¶ä»–é€‰é¡¹ã€‚</p>
          </div>

          <div class="analogy">
            <div class="maze-container">
              <div class="maze">
                <div v-for="(row, i) in maze" :key="i" class="maze-row">
                  <div v-for="(cell, j) in row" :key="j" :class="[
                    'maze-cell',
                    cell === 1 ? 'wall' : '',
                    path.some(p => p[0] === i && p[1] === j) ? 'path' : '',
                    i === start[0] && j === start[1] ? 'start' : '',
                    i === end[0] && j === end[1] ? 'end' : ''
                  ]">
                  </div>
                </div>
              </div>
            </div>
            <div class="analogy-text">
              <h3>å›æº¯ç®—æ³•ç±»æ¯”</h3>
              <p>æƒ³è±¡ä½ åœ¨ä¸€ä¸ªè¿·å®«ä¸­å¯»æ‰¾å‡ºå£ï¼š</p>
              <ul>
                <li>é€‰æ‹©ä¸€ä¸ªæ–¹å‘å‰è¿›</li>
                <li>é‡åˆ°æ­»èƒ¡åŒæ—¶è¿”å›ä¸Šä¸€ä¸ªå²”è·¯å£</li>
                <li>å°è¯•å¦ä¸€ä¸ªæœªæ¢ç´¢çš„è·¯å¾„</li>
                <li>é‡å¤ç›´åˆ°æ‰¾åˆ°å‡ºå£</li>
              </ul>
              <button @click="solveMaze">è§£å†³è¿·å®«</button>
            </div>
          </div>
        </div>
      </section>

      <!-- ç®—æ³•æ¡†æ¶ -->
      <section class="algorithm-framework">
        <h2>å›æº¯ç®—æ³•æ¡†æ¶</h2>
        <div class="framework">
          <div class="code-block">
            <pre><code>function backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„) {
  if (æ»¡è¶³ç»“æŸæ¡ä»¶) {
    å°†è·¯å¾„åŠ å…¥ç»“æœé›†;
    return;
  }

  for (é€‰æ‹© of é€‰æ‹©åˆ—è¡¨) {
    åšå‡ºé€‰æ‹©;
    backtrack(æ–°çš„é€‰æ‹©åˆ—è¡¨, æ–°çš„è·¯å¾„);
    æ’¤é”€é€‰æ‹©; // å›æº¯å…³é”®æ­¥éª¤
  }
}</code></pre>
          </div>
          <div class="explanation">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>è·¯å¾„</h3>
                <p>è®°å½•å·²ç»åšå‡ºçš„é€‰æ‹©</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>é€‰æ‹©åˆ—è¡¨</h3>
                <p>å½“å‰å¯ä»¥åšçš„é€‰æ‹©</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>ç»“æŸæ¡ä»¶</h3>
                <p>åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©</p>
              </div>
            </div>
          </div>
        </div>

        <div class="key-features">
          <div class="feature">
            <div class="icon">ğŸ”„</div>
            <h3>é€’å½’ç»“æ„</h3>
            <p>é€šè¿‡é€’å½’å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢</p>
          </div>
          <div class="feature">
            <div class="icon">â†©ï¸</div>
            <h3>æ’¤é”€æ“ä½œ</h3>
            <p>å›æº¯çš„å…³é”®æ˜¯æ’¤é”€æœ€åçš„é€‰æ‹©</p>
          </div>
          <div class="feature">
            <div class="icon">âœ‚ï¸</div>
            <h3>å‰ªæä¼˜åŒ–</h3>
            <p>æå‰æ’é™¤æ— æ•ˆè·¯å¾„å‡å°‘è®¡ç®—</p>
          </div>
        </div>
      </section>

      <!-- ç»å…¸é—®é¢˜ -->
      <section class="classic-problems">
        <h2>å›æº¯ç»å…¸é—®é¢˜</h2>
        <div class="problems">
          <div class="problem">
            <div class="problem-header">
              <h3>å…¨æ’åˆ—é—®é¢˜</h3>
              <div class="tags">
                <span>æ’åˆ—ç»„åˆ</span>
                <span>é€’å½’</span>
              </div>
            </div>
            <p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„æ’åˆ—</p>
            <div class="visualization">
              <div class="permutation-tree">
                <div class="tree-node root">Start</div>
                <div class="tree-level">
                  <div class="tree-node">1</div>
                  <div class="tree-node">2</div>
                  <div class="tree-node">3</div>
                </div>
                <div class="tree-level">
                  <div class="tree-node">2</div>
                  <div class="tree-node">3</div>
                  <div class="tree-node">1</div>
                  <div class="tree-node">3</div>
                  <div class="tree-node">1</div>
                  <div class="tree-node">2</div>
                </div>
                <div class="tree-level">
                  <div class="tree-node">3</div>
                  <div class="tree-node">2</div>
                  <div class="tree-node">3</div>
                  <div class="tree-node">1</div>
                  <div class="tree-node">2</div>
                  <div class="tree-node">1</div>
                </div>
                <div class="tree-results">
                  <div class="result">[1,2,3]</div>
                  <div class="result">[1,3,2]</div>
                  <div class="result">[2,1,3]</div>
                  <div class="result">[2,3,1]</div>
                  <div class="result">[3,1,2]</div>
                  <div class="result">[3,2,1]</div>
                </div>
              </div>
            </div>
            <div class="code-block">
              <pre><code>function permute(nums: number[]): number[][] {
  const result: number[][] = [];

  function backtrack(path: number[]) {
    if (path.length === nums.length) {
      result.push([...path]);
      return;
    }

    for (let i = 0; i < nums.length; i++) {
      if (path.includes(nums[i])) continue; // å‰ªæï¼šå·²ä½¿ç”¨çš„æ•°å­—è·³è¿‡
      path.push(nums[i]);      // åšå‡ºé€‰æ‹©
      backtrack(path);         // é€’å½’
      path.pop();              // æ’¤é”€é€‰æ‹©
    }
  }

  backtrack([]);
  return result;
}</code></pre>
            </div>
          </div>

          <div class="problem">
            <div class="problem-header">
              <h3>Nçš‡åé—®é¢˜</h3>
              <div class="tags">
                <span>çº¦æŸæ»¡è¶³</span>
                <span>ç»å…¸éš¾é¢˜</span>
              </div>
            </div>
            <p>åœ¨NÃ—Nçš„æ£‹ç›˜ä¸Šæ”¾ç½®Nä¸ªçš‡åï¼Œä½¿å…¶ä¸èƒ½äº’ç›¸æ”»å‡»</p>
            <div class="visualization">
              <div class="queens-board">
                <div v-for="i in 4" :key="i" class="row">
                  <div v-for="j in 4" :key="j" :class="['cell', (i + j) % 2 === 0 ? 'light' : 'dark']">
                    <div v-if="queenPositions.some(pos => pos[0] === i - 1 && pos[1] === j - 1)" class="queen">â™›</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="code-block">
              <pre><code>function solveNQueens(n: number): string[][] {
  const result: string[][] = [];
  const board = Array(n).fill(null).map(() => Array(n).fill('.'));

  function isValid(row: number, col: number): boolean {
    // æ£€æŸ¥åŒä¸€åˆ—
    for (let i = 0; i < row; i++) {
      if (board[i][col] === 'Q') return false;
    }

    // æ£€æŸ¥å·¦ä¸Šå¯¹è§’çº¿
    for (let i = row-1, j = col-1; i >= 0 && j >= 0; i--, j--) {
      if (board[i][j] === 'Q') return false;
    }

    // æ£€æŸ¥å³ä¸Šå¯¹è§’çº¿
    for (let i = row-1, j = col+1; i >= 0 && j < n; i--, j++) {
      if (board[i][j] === 'Q') return false;
    }

    return true;
  }

  function backtrack(row: number) {
    if (row === n) {
      result.push(board.map(r => r.join('')));
      return;
    }

    for (let col = 0; col < n; col++) {
      if (!isValid(row, col)) continue; // å‰ªæ

      board[row][col] = 'Q';  // æ”¾ç½®çš‡å
      backtrack(row + 1);      // ä¸‹ä¸€è¡Œ
      board[row][col] = '.';  // æ’¤é”€æ”¾ç½®
    }
  }

  backtrack(0);
  return result;
}</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="use-cases">
        <h2>å›æº¯ç®—æ³•åº”ç”¨åœºæ™¯</h2>
        <div class="cases">
          <div class="case">
            <div class="icon">ğŸ§©</div>
            <h3>ç»„åˆé—®é¢˜</h3>
            <p>ä»nä¸ªå…ƒç´ ä¸­æ‰¾å‡ºkä¸ªå…ƒç´ çš„ç»„åˆ</p>
            <p class="example">C(n, k) = n! / (k!(n-k)!)</p>
          </div>
          <div class="case">
            <div class="icon">ğŸ”¢</div>
            <h3>æ’åˆ—é—®é¢˜</h3>
            <p>æ±‚nä¸ªå…ƒç´ çš„æ‰€æœ‰å¯èƒ½çš„æ’åˆ—</p>
            <p class="example">P(n) = n!</p>
          </div>
          <div class="case">
            <div class="icon">ğŸ¯</div>
            <h3>å­é›†é—®é¢˜</h3>
            <p>æ±‚ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å­é›†</p>
            <p class="example">2^n ä¸ªå­é›†</p>
          </div>
          <div class="case">
            <div class="icon">â™Ÿï¸</div>
            <h3>æ£‹ç›˜é—®é¢˜</h3>
            <p>Nçš‡åã€æ•°ç‹¬ã€éª‘å£«å·¡æ¸¸ç­‰</p>
            <p class="example">çº¦æŸæ»¡è¶³é—®é¢˜</p>
          </div>
          <div class="case">
            <div class="icon">ğŸ”</div>
            <h3>åˆ†å‰²é—®é¢˜</h3>
            <p>å­—ç¬¦ä¸²åˆ†å‰²ã€åˆ’åˆ†ç­‰ä»½å­é›†</p>
            <p class="example">å›æ–‡åˆ†å‰²ã€ç­‰å’Œå­é›†</p>
          </div>
          <div class="case">
            <div class="icon">ğŸ”„</div>
            <h3>è·¯å¾„é—®é¢˜</h3>
            <p>åœ¨çŸ©é˜µä¸­å¯»æ‰¾ç‰¹å®šè·¯å¾„</p>
            <p class="example">è¿·å®«å¯»è·¯ã€å•è¯æœç´¢</p>
          </div>
        </div>
      </section>

      <!-- ä¼˜åŒ–ç­–ç•¥ -->
      <section class="optimization">
        <h2>å›æº¯ç®—æ³•ä¼˜åŒ–ç­–ç•¥</h2>
        <div class="strategies">
          <div class="strategy">
            <div class="number">1</div>
            <h3>å‰ªæ (Pruning)</h3>
            <p>æå‰æ’é™¤ä¸å¯èƒ½çš„è§£ï¼Œå‡å°‘é€’å½’æ·±åº¦</p>
            <p class="example">Nçš‡åé—®é¢˜ä¸­æ£€æŸ¥å¯¹è§’çº¿å†²çª</p>
          </div>
          <div class="strategy">
            <div class="number">2</div>
            <h3>è®°å¿†åŒ– (Memoization)</h3>
            <p>ç¼“å­˜ä¸­é—´ç»“æœé¿å…é‡å¤è®¡ç®—</p>
            <p class="example">å­é›†é—®é¢˜ä¸­é¿å…é‡å¤å­é›†</p>
          </div>
          <div class="strategy">
            <div class="number">3</div>
            <h3>è¿­ä»£åŠ æ·± (Iterative Deepening)</h3>
            <p>é€æ­¥å¢åŠ æœç´¢æ·±åº¦é™åˆ¶</p>
            <p class="example">ç”¨äºæ·±åº¦æœªçŸ¥çš„é—®é¢˜</p>
          </div>
          <div class="strategy">
            <div class="number">4</div>
            <h3>å¯å‘å¼æœç´¢ (Heuristics)</h3>
            <p>ä¼˜å…ˆé€‰æ‹©æ›´å¯èƒ½çš„æ–¹å‘</p>
            <p class="example">åœ¨è¿·å®«é—®é¢˜ä¸­ä¼˜å…ˆé€‰æ‹©ä¸»æ–¹å‘</p>
          </div>
        </div>
      </section>

      <!-- å¤æ‚åº¦åˆ†æ -->
      <section class="complexity">
        <h2>å›æº¯ç®—æ³•å¤æ‚åº¦åˆ†æ</h2>
        <div class="complexity-content">
          <div class="chart">
            <div class="complexity-level">
              <div class="label">æŒ‡æ•°çº§ O(2â¿)</div>
              <div class="bar exponential"></div>
            </div>
            <div class="complexity-level">
              <div class="label">é˜¶ä¹˜çº§ O(n!)</div>
              <div class="bar factorial"></div>
            </div>
            <div class="complexity-level">
              <div class="label">ç»„åˆçº§ O(C(n,k))</div>
              <div class="bar combinatorial"></div>
            </div>
            <div class="complexity-level">
              <div class="label">å¤šé¡¹å¼ O(náµ)</div>
              <div class="bar polynomial"></div>
            </div>
          </div>
          <div class="explanation">
            <p>å›æº¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸è¾ƒé«˜ï¼Œä¸»è¦å–å†³äºï¼š</p>
            <ul>
              <li><strong>é—®é¢˜è§„æ¨¡</strong>ï¼šè¾“å…¥å¤§å°n</li>
              <li><strong>å†³ç­–æ ‘æ·±åº¦</strong>ï¼šé€’å½’çš„æœ€å¤§æ·±åº¦</li>
              <li><strong>æ¯ä¸ªèŠ‚ç‚¹çš„åˆ†æ”¯æ•°</strong>ï¼šæ¯ä¸ªé€’å½’æ­¥éª¤çš„é€‰æ‹©æ•°</li>
              <li><strong>å‰ªææ•ˆç‡</strong>ï¼šæ’é™¤æ— æ•ˆè·¯å¾„çš„èƒ½åŠ›</li>
            </ul>
            <p>ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ï¼Œé€šå¸¸ä¸ºO(n)</p>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p> å›æº¯ç®—æ³•ç²¾è§£ | æ¢ç´¢ç®—æ³•è®¾è®¡çš„è‰ºæœ¯</p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

// è¿·å®«æ¼”ç¤ºæ•°æ®
const maze = ref([
  [0, 1, 0, 0, 0],
  [0, 1, 0, 1, 0],
  [0, 0, 0, 0, 0],
  [0, 1, 1, 1, 0],
  [0, 0, 0, 1, 0]
]);

const path = ref<number[][]>([]);
const start = ref([0, 0]);
const end = ref([4, 4]);

// è§£å†³è¿·å®«é—®é¢˜ï¼ˆç®€åŒ–æ¼”ç¤ºï¼‰
const solveMaze = () => {
  path.value = [];
  const steps = [
    [0, 0], [0, 1], [0, 2], [0, 3], [0, 4],
    [1, 4], [2, 4], [2, 3], [2, 2], [2, 1],
    [2, 0], [3, 0], [4, 0], [4, 1], [4, 2],
    [4, 3], [4, 4]
  ];

  let i = 0;
  const interval = setInterval(() => {
    if (i < steps.length) {
      path.value.push(steps[i]);
      i++;
    } else {
      clearInterval(interval);
    }
  }, 300);
};

// Nçš‡åä½ç½®ï¼ˆ4x4æ£‹ç›˜çš„ä¸€ä¸ªè§£ï¼‰
const queenPositions = ref([
  [0, 1], [1, 3], [2, 0], [3, 2]
]);

// åˆå§‹åŒ–
onMounted(() => {
  path.value = [start.value];
});
</script>

<style lang="less" scoped>
@primary: #8a2be2;
@secondary: #6a0dad;
@accent: #b19cd9;
@light: #f9f5ff;
@dark: #2c0a4d;
@wall: #4a4a8a;
@path: #ff6b6b;
@start: #38b000;
@end: #ff9e00;

// åŸºç¡€æ ·å¼
.backtracking-guide {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
  font-family: 'Segoe UI', system-ui, sans-serif;
  color: @dark;
  line-height: 1.6;
  background: linear-gradient(to bottom, #f0e6ff, #ffffff);

  header {
    text-align: center;
    margin-bottom: 3rem;
    padding: 2rem;
    background: @primary;
    color: white;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(@primary, 0.3);

    h1 {
      font-size: 2.8rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
    }
  }

  section {
    margin-bottom: 3rem;
    padding: 2.5rem;
    background: white;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    border: 1px solid #e9e1ff;

    h2 {
      font-size: 2rem;
      margin-bottom: 1.8rem;
      padding-bottom: 0.8rem;
      border-bottom: 3px solid @accent;
      color: @secondary;
      position: relative;

      &::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 100px;
        height: 3px;
        background: @primary;
      }
    }
  }
}

// ä»‹ç»éƒ¨åˆ†
.introduction {
  .content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;

    @media (max-width: 900px) {
      grid-template-columns: 1fr;
    }
  }

  .definition {
    h2 {
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
      color: @primary;
      border: none;

      &::after {
        display: none;
      }
    }

    p {
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 1.5rem;

      strong {
        color: @primary;
        font-weight: 600;
      }
    }
  }

  .analogy {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;

    .maze-container {
      background: #f0e6ff;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .maze {
      display: inline-block;
      border: 3px solid @secondary;
      background: white;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .maze-row {
      display: flex;
    }

    .maze-cell {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #d9c8ff;
      position: relative;

      &.wall {
        background: @wall;
        box-shadow: inset 0 0 10px darken(@wall, 20%);
      }

      &.path {
        background: @path;
        animation: pulse 1.5s infinite;

        &::before {
          content: "";
          position: absolute;
          top: 50%;
          left: 50%;
          width: 20px;
          height: 20px;
          background: white;
          border-radius: 50%;
          transform: translate(-50%, -50%);
        }
      }

      &.start {
        background: @start;

        &::after {
          content: "S";
          color: white;
          font-weight: bold;
          font-size: 1.2rem;
        }
      }

      &.end {
        background: @end;

        &::after {
          content: "E";
          color: white;
          font-weight: bold;
          font-size: 1.2rem;
        }
      }
    }

    .analogy-text {
      h3 {
        color: @secondary;
        margin-top: 0;
      }

      ul {
        padding-left: 1.2rem;
        margin: 1.2rem 0;

        li {
          margin-bottom: 0.8rem;
          position: relative;
          padding-left: 1.5rem;

          &::before {
            content: "â€¢";
            color: @primary;
            position: absolute;
            left: 0;
            font-size: 1.5rem;
            line-height: 1;
          }
        }
      }

      button {
        padding: 0.8rem 1.8rem;
        background: @primary;
        color: white;
        border: none;
        border-radius: 30px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 10px rgba(@primary, 0.3);

        &:hover {
          background: darken(@primary, 10%);
          transform: translateY(-3px);
          box-shadow: 0 6px 15px rgba(@primary, 0.4);
        }
      }
    }
  }
}

// ç®—æ³•æ¡†æ¶éƒ¨åˆ†
.algorithm-framework {
  .framework {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .code-block {
    background: #2d1a4a;
    border-radius: 12px;
    padding: 1.8rem;
    overflow: auto;

    pre {
      margin: 0;

      code {
        font-family: 'Fira Code', monospace;
        color: #e2d1ff;
        font-size: 1rem;
        line-height: 1.6;
      }
    }
  }

  .explanation {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;

    .step {
      display: flex;
      gap: 1.2rem;
      align-items: center;
      background: #f5f0ff;
      border-radius: 12px;
      padding: 1.2rem;
      transition: all 0.3s;

      &:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      }

      .step-number {
        width: 42px;
        height: 42px;
        background: @primary;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        font-weight: bold;
        flex-shrink: 0;
      }

      h3 {
        margin: 0 0 0.3rem;
        color: @secondary;
      }

      p {
        margin: 0;
        color: #6a5a8a;
      }
    }
  }

  .key-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;

    .feature {
      text-align: center;
      padding: 1.8rem;
      background: linear-gradient(135deg, #f0e6ff, #e2d1ff);
      border-radius: 16px;
      transition: all 0.3s;

      &:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
      }

      .icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      h3 {
        margin: 0.5rem 0;
        color: @secondary;
      }
    }
  }
}

// ç»å…¸é—®é¢˜éƒ¨åˆ†
.classic-problems {
  .problems {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2.5rem;
  }

  .problem {
    background: #f9f5ff;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);

    &-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.2rem;

      h3 {
        margin: 0;
        color: @primary;
        font-size: 1.5rem;
      }
    }

    .tags {
      display: flex;
      gap: 0.5rem;

      span {
        padding: 0.3rem 0.8rem;
        background: #e2d1ff;
        border-radius: 20px;
        font-size: 0.85rem;
        color: @secondary;
      }
    }

    p {
      color: #5a4a7a;
      margin-bottom: 1.5rem;
    }

    .visualization {
      margin: 1.5rem 0;
      padding: 1.5rem;
      background: white;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    }
  }

  .permutation-tree {
    text-align: center;

    .tree-node {
      display: inline-block;
      width: 40px;
      height: 40px;
      line-height: 40px;
      background: #e2d1ff;
      border-radius: 50%;
      margin: 0 10px 20px;
      font-weight: bold;
      color: @secondary;
      position: relative;

      &.root {
        background: @primary;
        color: white;
      }
    }

    .tree-level {
      position: relative;

      &::before {
        content: "";
        position: absolute;
        top: -20px;
        left: 0;
        right: 0;
        height: 2px;
        background: #d9c8ff;
      }
    }

    .tree-results {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.8rem;
      margin-top: 1rem;

      .result {
        padding: 0.5rem 1rem;
        background: #b19cd9;
        color: white;
        border-radius: 6px;
        font-family: 'Fira Code', monospace;
        font-size: 0.9rem;
      }
    }
  }

  .queens-board {
    display: inline-block;
    border: 3px solid @secondary;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);

    .row {
      display: flex;
    }

    .cell {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;

      &.light {
        background: #f0e6ff;
      }

      &.dark {
        background: #d9c8ff;
      }
    }

    .queen {
      font-size: 2rem;
      color: @primary;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
  }

  .code-block {
    background: #2d1a4a;
    border-radius: 12px;
    padding: 1.5rem;
    overflow: auto;
    margin-top: 1.5rem;

    pre {
      margin: 0;

      code {
        font-family: 'Fira Code', monospace;
        color: #e2d1ff;
        font-size: 0.9rem;
        line-height: 1.5;
      }
    }
  }
}

// ä½¿ç”¨åœºæ™¯éƒ¨åˆ†
.use-cases {
  .cases {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
  }

  .case {
    text-align: center;
    padding: 2rem 1.5rem;
    background: linear-gradient(135deg, #f8f4ff, #eae1ff);
    border-radius: 16px;
    transition: all 0.3s;
    border: 1px solid #e9e1ff;

    &:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .icon {
      font-size: 2.8rem;
      margin-bottom: 1.2rem;
      color: @primary;
    }

    h3 {
      margin: 0.5rem 0;
      color: @secondary;
    }

    .example {
      margin: 0.8rem 0 0;
      font-family: 'Fira Code', monospace;
      color: #7a6a9a;
      font-weight: 500;
    }
  }
}

// ä¼˜åŒ–ç­–ç•¥éƒ¨åˆ†
.optimization {
  .strategies {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.8rem;
  }

  .strategy {
    display: flex;
    gap: 1.2rem;
    align-items: flex-start;
    padding: 1.8rem;
    background: white;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    border-left: 4px solid @primary;

    .number {
      width: 40px;
      height: 40px;
      background: @primary;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.2rem;
      flex-shrink: 0;
    }

    h3 {
      margin: 0 0 0.5rem;
      color: @secondary;
    }

    .example {
      margin: 0.5rem 0 0;
      font-style: italic;
      color: #7a6a9a;
      font-size: 0.95rem;
    }
  }
}

// å¤æ‚åº¦åˆ†æéƒ¨åˆ†
.complexity {
  .complexity-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .chart {
    padding: 1.5rem;
    background: #f9f5ff;
    border-radius: 16px;
  }

  .complexity-level {
    margin-bottom: 1.2rem;

    .label {
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: @secondary;
    }

    .bar {
      height: 30px;
      border-radius: 6px;

      &.exponential {
        width: 95%;
        background: linear-gradient(to right, #ff6b6b, #ef476f);
      }

      &.factorial {
        width: 80%;
        background: linear-gradient(to right, #ff9e00, #ff6b6b);
      }

      &.combinatorial {
        width: 65%;
        background: linear-gradient(to right, #ffd166, #ff9e00);
      }

      &.polynomial {
        width: 50%;
        background: linear-gradient(to right, #b19cd9, #ffd166);
      }
    }
  }

  .explanation {
    padding: 1.5rem;
    background: #f0e6ff;
    border-radius: 16px;

    p {
      line-height: 1.8;
    }

    ul {
      padding-left: 1.5rem;
      margin: 1.2rem 0;

      li {
        margin-bottom: 0.8rem;
        position: relative;
        padding-left: 1.8rem;

        &::before {
          content: "â€¢";
          color: @primary;
          position: absolute;
          left: 0;
          font-size: 1.8rem;
          line-height: 1;
        }
      }
    }
  }
}

// é¡µè„š
footer {
  text-align: center;
  margin-top: 4rem;
  padding-top: 2rem;
  color: #7a6a9a;
  font-size: 0.95rem;
  border-top: 1px solid #e9e1ff;
}

// åŠ¨ç”»
@keyframes pulse {
  0% {
    opacity: 0.7;
  }

  50% {
    opacity: 1;
  }

  100% {
    opacity: 0.7;
  }
}
</style>
