<template>
  <div class="react-lifecycle-container">
    <header class="header">
      <div class="banner">
        <h1>Reactå‡½æ•°å¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h1>
        <p class="subtitle">æ·±å…¥è§£æHooksåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„åº”ç”¨</p>
      </div>
      <div class="framework-icon">
        <div class="react-logo">âš›ï¸</div>
      </div>
    </header>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ”„</span>
        å‡½æ•°å¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°
      </h2>

      <div class="info-card">
        <p>åœ¨Reactå‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸé€šè¿‡<strong>React Hooks</strong>å®ç°ï¼š</p>

        <div class="lifecycle-map">
          <div class="phase">
            <div class="phase-header">æŒ‚è½½é˜¶æ®µ(Mounting)</div>
            <div class="hooks">
              <div class="hook-card">useState</div>
              <div class="hook-card">useEffect<span class="hook-desc">(ç©ºä¾èµ–æ•°ç»„)</span></div>
              <div class="hook-card">useLayoutEffect<span class="hook-desc">(ç©ºä¾èµ–æ•°ç»„)</span></div>
            </div>
          </div>

          <div class="arrow">â†’</div>

          <div class="phase">
            <div class="phase-header">æ›´æ–°é˜¶æ®µ(Updating)</div>
            <div class="hooks">
              <div class="hook-card">useState</div>
              <div class="hook-card">useEffect<span class="hook-desc">(æœ‰ä¾èµ–æ•°ç»„)</span></div>
              <div class="hook-card">useLayoutEffect<span class="hook-desc">(æœ‰ä¾èµ–æ•°ç»„)</span></div>
              <div class="hook-card">useMemo</div>
              <div class="hook-card">useCallback</div>
            </div>
          </div>

          <div class="arrow">â†’</div>

          <div class="phase">
            <div class="phase-header">å¸è½½é˜¶æ®µ(Unmounting)</div>
            <div class="hooks">
              <div class="hook-card">useEffect<span class="hook-desc">æ¸…ç†å‡½æ•°</span></div>
              <div class="hook-card">useLayoutEffect<span class="hook-desc">æ¸…ç†å‡½æ•°</span></div>
            </div>
          </div>
        </div>

        <div class="note">
          <strong>å…³é”®æ¦‚å¿µï¼š</strong>å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰ç±»ç»„ä»¶ä¸­<code>componentDidMount</code>ã€<code>componentDidUpdate</code>ç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡<b>Hooks</b>åœ¨æ¸²æŸ“è¿‡ç¨‹å’Œå‰¯ä½œç”¨ç®¡ç†ä¸­å®ç°ç±»ä¼¼åŠŸèƒ½
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ“Œ</span>
        æŒ‚è½½é˜¶æ®µ(Mounting)
      </h2>

      <div class="card-grid">
        <div class="info-card">
          <h3>è§¦å‘æ—¶æœº</h3>
          <ul>
            <li>ç»„ä»¶é¦–æ¬¡æ’å…¥DOM</li>
            <li>ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºå¹¶æ¸²æŸ“</li>
            <li>åªæ‰§è¡Œä¸€æ¬¡</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>å¸¸ç”¨Hooks</h3>
          <div class="hook-detail">
            <div class="hook-name">useState</div>
            <p>åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useEffect</div>
            <p>æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼ˆç½‘ç»œè¯·æ±‚ã€è®¢é˜…ç­‰ï¼‰</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useLayoutEffect</div>
            <p>åŒæ­¥æ‰§è¡ŒDOMæ“ä½œ</p>
          </div>
        </div>
      </div>

      <div class="code-section">
        <h3>æŒ‚è½½é˜¶æ®µç¤ºä¾‹ä»£ç </h3>
        <div class="code-snippet">
          <pre><code>function UserProfile({ userId }) {
  // useState - åˆå§‹åŒ–çŠ¶æ€ (æŒ‚è½½é˜¶æ®µ)
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  // useEffect - ç©ºä¾èµ–æ•°ç»„ï¼Œä»…åœ¨æŒ‚è½½æ—¶è¿è¡Œ
  useEffect(() => {
    const fetchUser = async () => {
      const response = await fetch(`/api/users/${userId}`);
      const data = await response.json();
      setUser(data);
      setLoading(false);
    };

    fetchUser();

    // è¿”å›çš„æ¸…ç†å‡½æ•°å°†åœ¨å¸è½½æ—¶æ‰§è¡Œ
    return () => {
      // å–æ¶ˆç½‘ç»œè¯·æ±‚ç­‰æ¸…ç†æ“ä½œ
    };
  }, []); // ç©ºä¾èµ–æ•°ç»„ç¡®ä¿åªè¿è¡Œä¸€æ¬¡

  // useLayoutEffect - DOMæ“ä½œ
  useLayoutEffect(() => {
    // ç»„ä»¶æŒ‚è½½åç«‹å³æ‰§è¡Œçš„DOMæ“ä½œ
    const element = document.getElementById('profile-header');
    if (element) {
      element.style.backgroundColor = '#f0f0f0';
    }
  }, []);

  if (loading) return &lt;div>Loading...&lt;/div>;

  return (
    &lt;div id="profile-header">
      &lt;h1>{user.name}&lt;/h1>
      &lt;p>{user.bio}&lt;/p>
    &lt;/div>
  );
}</code></pre>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ”„</span>
        æ›´æ–°é˜¶æ®µ(Updating)
      </h2>

      <div class="card-grid">
        <div class="info-card">
          <h3>è§¦å‘æ—¶æœº</h3>
          <ul>
            <li>çŠ¶æ€(state)å‘ç”Ÿå˜åŒ–</li>
            <li>å±æ€§(props)å‘ç”Ÿå˜åŒ–</li>
            <li>çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“</li>
            <li>ä¸Šä¸‹æ–‡(context)å€¼å˜åŒ–</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>å¸¸ç”¨Hooks</h3>
          <div class="hook-detail">
            <div class="hook-name">useState</div>
            <p>æ›´æ–°çŠ¶æ€å¹¶è§¦å‘é‡æ–°æ¸²æŸ“</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useEffect</div>
            <p>ä¾èµ–å˜åŒ–æ—¶æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useMemo</div>
            <p>è®°å¿†è®¡ç®—ç»“æœé¿å…é‡å¤è®¡ç®—</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useCallback</div>
            <p>è®°å¿†å‡½æ•°é¿å…å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“</p>
          </div>
        </div>
      </div>

      <div class="code-section">
        <h3>æ›´æ–°é˜¶æ®µç¤ºä¾‹ä»£ç </h3>
        <div class="code-snippet">
          <pre><code>function ProductList({ category }) {
  const [products, setProducts] = useState([]);
  const [filter, setFilter] = useState('');

  // useEffect - ä¾èµ–categoryå˜åŒ–æ—¶é‡æ–°è·å–æ•°æ®
  useEffect(() => {
    const fetchProducts = async () => {
      const response = await fetch(`/api/products?category=${category}`);
      const data = await response.json();
      setProducts(data);
    };

    fetchProducts();
  }, [category]); // ä¾èµ–äºcategory

  // useMemo - è®°å¿†è¿‡æ»¤ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
  const filteredProducts = useMemo(() => {
    return products.filter(product =>
      product.name.toLowerCase().includes(filter.toLowerCase())
    );
  }, [products, filter]); // ä¾èµ–å˜åŒ–æ—¶é‡æ–°è®¡ç®—

  // useCallback - è®°å¿†äº‹ä»¶å¤„ç†å‡½æ•°
  const handleFilterChange = useCallback((event) => {
    setFilter(event.target.value);
  }, []); // ç©ºä¾èµ–æ•°ç»„ï¼šå‡½æ•°ä¸ä¼šæ”¹å˜

  return (
    &lt;>
      &lt;input
        type="text"
        value={filter}
        onChange={handleFilterChange}
        placeholder="Filter products..."
      />
      &lt;ul>
        {filteredProducts.map(product => (
          &lt;ProductItem key={product.id} product={product} />
        ))}
      &lt;/ul>
    &lt;/>
  );
}</code></pre>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ—‘ï¸</span>
        å¸è½½é˜¶æ®µ(Unmounting)
      </h2>

      <div class="card-grid">
        <div class="info-card">
          <h3>è§¦å‘æ—¶æœº</h3>
          <ul>
            <li>ç»„ä»¶ä»DOMä¸­ç§»é™¤</li>
            <li>çˆ¶ç»„ä»¶ä¸å†æ¸²æŸ“è¯¥ç»„ä»¶</li>
            <li>æ¡ä»¶æ¸²æŸ“å¯¼è‡´ç»„ä»¶æ¶ˆå¤±</li>
          </ul>
        </div>

        <div class="info-card">
          <h3>æ¸…ç†æœºåˆ¶</h3>
          <div class="hook-detail">
            <div class="hook-name">useEffectæ¸…ç†å‡½æ•°</div>
            <p>å–æ¶ˆç½‘ç»œè¯·æ±‚ã€å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ç­‰</p>
          </div>
          <div class="hook-detail">
            <div class="hook-name">useLayoutEffectæ¸…ç†å‡½æ•°</div>
            <p>åŒæ­¥æ¸…ç†DOMç›¸å…³æ“ä½œ</p>
          </div>
        </div>
      </div>

      <div class="code-section">
        <h3>å¸è½½æ¸…ç†ç¤ºä¾‹ä»£ç </h3>
        <div class="code-snippet">
          <pre><code>function RealTimeDataWidget() {
  const [data, setData] = useState([]);

  useEffect(() => {
    // åˆ›å»ºWebSocketè¿æ¥
    const socket = new WebSocket('wss://api.example.com/realtime');

    socket.addEventListener('message', (event) => {
      setData(JSON.parse(event.data));
    });

    // æ¸…ç†å‡½æ•° - åœ¨ç»„ä»¶å¸è½½æ—¶æ‰§è¡Œ
    return () => {
      // å…³é—­WebSocketè¿æ¥
      socket.close();
      console.log('WebSocketè¿æ¥å·²å…³é—­');
    };
  }, []); // ç©ºä¾èµ–æ•°ç»„ï¼šä»…åœ¨æŒ‚è½½/å¸è½½æ—¶è¿è¡Œ

  return (
    &lt;div>
      &lt;h2>å®æ—¶æ•°æ®æµ&lt;/h2>
      {/* æ¸²æŸ“æ•°æ® */}
    &lt;/div>
  );
}</code></pre>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">â±ï¸</span>
        useEffect vs useLayoutEffect
      </h2>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>ç‰¹æ€§</th>
              <th>useEffect</th>
              <th>useLayoutEffect</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>æ‰§è¡Œæ—¶æœº</td>
              <td>åœ¨æµè§ˆå™¨ç»˜åˆ¶åå¼‚æ­¥æ‰§è¡Œ</td>
              <td>åœ¨DOMæ›´æ–°åã€æµè§ˆå™¨ç»˜åˆ¶å‰åŒæ­¥æ‰§è¡Œ</td>
            </tr>
            <tr>
              <td>ä½¿ç”¨åœºæ™¯</td>
              <td>æ•°æ®è·å–ã€è®¢é˜…ã€äº‹ä»¶ç›‘å¬ç­‰å‰¯ä½œç”¨</td>
              <td>éœ€è¦åŒæ­¥è¯»å–æˆ–æ“ä½œDOMçš„åœºæ™¯</td>
            </tr>
            <tr>
              <td>æ€§èƒ½å½±å“</td>
              <td>ä¸ä¼šé˜»å¡æµè§ˆå™¨æ¸²æŸ“</td>
              <td>å¯èƒ½é˜»å¡æµè§ˆå™¨æ¸²æŸ“</td>
            </tr>
            <tr>
              <td>ä»£ç ç¤ºä¾‹</td>
              <td class="code-cell">
                useEffect(() => {<br>
                &nbsp;&nbsp;// æ•°æ®è·å–<br>
                &nbsp;&nbsp;fetchData();<br>
                }, []);
              </td>
              <td class="code-cell">
                useLayoutEffect(() => {<br>
                &nbsp;&nbsp;// DOMæµ‹é‡/æ“ä½œ<br>
                &nbsp;&nbsp;const width = ref.current.offsetWidth;<br>
                &nbsp;&nbsp;setWidth(width);<br>
                }, []);
              </td>
            </tr>
            <tr>
              <td>ä½¿ç”¨é¢‘ç‡</td>
              <td>â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ (å¸¸ç”¨)</td>
              <td>â­ï¸â­ï¸â­ï¸ (ç‰¹æ®Šåœºæ™¯)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="phase-diagram">
        <div class="phase-stage">
          <div class="phase-label">1. æ¸²æŸ“</div>
          <div class="phase-box">Reactæ¸²æŸ“ç»„ä»¶</div>
        </div>

        <div class="arrow">â†’</div>

        <div class="phase-stage">
          <div class="phase-label">2. æäº¤åˆ°DOM</div>
          <div class="phase-box">DOMæ›´æ–°</div>
        </div>

        <div class="arrow">â†’</div>

        <div class="phase-stage layout-phase">
          <div class="phase-label">useLayoutEffect</div>
          <div class="phase-box">åŒæ­¥æ‰§è¡Œ</div>
        </div>

        <div class="arrow">â†’</div>

        <div class="phase-stage">
          <div class="phase-label">3. æµè§ˆå™¨ç»˜åˆ¶</div>
          <div class="phase-box">é¡µé¢å¯è§</div>
        </div>

        <div class="arrow">â†’</div>

        <div class="phase-stage effect-phase">
          <div class="phase-label">useEffect</div>
          <div class="phase-box">å¼‚æ­¥æ‰§è¡Œ</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ’¡</span>
        æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜
      </h2>

      <div class="tips-grid">
        <div class="tip-card">
          <div class="tip-icon">âœ…</div>
          <h3>ç”Ÿå‘½å‘¨æœŸä¼˜åŒ–æŠ€å·§</h3>
          <ul>
            <li><strong>ä¾èµ–æ•°ç»„ç²¾ç¡®ï¼š</strong>ç¡®ä¿useEffectä¾èµ–æ•°ç»„åŒ…å«æ‰€æœ‰å˜åŒ–çš„å€¼</li>
            <li><strong>æ¸…ç†èµ„æºï¼š</strong>å§‹ç»ˆæ¸…ç†å®šæ—¶å™¨ã€è®¢é˜…å’Œç½‘ç»œè¯·æ±‚</li>
            <li><strong>é¿å…æ— é™å¾ªç¯ï¼š</strong>ä¸è¦åœ¨æ²¡æœ‰ä¾èµ–æ•°ç»„çš„æƒ…å†µä¸‹æ›´æ–°çŠ¶æ€</li>
            <li><strong>æŒ‰éœ€ä½¿ç”¨ï¼š</strong>useLayoutEffectä»…åœ¨éœ€è¦åŒæ­¥DOMæ“ä½œæ—¶ä½¿ç”¨</li>
          </ul>
        </div>

        <div class="tip-card">
          <div class="tip-icon">âš ï¸</div>
          <h3>å¸¸è§é”™è¯¯</h3>
          <ul>
            <li><strong>é—æ¼ä¾èµ–ï¼š</strong>å¯¼è‡´çŠ¶æ€è¿‡æœŸ(stale state)</li>
            <li><strong>ä¸å¿…è¦çš„ä¾èµ–ï¼š</strong>å¯¼è‡´é¢‘ç¹é‡æ–°è¿è¡Œå‰¯ä½œç”¨</li>
            <li><strong>å¿˜è®°æ¸…ç†ï¼š</strong>å¯¼è‡´å†…å­˜æ³„æ¼</li>
            <li><strong>æ»¥ç”¨useEffectï¼š</strong>å°†äº‹ä»¶å¤„ç†é€»è¾‘æ”¾åœ¨useEffectä¸­</li>
          </ul>
        </div>

        <div class="tip-card">
          <div class="tip-icon">ğŸš€</div>
          <h3>æ€§èƒ½ä¼˜åŒ–</h3>
          <ul>
            <li>ä½¿ç”¨<code>useMemo</code>ç¼“å­˜æ˜‚è´µè®¡ç®—</li>
            <li>ä½¿ç”¨<code>useCallback</code>é¿å…å­ç»„ä»¶ä¸å¿…è¦é‡æ¸²æŸ“</li>
            <li>ä½¿ç”¨<code>React.memo</code>è®°å¿†ç»„ä»¶</li>
            <li>å¤æ‚ç»„ä»¶ä½¿ç”¨<code>useReducer</code>ç®¡ç†çŠ¶æ€</li>
          </ul>
        </div>
      </div>
    </div>

    <footer class="conclusion">
      <div class="summary">
        <h2>Reactå‡½æ•°å¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ ¸å¿ƒè¦ç‚¹</h2>
        <ul>
          <li><strong>æŒ‚è½½é˜¶æ®µï¼š</strong>ä½¿ç”¨<code>useEffect</code>ç©ºä¾èµ–æ•°ç»„æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼Œç±»ä¼¼<code>componentDidMount</code></li>
          <li><strong>æ›´æ–°é˜¶æ®µï¼š</strong>ä½¿ç”¨å¸¦ä¾èµ–æ•°ç»„çš„<code>useEffect</code>å“åº”å˜åŒ–ï¼Œç±»ä¼¼<code>componentDidUpdate</code></li>
          <li><strong>å¸è½½é˜¶æ®µï¼š</strong>é€šè¿‡<code>useEffect</code>è¿”å›çš„æ¸…ç†å‡½æ•°æ‰§è¡Œèµ„æºé‡Šæ”¾ï¼Œç±»ä¼¼<code>componentWillUnmount</code></li>
          <li><strong>DOMæ“ä½œï¼š</strong>ä½¿ç”¨<code>useLayoutEffect</code>è¿›è¡ŒåŒæ­¥DOMæ“ä½œ</li>
          <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong><code>useMemo</code>å’Œ<code>useCallback</code>é¿å…ä¸å¿…è¦è®¡ç®—å’Œæ¸²æŸ“</li>
        </ul>
      </div>

      <div class="callout">
        <p>ç†è§£å‡½æ•°å¼ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒæ¡Reactç°ä»£å¼€å‘çš„å…³é”®</p>
        <p class="highlight">æ­£ç¡®ç®¡ç†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå¯ä»¥é¿å…å†…å­˜æ³„æ¼ã€æé«˜æ€§èƒ½å¹¶åˆ›å»ºæ›´ç¨³å®šçš„åº”ç”¨</p>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
// è¿™é‡Œä¸éœ€è¦å®é™…é€»è¾‘ï¼Œä»…ç”¨äºæ¼”ç¤º
import { ref } from 'vue';

const activeTab = ref('mounting');
</script>

<style lang="less" scoped>
@font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
@primary-color: #61dafb;
@secondary-color: #20232a;
@text-primary: #2c3e50;
@text-secondary: #5c677d;
@border-color: #e1e4e8;
@background-light: #f8f9fa;
@card-bg: #ffffff;
@mount-color: #61dafb;
@update-color: #42b983;
@unmount-color: #ff6b6b;
@effect-color: #cc7b94;
@layout-effect-color: #3498db;
@warning-color: #ff9800;

.react-lifecycle-container {
  font-family: @font-family;
  max-width: 1200px;
  margin: 0 auto;
  padding: 25px;
  background-color: @background-light;
  color: @text-primary;
  line-height: 1.6;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, fade(@primary-color, 8%), fade(@primary-color, 4%));
  border-radius: 16px;
  padding: 30px;
  margin-bottom: 35px;
  border: 1px solid fade(@primary-color, 15%);

  .banner {
    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: @secondary-color;
    }

    .subtitle {
      font-size: 1.3rem;
      color: @text-secondary;
    }
  }

  .framework-icon {
    .react-logo {
      font-size: 6rem;
      opacity: 0.9;
    }
  }
}

.section {
  background: @card-bg;
  border-radius: 16px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);

  .section-title {
    font-size: 1.7rem;
    margin-top: 0;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid fade(@primary-color, 10%);
    display: flex;
    align-items: center;
    gap: 12px;

    .icon {
      font-size: 1.5rem;
    }
  }
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-bottom: 30px;
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

.info-card {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid @border-color;

  h3 {
    margin-top: 0;
    color: @secondary-color;
    font-size: 1.3rem;
    border-bottom: 1px solid fade(@border-color, 50%);
    padding-bottom: 10px;
  }

  ul {
    padding-left: 20px;

    li {
      margin-bottom: 10px;
      position: relative;

      &::before {
        content: "â€¢";
        position: absolute;
        left: -15px;
        color: @primary-color;
        font-weight: bold;
      }
    }
  }
}

.lifecycle-map {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 25px;
  flex-wrap: wrap;
  margin: 25px 0;

  .phase {
    background: white;
    border-radius: 12px;
    padding: 20px;
    min-width: 220px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    text-align: center;

    .phase-header {
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid @border-color;
    }
  }

  .mounting {
    border-top: 4px solid @mount-color;
  }

  .updating {
    border-top: 4px solid @update-color;
  }

  .unmounting {
    border-top: 4px solid @unmount-color;
  }

  .arrow {
    font-size: 2rem;
    color: @text-secondary;
    opacity: 0.7;
  }

  .hook-card {
    background: fade(@primary-color, 10%);
    padding: 10px 15px;
    border-radius: 30px;
    margin: 8px auto;
    font-weight: 500;
    font-family: 'Fira Code', monospace;

    .hook-desc {
      font-size: 0.8rem;
      margin-left: 5px;
      opacity: 0.7;
    }
  }
}

.hook-detail {
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px dashed @border-color;

  &:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .hook-name {
    font-family: 'Fira Code', monospace;
    font-weight: 600;
    color: @primary-color;
    margin-bottom: 5px;
  }
}

.code-section {
  margin-top: 30px;

  h3 {
    font-size: 1.3rem;
    color: @secondary-color;
    margin-bottom: 15px;
  }
}

.code-snippet {
  background: #282c34;
  color: #abb2bf;
  padding: 18px;
  border-radius: 8px;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  line-height: 1.5;
  overflow-x: auto;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.comparison-table {
  overflow-x: auto;
  margin: 30px 0;

  table {
    width: 100%;
    border-collapse: collapse;

    th,
    td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid @border-color;
    }

    th {
      background-color: fade(@primary-color, 8%);
      color: @secondary-color;
      font-weight: 600;
    }

    tr {
      &:hover {
        background-color: fade(@primary-color, 3%);
      }
    }

    .code-cell {
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      line-height: 1.4;
    }
  }
}

.phase-diagram {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  margin: 40px 0;

  .phase-stage {
    background: white;
    border-radius: 8px;
    padding: 15px;
    min-width: 140px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-top: 4px solid @primary-color;

    .phase-label {
      font-weight: 600;
      margin-bottom: 10px;
      color: @secondary-color;
    }

    .phase-box {
      font-size: 0.9rem;
      color: @text-secondary;
    }
  }

  .layout-phase {
    border-top-color: @layout-effect-color;
    background: fade(@layout-effect-color, 8%);
  }

  .effect-phase {
    border-top-color: @effect-color;
    background: fade(@effect-color, 8%);
  }

  .arrow {
    font-size: 1.5rem;
    color: @text-secondary;
    opacity: 0.7;
  }
}

.tip-card {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid @border-color;

  .tip-icon {
    font-size: 2rem;
    margin-bottom: 15px;
    color: @primary-color;
  }

  h3 {
    margin-top: 0;
    color: @secondary-color;
    font-size: 1.3rem;
  }

  ul {
    padding-left: 20px;

    li {
      margin-bottom: 12px;
      position: relative;

      strong {
        color: @secondary-color;
      }
    }
  }
}

.conclusion {
  background: linear-gradient(135deg, fade(@primary-color, 8%), fade(@primary-color, 4%));
  border-radius: 16px;
  padding: 35px;
  border: 1px solid fade(@primary-color, 15%);

  .summary {
    max-width: 800px;
    margin: 0 auto;

    h2 {
      text-align: center;
      font-size: 1.8rem;
      margin-top: 0;
      margin-bottom: 25px;
      color: @secondary-color;
    }

    ul {
      padding-left: 20px;

      li {
        margin-bottom: 15px;
        padding-left: 10px;
        position: relative;

        &::before {
          content: "â€¢";
          position: absolute;
          left: -10px;
          color: @primary-color;
          font-weight: bold;
        }

        strong {
          color: @secondary-color;
        }
      }
    }
  }

  .callout {
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    padding: 20px;
    margin-top: 30px;
    text-align: center;

    p {
      margin: 10px 0;
      font-size: 1.1rem;
    }

    .highlight {
      font-size: 1.3rem;
      font-weight: 600;
      color: @primary-color;
    }
  }
}

@media (max-width: 768px) {
  .header {
    flex-direction: column;
    text-align: center;
    padding: 20px 15px;

    h1 {
      font-size: 1.8rem;
    }

    .subtitle {
      font-size: 1.1rem;
    }

    .framework-icon {
      margin-top: 20px;
    }
  }

  .section {
    padding: 20px 15px;

    .section-title {
      font-size: 1.5rem;
    }
  }

  .lifecycle-map {
    flex-direction: column;

    .arrow {
      transform: rotate(90deg);
      margin: 15px 0;
    }
  }

  .phase-diagram {
    flex-direction: column;

    .arrow {
      transform: rotate(90deg);
      margin: 15px 0;
    }
  }
}
</style>
