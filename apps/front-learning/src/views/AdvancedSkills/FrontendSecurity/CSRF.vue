<template>
  <div class="csrf-container">
    <header class="app-header">
      <h1>CSRF è·¨ç«™è¯·æ±‚ä¼ªé€ åŸºç¡€ä»‹ç»</h1>
      <p class="subtitle">ç†è§£ã€é˜²èŒƒå’Œåº”å¯¹ Web å®‰å…¨ä¸­çš„éšå½¢å¨èƒ</p>
    </header>

    <div class="content-wrapper">
      <!-- æ¦‚å¿µä»‹ç» -->
      <section class="concept-section">
        <div class="info-card">
          <div class="header-with-icon">
            <div class="icon">ğŸ›¡ï¸</div>
            <h2>ä»€ä¹ˆæ˜¯ CSRFï¼Ÿ</h2>
          </div>
          <p>CSRFï¼ˆCross-Site Request Forgeryï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ˜¯ä¸€ç§ Web å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…è¯±ä½¿å·²è®¤è¯ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œéé¢„æœŸçš„æ“ä½œã€‚</p>

          <div class="key-points">
            <div class="point">
              <div class="point-icon">ğŸ”‘</div>
              <h3>æ ¸å¿ƒæ¦‚å¿µ</h3>
              <p>åˆ©ç”¨ç”¨æˆ·å·²ç™»å½•çš„èº«ä»½ï¼Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œæ¶æ„æ“ä½œ</p>
            </div>
            <div class="point">
              <div class="point-icon">ğŸ¯</div>
              <h3>æ”»å‡»ç›®æ ‡</h3>
              <p>çŠ¶æ€æ›´æ”¹æ“ä½œï¼ˆè½¬è´¦ã€æ”¹å¯†ã€å‘å¸–ç­‰ï¼‰è€Œéæ•°æ®çªƒå–</p>
            </div>
            <div class="point">
              <div class="point-icon">â±ï¸</div>
              <h3>å¿…è¦æ¡ä»¶</h3>
              <p>ç”¨æˆ·å·²ç™»å½•ç›®æ ‡ç«™ç‚¹ + ç”¨æˆ·è®¿é—®æ¶æ„é¡µé¢</p>
            </div>
          </div>

          <div class="impact-card">
            <h3>æ½œåœ¨å±å®³</h3>
            <div class="impact-grid">
              <div class="impact">
                <div class="impact-icon">ğŸ’¸</div>
                <p>èµ„é‡‘è½¬è´¦</p>
              </div>
              <div class="impact">
                <div class="impact-icon">ğŸ”“</div>
                <p>å¯†ç æ›´æ”¹</p>
              </div>
              <div class="impact">
                <div class="impact-icon">ğŸ“§</div>
                <p>é‚®ä»¶å‘é€</p>
              </div>
              <div class="impact">
                <div class="impact-icon">ğŸ›’</div>
                <p>è´­ç‰©æ“ä½œ</p>
              </div>
              <div class="impact">
                <div class="impact-icon">ğŸ“</div>
                <p>æ•°æ®ç¯¡æ”¹</p>
              </div>
              <div class="impact">
                <div class="impact-icon">ğŸ‘¤</div>
                <p>è´¦æˆ·æ¥ç®¡</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- æ”»å‡»åŸç† -->
      <section class="principle-section">
        <h2 class="section-title">CSRF æ”»å‡»åŸç†</h2>

        <div class="attack-flow">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>ç”¨æˆ·ç™»å½•</h3>
              <p>ç”¨æˆ·ç™»å½•å¯ä¿¡ç½‘ç«™ï¼ˆå¦‚ bank.comï¼‰ï¼ŒæœåŠ¡å™¨è¿”å›è®¤è¯ Cookie</p>
            </div>
          </div>

          <div class="arrow">â†“</div>

          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>è®¿é—®æ¶æ„ç½‘ç«™</h3>
              <p>ç”¨æˆ·è®¿é—®æ”»å‡»è€…åˆ›å»ºçš„æ¶æ„ç½‘ç«™ï¼ˆå¦‚ evil-site.comï¼‰</p>
            </div>
          </div>

          <div class="arrow">â†“</div>

          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>è‡ªåŠ¨è§¦å‘è¯·æ±‚</h3>
              <p>æ¶æ„é¡µé¢è‡ªåŠ¨å‘ bank.com å‘é€è¯·æ±‚ï¼ˆå¦‚è½¬è´¦è¯·æ±‚ï¼‰</p>
              <pre class="code-block">&lt;img src="https://bank.com/transfer?to=attacker&amount=1000"&gt;</pre>
            </div>
          </div>

          <div class="arrow">â†“</div>

          <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>æºå¸¦è®¤è¯ä¿¡æ¯</h3>
              <p>æµè§ˆå™¨è‡ªåŠ¨é™„åŠ  bank.com çš„ Cookie åˆ°è¯·æ±‚ä¸­</p>
            </div>
          </div>

          <div class="arrow">â†“</div>

          <div class="step">
            <div class="step-number">5</div>
            <div class="step-content">
              <h3>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h3>
              <p>bank.com æœåŠ¡å™¨éªŒè¯ Cookie æœ‰æ•ˆï¼Œæ‰§è¡Œè½¬è´¦æ“ä½œ</p>
            </div>
          </div>
        </div>

        <div class="technical-details">
          <h3>æŠ€æœ¯ç»†èŠ‚</h3>
          <ul>
            <li>æµè§ˆå™¨ä¼šè‡ªåŠ¨å‘é€ä¸ç›®æ ‡åŸŸå…³è”çš„ Cookie</li>
            <li>æ”»å‡»è€…ä¸éœ€è¦çŸ¥é“ç”¨æˆ·çš„ Cookie å†…å®¹</li>
            <li>è¯·æ±‚å¯ä»¥éšè—åœ¨å›¾ç‰‡ã€iframeã€è¡¨å•ç­‰å…ƒç´ ä¸­</li>
            <li>æ”»å‡»æˆåŠŸçš„å…³é”®ï¼šè¯·æ±‚å‚æ•°å¯é¢„æµ‹ä¸”æ— äºŒæ¬¡éªŒè¯</li>
          </ul>
        </div>
      </section>

      <!-- æ”»å‡»ç¤ºä¾‹ -->
      <section class="example-section">
        <h2 class="section-title">CSRF æ”»å‡»ç¤ºä¾‹</h2>

        <div class="example-tabs">
          <div class="tabs">
            <button v-for="(tab, index) in tabs" :key="index" :class="{ active: activeTab === index }"
              @click="activeTab = index">
              {{ tab.title }}
            </button>
          </div>

          <div class="tab-content">
            <div v-if="activeTab === 0" class="example-content">
              <h3>GET è¯·æ±‚æ”»å‡»</h3>
              <pre class="code-block">&lt;!-- æ¶æ„é¡µé¢ä¸­çš„æ”»å‡»ä»£ç  --&gt;
&lt;img src="https://bank.com/transfer?to=attacker&amount=1000"&gt;

&lt;!-- ç­‰æ•ˆçš„åˆæ³•è¯·æ±‚ --&gt;
GET /transfer?to=attacker&amount=1000 HTTP/1.1
Host: bank.com
Cookie: session_id=user_session_cookie</pre>
              <div class="explanation">
                <h4>æ”»å‡»åŸç†ï¼š</h4>
                <ul>
                  <li>åˆ©ç”¨ GET è¯·æ±‚æ”¹å˜çŠ¶æ€çš„é”™è¯¯è®¾è®¡</li>
                  <li>æµè§ˆå™¨è‡ªåŠ¨åŠ è½½å›¾ç‰‡æ—¶å‘é€è¯·æ±‚</li>
                  <li>ç”¨æˆ·æ— æ„ŸçŸ¥</li>
                </ul>
              </div>
            </div>

            <div v-if="activeTab === 1" class="example-content">
              <h3>POST è¯·æ±‚æ”»å‡»</h3>
              <pre class="code-block">&lt;!-- æ¶æ„é¡µé¢ä¸­çš„æ”»å‡»ä»£ç  --&gt;
&lt;form action="https://bank.com/transfer" method="POST" id="csrf-form"&gt;
  &lt;input type="hidden" name="to" value="attacker"&gt;
  &lt;input type="hidden" name="amount" value="1000"&gt;
&lt;/form&gt;
&lt;script&gt;document.getElementById('csrf-form').submit();&lt;/script&gt;

&lt;!-- ç­‰æ•ˆçš„åˆæ³•è¯·æ±‚ --&gt;
POST /transfer HTTP/1.1
Host: bank.com
Cookie: session_id=user_session_cookie

to=attacker&amount=1000</pre>
              <div class="explanation">
                <h4>æ”»å‡»åŸç†ï¼š</h4>
                <ul>
                  <li>è‡ªåŠ¨æäº¤éšè—è¡¨å•</li>
                  <li>é€‚ç”¨äºéœ€è¦ POST è¯·æ±‚çš„æ“ä½œ</li>
                  <li>ç”¨æˆ·å¯èƒ½çœ‹åˆ°é¡µé¢åˆ·æ–°ï¼Œä½†æ“ä½œå·²å®Œæˆ</li>
                </ul>
              </div>
            </div>

            <div v-if="activeTab === 2" class="example-content">
              <h3>JSON API æ”»å‡»</h3>
              <pre class="code-block">&lt;script&gt;
fetch('https://api.bank.com/transfer', {
  method: 'POST',
  credentials: 'include', // åŒ…å« cookie
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ to: 'attacker', amount: 1000 })
});
&lt;/script&gt;

&lt;!-- ç­‰æ•ˆçš„åˆæ³•è¯·æ±‚ --&gt;
POST /transfer HTTP/1.1
Host: api.bank.com
Cookie: session_id=user_session_cookie
Content-Type: application/json

{"to":"attacker","amount":1000}</pre>
              <div class="explanation">
                <h4>æ”»å‡»åŸç†ï¼š</h4>
                <ul>
                  <li>ç°ä»£å•é¡µåº”ç”¨å¸¸è§æ¼æ´</li>
                  <li>åˆ©ç”¨ fetch API è‡ªåŠ¨å‘é€è¯·æ±‚</li>
                  <li>éœ€è¦å¤„ç† CORSï¼Œä½†ç®€å•è¯·æ±‚ä¼šè‡ªåŠ¨å‘é€</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- é˜²æŠ¤æ–¹æ¡ˆ -->
      <section class="protection-section">
        <h2 class="section-title">CSRF é˜²æŠ¤æ–¹æ¡ˆ</h2>

        <div class="protection-methods">
          <div class="method-card">
            <div class="method-header">
              <div class="icon">ğŸ”</div>
              <h3>CSRF Tokens</h3>
              <div class="effectiveness">æœ€å¸¸ç”¨ä¸”æœ‰æ•ˆ</div>
            </div>
            <div class="method-content">
              <h4>å·¥ä½œåŸç†ï¼š</h4>
              <ol>
                <li>æœåŠ¡å™¨ä¸ºæ¯ä¸ªä¼šè¯ç”Ÿæˆå”¯ä¸€ Token</li>
                <li>Token åµŒå…¥è¡¨å•æˆ–ä½œä¸º HTTP å¤´</li>
                <li>æœåŠ¡å™¨éªŒè¯æ¯ä¸ªçŠ¶æ€æ›´æ”¹è¯·æ±‚çš„ Token</li>
              </ol>

              <div class="implementation">
                <h4>å®ç°ç¤ºä¾‹ï¼š</h4>
                <div class="code-group">
                  <div class="server-code">
                    <h5>æœåŠ¡å™¨ç«¯ (Node.js)ï¼š</h5>
                    <pre class="code-block">// ç”Ÿæˆ CSRF Token
const csrf = require('csrf');
const tokens = csrf();
const secret = await tokens.secret();
const token = tokens.create(secret);

// å‘é€ç»™å®¢æˆ·ç«¯
res.cookie('XSRF-TOKEN', token);
res.render('form', { csrfToken: token });</pre>
                  </div>
                  <div class="client-code">
                    <h5>å®¢æˆ·ç«¯ (HTML)ï¼š</h5>
                    <pre class="code-block">&lt;form action="/transfer" method="POST"&gt;
  &lt;input type="hidden" name="_csrf" value="&lt;%= csrfToken %&gt;"&gt;
  &lt;!-- å…¶ä»–è¡¨å•å­—æ®µ --&gt;
&lt;/form&gt;

&lt;!-- æˆ–è€…ä½œä¸º HTTP å¤´ --&gt;
fetch('/api/transfer', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-CSRF-Token': getCookie('XSRF-TOKEN')
  },
  body: JSON.stringify(data)
});</pre>
                  </div>
                </div>
              </div>

              <div class="advantages">
                <h4>ä¼˜ç‚¹ï¼š</h4>
                <ul>
                  <li>é«˜æ•ˆé˜²å¾¡ CSRF æ”»å‡»</li>
                  <li>ä¸æ¡†æ¶æ— å…³ï¼Œé€šç”¨æ€§å¼º</li>
                  <li>é€‚ç”¨äºå„ç§è¯·æ±‚ç±»å‹</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="method-card">
            <div class="method-header">
              <div class="icon">ğŸª</div>
              <h3>SameSite Cookie å±æ€§</h3>
              <div class="effectiveness">ç°ä»£æµè§ˆå™¨æœ‰æ•ˆé˜²å¾¡</div>
            </div>
            <div class="method-content">
              <h4>å·¥ä½œåŸç†ï¼š</h4>
              <p>è®¾ç½® Cookie çš„ SameSite å±æ€§ï¼Œé™åˆ¶ç¬¬ä¸‰æ–¹ç½‘ç«™å‘é€ Cookie</p>

              <div class="samesite-options">
                <div class="option">
                  <h5>Strict</h5>
                  <pre class="code-block">Set-Cookie: session_id=abc123; SameSite=Strict</pre>
                  <p>å®Œå…¨ç¦æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™å‘é€ Cookie</p>
                </div>
                <div class="option">
                  <h5>Lax</h5>
                  <pre class="code-block">Set-Cookie: session_id=abc123; SameSite=Lax</pre>
                  <p>å…è®¸å®‰å…¨æ–¹æ³•ï¼ˆGETï¼‰çš„è·¨ç«™è¯·æ±‚å‘é€ Cookie</p>
                </div>
                <div class="option">
                  <h5>None</h5>
                  <pre class="code-block">Set-Cookie: session_id=abc123; SameSite=None; Secure</pre>
                  <p>å…è®¸è·¨ç«™å‘é€ Cookieï¼Œä½†å¿…é¡»åŒæ—¶è®¾ç½® Secure å±æ€§</p>
                </div>
              </div>

              <div class="browser-support">
                <h4>æµè§ˆå™¨æ”¯æŒï¼š</h4>
                <ul>
                  <li>Chrome â‰¥ 51 âœ…</li>
                  <li>Firefox â‰¥ 60 âœ…</li>
                  <li>Safari â‰¥ 12.1 âœ…</li>
                  <li>Edge â‰¥ 79 âœ…</li>
                  <li>Internet Explorer âŒ</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="method-card">
            <div class="method-header">
              <div class="icon">ğŸ”„</div>
              <h3>åŒé‡æäº¤ Cookie</h3>
              <div class="effectiveness">ç®€å•æ˜“å®ç°</div>
            </div>
            <div class="method-content">
              <h4>å·¥ä½œåŸç†ï¼š</h4>
              <ol>
                <li>æœåŠ¡å™¨è®¾ç½®åŒ…å«éšæœºå€¼çš„ Cookie</li>
                <li>å®¢æˆ·ç«¯åœ¨è¯·æ±‚ä¸­åŒ…å«ç›¸åŒçš„å€¼ï¼ˆè¡¨å•å­—æ®µæˆ– HTTP å¤´ï¼‰</li>
                <li>æœåŠ¡å™¨æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦åŒ¹é…</li>
              </ol>

              <pre class="code-block">// æœåŠ¡å™¨è®¾ç½® Cookie
Set-Cookie: CSRF-TOKEN=random_value; Secure; HttpOnly

// å®¢æˆ·ç«¯å‘é€è¯·æ±‚
POST /transfer HTTP/1.1
Host: example.com
Cookie: CSRF-TOKEN=random_value
X-CSRF-Token: random_value

// æœåŠ¡å™¨éªŒè¯
if (req.cookies['CSRF-TOKEN'] === req.headers['x-csrf-token']) {
  // è¯·æ±‚åˆæ³•
}</pre>

              <div class="advantages">
                <h4>ä¼˜ç‚¹ï¼š</h4>
                <ul>
                  <li>å®ç°ç®€å•</li>
                  <li>ä¸éœ€è¦æœåŠ¡å™¨å­˜å‚¨çŠ¶æ€</li>
                  <li>é€‚ç”¨äº RESTful API</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="method-card">
            <div class="method-header">
              <div class="icon">ğŸ‘ï¸</div>
              <h3>ç”¨æˆ·äº¤äº’éªŒè¯</h3>
              <div class="effectiveness">é«˜å®‰å…¨æ€§ä½†å½±å“ä½“éªŒ</div>
            </div>
            <div class="method-content">
              <h4>å®ç°æ–¹å¼ï¼š</h4>
              <ul>
                <li><strong>é‡æ–°è®¤è¯</strong>ï¼šæ•æ„Ÿæ“ä½œå‰è¦æ±‚å†æ¬¡è¾“å…¥å¯†ç </li>
                <li><strong>CAPTCHA</strong>ï¼šæ·»åŠ äººæœºéªŒè¯</li>
                <li><strong>äºŒæ¬¡ç¡®è®¤</strong>ï¼šæ“ä½œå‰æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†</li>
                <li><strong>OTPéªŒè¯</strong>ï¼šé€šè¿‡çŸ­ä¿¡/é‚®ä»¶å‘é€ä¸€æ¬¡æ€§å¯†ç </li>
              </ul>

              <div class="use-cases">
                <h4>é€‚ç”¨åœºæ™¯ï¼š</h4>
                <ul>
                  <li>é«˜é£é™©æ“ä½œï¼ˆè½¬è´¦ã€æ”¹å¯†ï¼‰</li>
                  <li>ç®¡ç†å‘˜åå°æ“ä½œ</li>
                  <li>å…³é”®æ•°æ®ä¿®æ”¹</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- æœ€ä½³å®è·µ -->
      <section class="best-practices">
        <h2 class="section-title">CSRF é˜²æŠ¤æœ€ä½³å®è·µ</h2>

        <div class="practice-grid">
          <div class="practice-card">
            <div class="practice-icon">ğŸ”’</div>
            <h3>æ·±åº¦é˜²å¾¡ç­–ç•¥</h3>
            <ul>
              <li>åŒæ—¶ä½¿ç”¨ CSRF Token å’Œ SameSite Cookie</li>
              <li>å¯¹æ•æ„Ÿæ“ä½œæ·»åŠ ç”¨æˆ·éªŒè¯</li>
              <li>å…³é”®æ“ä½œä½¿ç”¨ POST è€Œé GET</li>
            </ul>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸš«</div>
            <h3>é¿å…åæ¨¡å¼</h3>
            <ul>
              <li>ä¸è¦ä¾èµ– Referer å¤´éªŒè¯</li>
              <li>ä¸è¦å°† CSRF Token å­˜å‚¨åœ¨ Cookie ä¸­</li>
              <li>ä¸è¦ä»…ä¾èµ–è¯·æ±‚æ–¹æ³•è¿›è¡ŒéªŒè¯</li>
            </ul>
          </div>

          <div class="practice-card">
            <div class="practice-icon">ğŸ”</div>
            <h3>å®‰å…¨å®¡è®¡</h3>
            <ul>
              <li>å®šæœŸè¿›è¡Œå®‰å…¨æ‰«æ</li>
              <li>ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹æ¼æ´</li>
              <li>è¿›è¡Œæ¸—é€æµ‹è¯•</li>
            </ul>
          </div>
        </div>

        <div class="framework-integration">
          <h3>æ¡†æ¶é›†æˆ</h3>
          <div class="framework-examples">
            <div class="example">
              <h4>Express.js (csurf ä¸­é—´ä»¶)</h4>
              <pre class="code-block">const csrf = require('csurf');
const cookieParser = require('cookie-parser');

app.use(cookieParser());
app.use(csrf({ cookie: true }));

// æä¾› CSRF token ç»™è§†å›¾
app.use((req, res, next) => {
  res.locals.csrfToken = req.csrfToken();
  next();
});

// éªŒè¯æ‰€æœ‰ POST è¯·æ±‚
app.post('/process', (req, res) => {
  // è‡ªåŠ¨éªŒè¯ CSRF token
  res.send('Success');
});</pre>
            </div>

            <div class="example">
              <h4>Django (å†…ç½® CSRF é˜²æŠ¤)</h4>
              <pre class="code-block"># settings.py
MIDDLEWARE = [
    # ...
    'django.middleware.csrf.CsrfViewMiddleware',
]

# æ¨¡æ¿ä¸­
&lt;form method="post"&gt;
  {% csrf_token %}
  &lt;!-- è¡¨å•å†…å®¹ --&gt;
&lt;/form&gt;

# è§†å›¾ä¸­
from django.views.decorators.csrf import csrf_protect

@csrf_protect
def my_view(request):
    # å—ä¿æŠ¤è§†å›¾
    return HttpResponse('Success')</pre>
            </div>
          </div>
        </div>
      </section>

      <!-- æ€»ç»“ -->
      <section class="summary-section">
        <h2 class="section-title">æ€»ç»“ä¸å…³é”®è¦ç‚¹</h2>

        <div class="summary-grid">
          <div class="key-point">
            <div class="point-icon">â—</div>
            <h3>CSRF æœ¬è´¨</h3>
            <p>åˆ©ç”¨æµè§ˆå™¨çš„ Cookie å‘é€æœºåˆ¶ï¼Œè€Œéç›´æ¥çªƒå–å‡­è¯</p>
          </div>

          <div class="key-point">
            <div class="point-icon">ğŸ›¡ï¸</div>
            <h3>æ ¸å¿ƒé˜²å¾¡</h3>
            <p>éªŒè¯è¯·æ±‚æ˜¯å¦æ¥è‡ªåˆæ³•æºï¼Œè€Œéä»…éªŒè¯ç”¨æˆ·èº«ä»½</p>
          </div>

          <div class="key-point">
            <div class="point-icon">ğŸ”‘</div>
            <h3>é˜²æŠ¤æ–¹æ¡ˆ</h3>
            <p>CSRF Token + SameSite Cookie æ˜¯æœ€ä½³ç»„åˆæ–¹æ¡ˆ</p>
          </div>

          <div class="key-point">
            <div class="point-icon">âœ…</div>
            <h3>å®è·µå»ºè®®</h3>
            <p>å¯¹çŠ¶æ€æ›´æ”¹æ“ä½œå®æ–½é˜²å¾¡ï¼Œç‰¹åˆ«æ˜¯æ•æ„Ÿæ“ä½œ</p>
          </div>
        </div>

        <div class="final-tips">
          <h3>å®‰å…¨å¼€å‘åŸåˆ™</h3>
          <ul>
            <li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šç”¨æˆ·åªèƒ½è®¿é—®å¿…è¦çš„èµ„æº</li>
            <li><strong>æ·±åº¦é˜²å¾¡</strong>ï¼šå¤šå±‚å®‰å…¨æªæ–½é˜²æ­¢å•ç‚¹å¤±æ•ˆ</li>
            <li><strong>æŒç»­æ›´æ–°</strong>ï¼šä¿æŒæ¡†æ¶å’Œåº“çš„æœ€æ–°ç‰ˆæœ¬</li>
            <li><strong>å®‰å…¨å®¡è®¡</strong>ï¼šå®šæœŸè¿›è¡Œä»£ç å®¡æŸ¥å’Œæ¸—é€æµ‹è¯•</li>
          </ul>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const tabs = ref([
  { title: 'GET è¯·æ±‚æ”»å‡»' },
  { title: 'POST è¯·æ±‚æ”»å‡»' },
  { title: 'JSON API æ”»å‡»' }
]);

const activeTab = ref(0);
</script>

<style lang="less" scoped>
@primary-color: #4361ee;
@secondary-color: #3a0ca3;
@accent-color: #4cc9f0;
@light-bg: #f8f9fa;
@card-bg: #ffffff;
@border-color: #e0e0e0;
@code-bg: #2d2d2d;
@danger-color: #e74c3c;
@success-color: #2ecc71;

.csrf-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
  background-color: @light-bg;
  color: #333;
  min-height: 100vh;
  line-height: 1.6;
}

.app-header {
  text-align: center;
  margin-bottom: 30px;
  padding: 30px 20px;
  background: linear-gradient(135deg, @primary-color, @secondary-color);
  color: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

  h1 {
    margin: 0;
    font-size: 2.5rem;
    font-weight: 700;
  }

  .subtitle {
    margin: 10px 0 0;
    font-size: 1.2rem;
    opacity: 0.9;
    font-weight: 300;
  }
}

.content-wrapper {
  background-color: white;
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
}

.section-title {
  font-size: 1.8rem;
  color: @secondary-color;
  border-bottom: 2px solid @primary-color;
  padding-bottom: 10px;
  margin-top: 40px;
  margin-bottom: 20px;
}

// æ¦‚å¿µä»‹ç»éƒ¨åˆ†
.concept-section {
  .info-card {
    background-color: #eef2ff;
    border-left: 4px solid @primary-color;
    padding: 25px;
    border-radius: 8px;
    margin-bottom: 30px;

    .header-with-icon {
      display: flex;
      align-items: center;
      margin-bottom: 20px;

      .icon {
        font-size: 2rem;
        margin-right: 15px;
        color: @primary-color;
      }

      h2 {
        margin: 0;
        color: @secondary-color;
        font-size: 1.6rem;
      }
    }

    p {
      font-size: 1.1rem;
      margin-bottom: 20px;
    }
  }

  .key-points {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 25px 0;

    .point {
      background-color: @card-bg;
      border: 1px solid @border-color;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);

      .point-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: @primary-color;
      }

      h3 {
        margin: 0 0 10px 0;
        color: @secondary-color;
      }

      p {
        margin: 0;
        color: #555;
        font-size: 0.95rem;
      }
    }
  }

  .impact-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 20px;
    margin-top: 25px;

    h3 {
      margin-top: 0;
      color: @secondary-color;
      font-size: 1.4rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
  }

  .impact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 15px;

    .impact {
      text-align: center;
      padding: 15px;
      background-color: #ffebee;
      border-radius: 8px;
      border-left: 4px solid @danger-color;

      .impact-icon {
        font-size: 2rem;
        margin-bottom: 10px;
      }

      p {
        margin: 0;
        font-weight: 500;
      }
    }
  }
}

// æ”»å‡»åŸç†éƒ¨åˆ†
.principle-section {
  .attack-flow {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 30px 0;

    .step {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 700px;
      margin: 15px 0;
      padding: 20px;
      background-color: @card-bg;
      border: 1px solid @border-color;
      border-radius: 8px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);

      .step-number {
        width: 40px;
        height: 40px;
        background-color: @primary-color;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        font-weight: bold;
        margin-right: 20px;
        flex-shrink: 0;
      }

      .step-content {
        h3 {
          margin: 0 0 10px 0;
          color: @secondary-color;
          font-size: 1.3rem;
        }

        p {
          margin: 0;
          color: #555;
        }
      }
    }

    .arrow {
      font-size: 2rem;
      color: @primary-color;
      margin: 5px 0;
    }
  }

  .technical-details {
    background-color: #fff8e1;
    border-radius: 8px;
    padding: 25px;
    margin-top: 30px;
    border-left: 4px solid #ffc107;

    h3 {
      margin-top: 0;
      color: #ff9800;
    }

    ul {
      padding-left: 20px;
      margin: 15px 0 0;

      li {
        margin-bottom: 12px;
        position: relative;
        padding-left: 25px;

        &::before {
          content: "â€¢";
          color: #ff9800;
          font-weight: bold;
          position: absolute;
          left: 10px;
          font-size: 1.2rem;
        }
      }
    }
  }
}

// ä»£ç å—æ ·å¼
.code-block {
  background-color: @code-bg;
  color: #f8f8f2;
  border-radius: 8px;
  padding: 18px;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  line-height: 1.5;
  overflow: auto;
  margin: 15px 0;
}

// æ”»å‡»ç¤ºä¾‹éƒ¨åˆ†
.example-section {
  .example-tabs {
    background-color: @card-bg;
    border: 1px solid @border-color;
    border-radius: 8px;
    overflow: hidden;
    margin-top: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .tabs {
    display: flex;
    background-color: #f0f4ff;
    border-bottom: 1px solid @border-color;

    button {
      flex: 1;
      padding: 15px 20px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 500;
      color: #555;
      transition: all 0.3s;

      &.active {
        background-color: @primary-color;
        color: white;
      }

      &:not(.active):hover {
        background-color: #e0e6ff;
      }
    }
  }

  .tab-content {
    padding: 25px;

    .example-content {
      h3 {
        margin-top: 0;
        color: @secondary-color;
        font-size: 1.4rem;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
      }
    }
  }

  .explanation {
    background-color: #f5f7fa;
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px;

    h4 {
      margin-top: 0;
      color: @primary-color;
    }

    ul {
      padding-left: 20px;
      margin: 10px 0 0;

      li {
        margin-bottom: 8px;
      }
    }
  }
}

// é˜²æŠ¤æ–¹æ¡ˆéƒ¨åˆ†
.protection-section {
  .protection-methods {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 25px;
    margin-top: 20px;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .method-card {
    background-color: @card-bg;
    border: 1px solid @border-color;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

    .method-header {
      display: flex;
      align-items: center;
      padding: 15px 20px;
      background: linear-gradient(to right, #f0f4ff, #e6f7ff);
      border-bottom: 1px solid @border-color;

      .icon {
        font-size: 1.8rem;
        margin-right: 15px;
        color: @primary-color;
      }

      h3 {
        margin: 0;
        color: @secondary-color;
        font-size: 1.3rem;
        flex: 1;
      }

      .effectiveness {
        background-color: #e8f5e9;
        color: #2e7d32;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
      }
    }

    .method-content {
      padding: 20px;

      h4 {
        color: @primary-color;
        margin-top: 0;
      }
    }
  }
}

.code-group {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin: 20px 0;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }

  .server-code,
  .client-code {
    h5 {
      margin: 0 0 10px;
      color: @secondary-color;
      font-size: 1rem;
    }
  }
}

.samesite-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin: 20px 0;

  .option {
    background-color: #f5f7fa;
    border-radius: 8px;
    padding: 15px;

    h5 {
      margin: 0 0 10px;
      color: @secondary-color;
    }

    p {
      margin: 10px 0 0;
      font-size: 0.9rem;
      color: #555;
    }
  }
}

.browser-support {
  ul {
    padding-left: 20px;
    margin: 15px 0 0;

    li {
      margin-bottom: 8px;
      position: relative;
      padding-left: 25px;

      &::before {
        content: "â€¢";
        font-weight: bold;
        position: absolute;
        left: 10px;
      }
    }
  }
}

// æœ€ä½³å®è·µéƒ¨åˆ†
.best-practices {
  .practice-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .practice-card {
    background-color: @card-bg;
    border: 1px solid @border-color;
    border-radius: 8px;
    padding: 25px 20px;
    text-align: center;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);

    .practice-icon {
      font-size: 2.5rem;
      margin-bottom: 15px;
      color: @primary-color;
    }

    h3 {
      margin: 0 0 15px 0;
      color: @secondary-color;
      font-size: 1.3rem;
    }

    ul {
      padding-left: 20px;
      margin: 0;
      text-align: left;

      li {
        margin-bottom: 10px;
      }
    }
  }

  .framework-integration {
    margin-top: 40px;

    h3 {
      color: @secondary-color;
      font-size: 1.5rem;
      margin-bottom: 20px;
    }

    .framework-examples {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 25px;

      .example {
        background-color: @card-bg;
        border: 1px solid @border-color;
        border-radius: 8px;
        padding: 20px;

        h4 {
          margin-top: 0;
          color: @primary-color;
          padding-bottom: 10px;
          border-bottom: 1px solid #eee;
        }
      }
    }
  }
}

// æ€»ç»“éƒ¨åˆ†
.summary-section {
  .summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;

    .key-point {
      background-color: @card-bg;
      border: 1px solid @border-color;
      border-radius: 8px;
      padding: 25px 20px;
      text-align: center;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);

      .point-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: @primary-color;
      }

      h3 {
        margin: 0 0 10px 0;
        color: @secondary-color;
        font-size: 1.3rem;
      }

      p {
        margin: 0;
        color: #555;
      }
    }
  }

  .final-tips {
    background-color: #e8f5e9;
    border-radius: 8px;
    padding: 25px;
    margin-top: 30px;
    border-left: 4px solid #4caf50;

    h3 {
      margin-top: 0;
      color: #2e7d32;
    }

    ul {
      padding-left: 20px;
      margin: 15px 0 0;

      li {
        margin-bottom: 12px;
        position: relative;
        padding-left: 25px;

        &::before {
          content: "â€¢";
          color: #2e7d32;
          font-weight: bold;
          position: absolute;
          left: 10px;
          font-size: 1.2rem;
        }

        strong {
          color: @secondary-color;
        }
      }
    }
  }
}

// å“åº”å¼è°ƒæ•´
@media (max-width: 768px) {
  .app-header h1 {
    font-size: 2rem;
  }

  .section-title {
    font-size: 1.6rem;
  }

  .key-points,
  .impact-grid,
  .protection-methods,
  .framework-examples {
    grid-template-columns: 1fr !important;
  }

  .attack-flow .step {
    flex-direction: column;
    text-align: center;

    .step-number {
      margin-right: 0;
      margin-bottom: 15px;
    }
  }
}
</style>
