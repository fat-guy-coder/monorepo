<template>
  <div class="globalthis-container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <section class="header-section">
      <h1 class="title">globalThis</h1>
      <div class="subtitle">JavaScript çš„å…¨å±€å¯¹è±¡æ ‡å‡†åŒ–è®¿é—®æ–¹å¼</div>
      <div class="quick-facts">
        <div class="fact-card">
          <div class="fact-icon">ğŸ“…</div>
          <div class="fact-content">
            <div class="fact-value">ES2020</div>
            <div class="fact-label">ECMAScriptç‰ˆæœ¬</div>
          </div>
        </div>
        <div class="fact-card">
          <div class="fact-icon">ğŸ”„</div>
          <div class="fact-content">
            <div class="fact-value">è·¨ç¯å¢ƒ</div>
            <div class="fact-label">è¿è¡Œç¯å¢ƒå…¼å®¹</div>
          </div>
        </div>
        <div class="fact-card">
          <div class="fact-icon">ğŸ”</div>
          <div class="fact-content">
            <div class="fact-value">å…¨å±€è®¿é—®</div>
            <div class="fact-label">ä¸»è¦ç”¨é€”</div>
          </div>
        </div>
      </div>
    </section>

    <!-- å†…å®¹ç›®å½• -->
    <section class="toc-section">
      <h2 class="section-title">ğŸ“‘ å†…å®¹ç›®å½•</h2>
      <div class="toc-grid">
        <div
          v-for="(item, index) in tocItems"
          :key="index"
          class="toc-item"
          @click="scrollToSection(item.id)"
        >
          <div class="toc-number">{{ index + 1 }}</div>
          <div class="toc-text">{{ item.text }}</div>
        </div>
      </div>
    </section>

    <!-- åŸºæœ¬æ¦‚å¿µ -->
    <section id="basic-concept" class="content-section">
      <h2 class="section-title">1. åŸºæœ¬æ¦‚å¿µ</h2>
      <div class="concept-grid">
        <div class="concept-card">
          <div class="concept-icon">ğŸŒ</div>
          <div class="concept-content">
            <h3>ä»€ä¹ˆæ˜¯ globalThisï¼Ÿ</h3>
            <p>
              <code>globalThis</code> æ˜¯ JavaScript ä¸­è®¿é—®å…¨å±€å¯¹è±¡çš„æ ‡å‡†åŒ–æ–¹å¼ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„å±æ€§æ¥è·å–å½“å‰ç¯å¢ƒä¸‹çš„å…¨å±€å¯¹è±¡ã€‚
            </p>
            <p>
              åœ¨ ES2020 ä¹‹å‰ï¼Œä¸åŒ JavaScript ç¯å¢ƒï¼ˆæµè§ˆå™¨ã€Node.jsã€Web Worker ç­‰ï¼‰è®¿é—®å…¨å±€å¯¹è±¡çš„æ–¹å¼å„ä¸ç›¸åŒã€‚
            </p>
          </div>
        </div>
        <div class="concept-card">
          <div class="concept-icon">ğŸ¯</div>
          <div class="concept-content">
            <h3>ä¸ºä»€ä¹ˆéœ€è¦ globalThisï¼Ÿ</h3>
            <p>
              è§£å†³ä¸åŒç¯å¢ƒä¸‹å…¨å±€å¯¹è±¡è®¿é—®æ–¹å¼ä¸ä¸€è‡´çš„é—®é¢˜ï¼š
            </p>
            <ul>
              <li>æµè§ˆå™¨: <code>window</code></li>
              <li>Node.js: <code>global</code></li>
              <li>Web Worker: <code>self</code></li>
            </ul>
            <p>
              <code>globalThis</code> æä¾›äº†ç»Ÿä¸€çš„è®¿é—®æ–¹å¼ï¼Œä½¿ä»£ç å¯ä»¥è·¨ç¯å¢ƒè¿è¡Œã€‚
            </p>
          </div>
        </div>
      </div>

      <div class="code-example">
        <h3>å…¨å±€å¯¹è±¡åœ¨ä¸åŒç¯å¢ƒä¸­çš„è¡¨ç°</h3>
        <pre><code>// æµè§ˆå™¨ä¸­
console.log(globalThis === window); // true

// Node.jsä¸­
console.log(globalThis === global); // true

// Web Workerä¸­
console.log(globalThis === self); // true</code></pre>
      </div>
    </section>

    <!-- ä½¿ç”¨ç¤ºä¾‹ -->
    <section id="usage-examples" class="content-section">
      <h2 class="section-title">2. ä½¿ç”¨ç¤ºä¾‹</h2>

      <div class="example-grid">
        <div class="example-card">
          <div class="example-header">
            <div class="example-icon">1ï¸âƒ£</div>
            <h3>åŸºæœ¬ç”¨æ³•</h3>
          </div>
          <div class="example-content">
            <pre><code>// å®šä¹‰å…¨å±€å˜é‡
globalThis.myGlobalVar = 'Hello, globalThis!';

// åœ¨ä»»ä½•åœ°æ–¹è®¿é—®
console.log(myGlobalVar); // 'Hello, globalThis!'
console.log(globalThis.myGlobalVar); // 'Hello, globalThis!'</code></pre>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <div class="example-icon">2ï¸âƒ£</div>
            <h3>è·¨ç¯å¢ƒå…¼å®¹</h3>
          </div>
          <div class="example-content">
            <pre><code>// æ—§æ–¹å¼ - éœ€è¦ç¯å¢ƒæ£€æµ‹
const getGlobal = () => {
  if (typeof self !== 'undefined') return self;
  if (typeof window !== 'undefined') return window;
  if (typeof global !== 'undefined') return global;
  throw new Error('æ— æ³•æ‰¾åˆ°å…¨å±€å¯¹è±¡');
};

// æ–°æ–¹å¼ - ç›´æ¥ä½¿ç”¨ globalThis
const globalObj = globalThis;</code></pre>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <div class="example-icon">3ï¸âƒ£</div>
            <h3>æ·»åŠ å…¨å±€æ–¹æ³•</h3>
          </div>
          <div class="example-content">
            <pre><code>// æ·»åŠ å…¨å±€å·¥å…·æ–¹æ³•
globalThis.formatDate = (date) => {
  return new Date(date).toLocaleDateString();
};

// åœ¨ä»»ä½•æ¨¡å—ä¸­ä½¿ç”¨
console.log(globalThis.formatDate('2023-01-01'));</code></pre>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <div class="example-icon">4ï¸âƒ£</div>
            <h3>å…¨å±€é…ç½®</h3>
          </div>
          <div class="example-content">
            <pre><code>// è®¾ç½®å…¨å±€é…ç½®
globalThis.appConfig = {
  apiBaseUrl: 'https://api.example.com',
  debugMode: false,
  version: '1.0.0'
};

// åœ¨åº”ç”¨ä»»ä½•åœ°æ–¹è®¿é—®é…ç½®
if (globalThis.appConfig.debugMode) {
  console.log('Debug mode is enabled');
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- é€‚ç”¨åœºæ™¯ -->
    <section id="use-cases" class="content-section">
      <h2 class="section-title">3. é€‚ç”¨åœºæ™¯</h2>

      <div class="use-cases-grid">
        <div class="use-case-card">
          <div class="case-icon">ğŸ“¦</div>
          <div class="case-content">
            <h3>è·¨ç¯å¢ƒåº“å¼€å‘</h3>
            <p>å¼€å‘éœ€è¦åœ¨å¤šç§ JavaScript ç¯å¢ƒä¸­è¿è¡Œçš„åº“æ—¶ï¼Œä½¿ç”¨ <code>globalThis</code> å¯ä»¥ç¡®ä¿æ­£ç¡®è®¿é—®å…¨å±€å¯¹è±¡ã€‚</p>
            <ul>
              <li>æµè§ˆå™¨æ‰©å±•</li>
              <li>é€šç”¨å·¥å…·åº“</li>
              <li>è·¨å¹³å°SDK</li>
            </ul>
          </div>
        </div>

        <div class="use-case-card">
          <div class="case-icon">ğŸ”Œ</div>
          <div class="case-content">
            <h3>æ’ä»¶ç³»ç»Ÿ</h3>
            <p>å…è®¸æ’ä»¶å‘å…¨å±€ç¯å¢ƒæ³¨å†ŒåŠŸèƒ½æˆ–è¦†ç›–é»˜è®¤è¡Œä¸ºã€‚</p>
            <pre><code>// æ’ä»¶æ³¨å†Œå…¨å±€æ–¹æ³•
globalThis.myPlugin = {
  init: () => { /* åˆå§‹åŒ–é€»è¾‘ */ },
  version: '1.0.0'
};</code></pre>
          </div>
        </div>

        <div class="use-case-card">
          <div class="case-icon">âš™ï¸</div>
          <div class="case-content">
            <h3>å…¨å±€é…ç½®ç®¡ç†</h3>
            <p>åœ¨åº”ç”¨å¯åŠ¨æ—¶è®¾ç½®å…¨å±€é…ç½®ï¼Œåœ¨æ•´ä¸ªåº”ç”¨ä¸­å…±äº«ã€‚</p>
            <pre><code>// è®¾ç½®å…¨å±€é…ç½®
globalThis.config = {
  apiEndpoint: 'https://api.example.com',
  theme: 'dark'
};

// åœ¨ä»»ä½•ç»„ä»¶/æ¨¡å—ä¸­è®¿é—®
const endpoint = globalThis.config.apiEndpoint;</code></pre>
          </div>
        </div>

        <div class="use-case-card">
          <div class="case-icon">ğŸ§ª</div>
          <div class="case-content">
            <h3>æµ‹è¯•å·¥å…·</h3>
            <p>åœ¨æµ‹è¯•ç¯å¢ƒä¸­æ¨¡æ‹Ÿå…¨å±€å¯¹è±¡æˆ–æ³¨å…¥æµ‹è¯•å·¥å…·ã€‚</p>
            <pre><code>// æµ‹è¯•è®¾ç½®
beforeEach(() => {
  globalThis.mockStorage = {
    getItem: jest.fn(),
    setItem: jest.fn()
  };
});</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <section id="considerations" class="content-section">
      <h2 class="section-title">4. æ³¨æ„äº‹é¡¹</h2>

      <div class="considerations-grid">
        <div class="consideration-card warning">
          <div class="consideration-icon">âš ï¸</div>
          <div class="consideration-content">
            <h3>å…¨å±€å‘½åæ±¡æŸ“</h3>
            <p>è¿‡åº¦ä½¿ç”¨å…¨å±€å˜é‡ä¼šå¯¼è‡´å‘½åå†²çªå’Œéš¾ä»¥ç»´æŠ¤çš„ä»£ç ã€‚</p>
            <p>å»ºè®®ï¼š</p>
            <ul>
              <li>ä¸ºå…¨å±€å˜é‡æ·»åŠ å‘½åå‰ç¼€</li>
              <li>ä½¿ç”¨å‘½åç©ºé—´å¯¹è±¡</li>
              <li>å°½é‡å‡å°‘å…¨å±€å˜é‡çš„ä½¿ç”¨</li>
            </ul>
          </div>
        </div>

        <div class="consideration-card warning">
          <div class="consideration-icon">ğŸ”„</div>
          <div class="consideration-content">
            <h3>æµè§ˆå™¨å…¼å®¹æ€§</h3>
            <p>è™½ç„¶ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ <code>globalThis</code>ï¼Œä½†åœ¨æ—§ç¯å¢ƒä¸­å¯èƒ½éœ€è¦ polyfillã€‚</p>
            <pre><code>// ç®€å•çš„ polyfill
if (typeof globalThis === 'undefined') {
  window.globalThis = window;
}</code></pre>
          </div>
        </div>

        <div class="consideration-card warning">
          <div class="consideration-icon">ğŸ”’</div>
          <div class="consideration-content">
            <h3>å®‰å…¨è€ƒè™‘</h3>
            <p>ä¿®æ”¹å…¨å±€å¯¹è±¡å¯èƒ½ä¼šå½±å“å…¶ä»–ä»£ç çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å…±äº«ç¯å¢ƒä¸­ã€‚</p>
            <p>å»ºè®®ï¼š</p>
            <ul>
              <li>é¿å…è¦†ç›–åŸç”Ÿå…¨å±€å±æ€§</li>
              <li>ä½¿ç”¨ <code>Object.defineProperty</code> è®¾ç½®ä¸å¯æšä¸¾å±æ€§</li>
              <li>è€ƒè™‘ä½¿ç”¨å†»ç»“å¯¹è±¡é˜²æ­¢æ„å¤–ä¿®æ”¹</li>
            </ul>
          </div>
        </div>

        <div class="consideration-card warning">
          <div class="consideration-icon">ğŸ“¦</div>
          <div class="consideration-content">
            <h3>æ¨¡å—ç³»ç»Ÿå½±å“</h3>
            <p>åœ¨æ¨¡å—ç³»ç»Ÿä¸­ï¼ˆå¦‚ ES modulesï¼‰ï¼Œé¡¶çº§å˜é‡é»˜è®¤ä¸æ˜¯å…¨å±€çš„ã€‚</p>
            <p>ä½¿ç”¨ <code>globalThis</code> å¯ä»¥æ˜¾å¼åœ°åˆ›å»ºå…¨å±€å˜é‡ã€‚</p>
            <pre><code>// åœ¨æ¨¡å—ä¸­
const localVar = 'local'; // ä¸æ˜¯å…¨å±€çš„
globalThis.globalVar = 'global'; // å…¨å±€çš„</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- æœ€ä½³å®è·µ -->
    <section id="best-practices" class="content-section">
      <h2 class="section-title">5. æœ€ä½³å®è·µ</h2>

      <div class="practices-grid">
        <div class="practice-card">
          <div class="practice-number">1</div>
          <div class="practice-content">
            <h3>ä½¿ç”¨å‘½åç©ºé—´</h3>
            <p>å°†å…¨å±€å˜é‡ç»„ç»‡åˆ°å‘½åç©ºé—´å¯¹è±¡ä¸­ï¼Œå‡å°‘æ±¡æŸ“ã€‚</p>
            <pre><code>// ä¸æ¨è
globalThis.userPrefs = {...};

// æ¨è
globalThis.MyApp = globalThis.MyApp || {};
globalThis.MyApp.userPrefs = {...};</code></pre>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">2</div>
          <div class="practice-content">
            <h3>æ·»åŠ ç±»å‹å®šä¹‰</h3>
            <p>åœ¨ TypeScript ä¸­ä¸ºå…¨å±€å˜é‡æ·»åŠ ç±»å‹å£°æ˜ã€‚</p>
            <pre><code>// global.d.ts
declare global {
  interface GlobalThis {
    myGlobalVar: string;
    appConfig: {
      apiUrl: string;
      debug: boolean;
    };
  }
}</code></pre>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">3</div>
          <div class="practice-content">
            <h3>è°¨æ…ä¿®æ”¹</h3>
            <p>é¿å…ä¿®æ”¹ç°æœ‰çš„å…¨å±€å¯¹è±¡å±æ€§ï¼Œå¯èƒ½å¯¼è‡´éš¾ä»¥è°ƒè¯•çš„é—®é¢˜ã€‚</p>
            <pre><code>// ä¸æ¨è - è¦†ç›–åŸç”Ÿæ–¹æ³•
globalThis.console.log = () => {};

// æ¨è - æ·»åŠ æ–°åŠŸèƒ½è€Œä¸ä¿®æ”¹ç°æœ‰
globalThis.customLogger = {
  log: (msg) => console.log(`[CUSTOM] ${msg}`)
};</code></pre>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">4</div>
          <div class="practice-content">
            <h3>ç¯å¢ƒæ£€æµ‹</h3>
            <p>åœ¨éœ€è¦ç‰¹å®šç¯å¢ƒåŠŸèƒ½æ—¶ï¼Œä»ç„¶éœ€è¦æ£€æµ‹ç¯å¢ƒã€‚</p>
            <pre><code>// æ£€æŸ¥æµè§ˆå™¨ç¯å¢ƒ
if (typeof globalThis.document !== 'undefined') {
  // æµè§ˆå™¨ç‰¹æœ‰é€»è¾‘
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- æ€»ç»“ -->
    <section class="summary-section">
      <h2 class="section-title">ğŸ¯ æ€»ç»“</h2>

      <div class="summary-content">
        <div class="key-point">
          <div class="point-icon">ğŸŒ</div>
          <div class="point-text">
            <code>globalThis</code> æä¾›äº†<strong>è·¨ç¯å¢ƒ</strong>è®¿é—®å…¨å±€å¯¹è±¡çš„æ ‡å‡†åŒ–æ–¹å¼
          </div>
        </div>
        <div class="key-point">
          <div class="point-icon">âš¡</div>
          <div class="point-text">
            è§£å†³äº†æµè§ˆå™¨(<code>window</code>)ã€Node.js(<code>global</code>)ã€Worker(<code>self</code>)ä¹‹é—´çš„ä¸ä¸€è‡´é—®é¢˜
          </div>
        </div>
        <div class="key-point">
          <div class="point-icon">ğŸ› ï¸</div>
          <div class="point-text">
            é€‚ç”¨äº<strong>è·¨ç¯å¢ƒåº“</strong>ã€<strong>å…¨å±€é…ç½®</strong>å’Œ<strong>æ’ä»¶ç³»ç»Ÿ</strong>ç­‰åœºæ™¯
          </div>
        </div>
        <div class="key-point">
          <div class="point-icon">âš ï¸</div>
          <div class="point-text">
            ä½¿ç”¨æ—¶éœ€æ³¨æ„<strong>å‘½åæ±¡æŸ“</strong>ã€<strong>å…¼å®¹æ€§</strong>å’Œ<strong>å®‰å…¨æ€§</strong>
          </div>
        </div>
      </div>

      <div class="quote-box">
        <div class="quote-icon">ğŸ’¬</div>
        <div class="quote-content">
          "globalThis æ˜¯ JavaScript ç”Ÿæ€ç³»ç»Ÿè¿ˆå‘æ›´åŠ æ ‡å‡†åŒ–å’Œä¸€è‡´æ€§çš„é‡è¦ä¸€æ­¥ï¼Œå®ƒç®€åŒ–äº†è·¨ç¯å¢ƒä»£ç çš„ç¼–å†™å’Œç»´æŠ¤ã€‚"
          <div class="quote-author">- JavaScript æ ‡å‡†å§”å‘˜ä¼šæˆå‘˜</div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const tocItems = ref([
  { id: 'basic-concept', text: 'åŸºæœ¬æ¦‚å¿µ' },
  { id: 'usage-examples', text: 'ä½¿ç”¨ç¤ºä¾‹' },
  { id: 'use-cases', text: 'é€‚ç”¨åœºæ™¯' },
  { id: 'considerations', text: 'æ³¨æ„äº‹é¡¹' },
  { id: 'best-practices', text: 'æœ€ä½³å®è·µ' }
]);

const scrollToSection = (id: string) => {
  const element = document.getElementById(id);
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' });
  }
};
</script>

<style lang="less" scoped>
@primary-color: #4a6cf7;
@secondary-color: #6e45e2;
@accent-color: #42b983;
@warning-color: #d19a66;
@light-bg: #f8f9ff;
@border-color: #e0e7ff;
@text-color: #2c3e50;
@text-light: #7e8a9a;
@card-shadow: 0 4px 12px rgba(110, 69, 226, 0.08);
@code-bg: #f6f8ff;

.globalthis-container {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
  color: @text-color;
  background-color: white;
  line-height: 1.6;
}

.header-section {
  text-align: center;
  margin-bottom: 2rem;
  padding: 2rem;
  background: linear-gradient(135deg, @light-bg, transparent);
  border-radius: 16px;

  .title {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, @primary-color, @secondary-color);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .subtitle {
    font-size: 1.2rem;
    color: @text-light;
    margin-bottom: 1.5rem;
    font-weight: 400;
  }
}

.quick-facts {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  flex-wrap: wrap;
  max-width: 800px;
  margin: 0 auto;

  .fact-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: white;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    box-shadow: @card-shadow;
    min-width: 180px;

    .fact-icon {
      font-size: 1.8rem;
    }

    .fact-content {
      .fact-value {
        font-weight: 700;
        font-size: 1.2rem;
        color: @primary-color;
      }

      .fact-label {
        font-size: 0.9rem;
        color: @text-light;
      }
    }
  }
}

.toc-section {
  margin-bottom: 2rem;

  .toc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;

    .toc-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      background: @light-bg;
      padding: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid @primary-color;

      &:hover {
        background: rgba(74, 108, 247, 0.1);
        transform: translateX(5px);
      }

      .toc-number {
        width: 28px;
        height: 28px;
        background: @primary-color;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        flex-shrink: 0;
      }
    }
  }
}

.content-section {
  margin-bottom: 3rem;
  background: white;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: @card-shadow;

  .section-title {
    font-size: 1.7rem;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid @primary-color;
    color: darken(@primary-color, 10%);
  }
}

.concept-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .concept-card {
    display: flex;
    gap: 1rem;
    background: @light-bg;
    padding: 1.5rem;
    border-radius: 12px;

    .concept-icon {
      width: 50px;
      height: 50px;
      background: @primary-color;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .concept-content {
      h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
      }

      p {
        margin: 0.5rem 0;
        line-height: 1.6;
      }

      ul {
        padding-left: 1.2rem;
        margin: 0.75rem 0;

        li {
          margin-bottom: 0.5rem;
          position: relative;
          padding-left: 1.25rem;

          &::before {
            content: "â€¢";
            color: @primary-color;
            font-weight: bold;
            position: absolute;
            left: 0;
          }
        }
      }

      code {
        font-family: 'Fira Code', monospace;
        background: rgba(0, 0, 0, 0.05);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-size: 0.9em;
      }
    }
  }
}

.code-example {
  margin-bottom: 2rem;

  h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: 1.2rem;
  }

  pre {
    background: @code-bg;
    border-radius: 8px;
    padding: 1.25rem;
    overflow-x: auto;
    margin: 0;

    code {
      font-family: 'Fira Code', monospace;
      font-size: 0.95rem;
      line-height: 1.5;
    }
  }
}

.example-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .example-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border: 1px solid @border-color;

    .example-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;

      .example-icon {
        font-size: 1.5rem;
      }

      h3 {
        margin: 0;
        font-size: 1.2rem;
      }
    }

    .example-content {
      pre {
        background: @code-bg;
        border-radius: 8px;
        padding: 1rem;
        overflow-x: auto;
        margin: 0;

        code {
          font-family: 'Fira Code', monospace;
          font-size: 0.9rem;
          line-height: 1.5;
        }
      }
    }
  }
}

.use-cases-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .use-case-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border: 1px solid @border-color;

    .case-icon {
      font-size: 2rem;
      color: @primary-color;
      margin-bottom: 1rem;
    }

    .case-content {
      h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
      }

      p {
        margin: 0.5rem 0;
        line-height: 1.6;
      }

      ul {
        padding-left: 1.2rem;
        margin: 0.75rem 0;

        li {
          margin-bottom: 0.5rem;
          position: relative;
          padding-left: 1.25rem;

          &::before {
            content: "â€¢";
            color: @primary-color;
            font-weight: bold;
            position: absolute;
            left: 0;
          }
        }
      }

      pre {
        background: @code-bg;
        border-radius: 8px;
        padding: 1rem;
        overflow-x: auto;
        margin: 0.75rem 0;

        code {
          font-family: 'Fira Code', monospace;
          font-size: 0.85rem;
        }
      }
    }
  }
}

.considerations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .consideration-card {
    display: flex;
    gap: 1rem;
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border: 1px solid @border-color;

    &.warning {
      border-left: 4px solid @warning-color;
    }

    .consideration-icon {
      font-size: 1.8rem;
      flex-shrink: 0;
      color: @warning-color;
    }

    .consideration-content {
      h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
        font-size: 1.1rem;
      }

      p {
        margin: 0.5rem 0;
        line-height: 1.6;
      }

      ul {
        padding-left: 1.2rem;
        margin: 0.75rem 0;

        li {
          margin-bottom: 0.5rem;
          position: relative;
          padding-left: 1.25rem;

          &::before {
            content: "â€¢";
            color: @warning-color;
            font-weight: bold;
            position: absolute;
            left: 0;
          }
        }
      }

      pre {
        background: rgba(0, 0, 0, 0.05);
        border-radius: 6px;
        padding: 0.75rem;
        overflow-x: auto;
        margin: 0.5rem 0;
        font-size: 0.85rem;
      }
    }
  }
}

.practices-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
  gap: 1.5rem;

  .practice-card {
    display: flex;
    gap: 1.5rem;
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border: 1px solid @border-color;

    .practice-number {
      width: 40px;
      height: 40px;
      background: @primary-color;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.2rem;
      flex-shrink: 0;
    }

    .practice-content {
      h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
      }

      p {
        margin: 0.5rem 0;
        line-height: 1.6;
      }

      pre {
        background: @code-bg;
        border-radius: 6px;
        padding: 0.75rem;
        overflow-x: auto;
        margin: 0.5rem 0;
        font-size: 0.85rem;
      }
    }
  }
}

.summary-section {
  background: linear-gradient(135deg, #f0f9ff, #f8f9ff);
  border-radius: 16px;
  padding: 2rem;

  .summary-content {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }

    .key-point {
      display: flex;
      gap: 1rem;
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      align-items: center;

      .point-icon {
        font-size: 1.8rem;
        flex-shrink: 0;
      }

      .point-text {
        strong {
          color: @primary-color;
        }

        code {
          font-family: 'Fira Code', monospace;
          background: @code-bg;
          padding: 0.2rem 0.4rem;
          border-radius: 4px;
          font-size: 0.9em;
        }
      }
    }
  }

  .quote-box {
    display: flex;
    gap: 1.5rem;
    background: white;
    border-left: 4px solid @accent-color;
    border-radius: 0 12px 12px 0;
    padding: 1.5rem;

    .quote-icon {
      font-size: 2rem;
      color: @accent-color;
      flex-shrink: 0;
    }

    .quote-content {
      font-style: italic;
      font-size: 1.1rem;
      line-height: 1.7;

      .quote-author {
        margin-top: 1rem;
        font-weight: 500;
        text-align: right;
        color: @text-light;
      }
    }
  }
}

@media (max-width: 768px) {
  .globalthis-container {
    padding: 1rem;
  }

  .header-section {
    padding: 1.5rem 1rem;

    .title {
      font-size: 2rem !important;
    }
  }

  .quick-facts {
    gap: 1rem;

    .fact-card {
      flex: 1;
      min-width: 140px;
      padding: 1rem;
    }
  }

  .content-section {
    padding: 1.5rem;
  }

  .concept-grid, .example-grid, .use-cases-grid,
  .considerations-grid, .practices-grid {
    grid-template-columns: 1fr;
  }
}
</style>
