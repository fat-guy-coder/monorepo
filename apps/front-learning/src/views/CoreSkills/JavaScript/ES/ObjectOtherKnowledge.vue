<template>
  <div class="es-object-container">
    <header class="header">
      <h1>JavaScript Object ç‰¹æ€§ä»‹ç»</h1>
      <p class="subtitle">ES6+ ä¸­çš„å¯¹è±¡å¢å¼ºç‰¹æ€§</p>
    </header>

    <div class="intro-section">
      <p>
        JavaScript ä¸­çš„ Object æ˜¯è¯­è¨€ä¸­æœ€åŸºç¡€çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚ES6
        åŠåç»­ç‰ˆæœ¬ä¸ºå¯¹è±¡å­—é¢é‡æ·»åŠ äº†è®¸å¤šä¾¿åˆ©ç‰¹æ€§ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€æ›´å…·è¡¨ç°åŠ›ã€‚
      </p>
    </div>

    <section class="feature-section">
      <h2 class="section-title">
        <span class="icon">âœ¨</span>
        å¯¹è±¡å­—é¢é‡å¢å¼º
      </h2>

      <div class="feature-grid">
        <div class="feature-card">
          <h3>å±æ€§ç®€å†™</h3>
          <pre><code class="language-javascript">// ES5
const name = 'Alice';
const user = {
  name: name,
  age: 25
};

// ES6+
const user = {
  name,  // åŒåå±æ€§å¯ç®€å†™
  age: 25
};</code></pre>
          <div class="feature-desc">
            <p>å½“å±æ€§åå’Œå˜é‡åç›¸åŒæ—¶ï¼Œå¯ä»¥çœç•¥é‡å¤çš„å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚</p>
            <p class="advantage">ä¼˜åŠ¿ï¼šå‡å°‘å†—ä½™ä»£ç ï¼Œæé«˜å¯è¯»æ€§</p>
          </div>
        </div>

        <div class="feature-card">
          <h3>æ–¹æ³•ç®€å†™</h3>
          <pre><code class="language-javascript">// ES5
const obj = {
  sayHello: function() {
    console.log('Hello');
  }
};

// ES6+
const obj = {
  sayHello() {  // çœç•¥ function å…³é”®å­—
    console.log('Hello');
  }
};</code></pre>
          <div class="feature-desc">
            <p>å¯¹è±¡æ–¹æ³•çš„å®šä¹‰å¯ä»¥çœç•¥ <code>function</code> å…³é”®å­—ï¼Œè¯­æ³•æ›´ç®€æ´ã€‚</p>
            <p class="advantage">ä¼˜åŠ¿ï¼šæ›´æ¥è¿‘ç±»æ–¹æ³•çš„è¯­æ³•ï¼Œä¸€è‡´æ€§æ›´å¥½</p>
          </div>
        </div>

        <div class="feature-card">
          <h3>è®¡ç®—å±æ€§å</h3>
          <pre><code class="language-javascript">// ES5
var prop = 'name';
var obj = {};
obj[prop] = 'Alice';

// ES6+
const prop = 'name';
const obj = {
  [prop]: 'Alice',  // åŠ¨æ€è®¡ç®—å±æ€§å
  ['user_' + prop]: 'Alice'  // æ”¯æŒè¡¨è¾¾å¼
};</code></pre>
          <div class="feature-desc">
            <p>å…è®¸åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ <code>[]</code> è®¡ç®—å±æ€§åï¼Œæ”¯æŒåŠ¨æ€å±æ€§åã€‚</p>
            <p class="advantage">ä¼˜åŠ¿ï¼šæ›´çµæ´»çš„å±æ€§å®šä¹‰æ–¹å¼</p>
          </div>
        </div>
      </div>
    </section>

    <section class="feature-section">
      <h2 class="section-title">
        <span class="icon">ğŸ”</span>
        åŠ¨æ€å±æ€§è®¿é—®
      </h2>

      <div class="feature-grid">
        <div class="feature-card">
          <h3>å±æ€§è®¿é—®æ–¹å¼</h3>
          <pre><code class="language-javascript">const obj = { name: 'Alice', age: 25 };

// ç‚¹è¡¨ç¤ºæ³•
console.log(obj.name); // 'Alice'

// æ–¹æ‹¬å·è¡¨ç¤ºæ³•
const prop = 'name';
console.log(obj[prop]); // 'Alice' (åŠ¨æ€è®¿é—®)</code></pre>
          <div class="feature-desc">
            <p>ES æä¾›äº†ä¸¤ç§å±æ€§è®¿é—®æ–¹å¼ï¼š</p>
            <ul>
              <li><strong>ç‚¹è¡¨ç¤ºæ³•</strong> - é€‚ç”¨äºå·²çŸ¥å±æ€§å</li>
              <li><strong>æ–¹æ‹¬å·è¡¨ç¤ºæ³•</strong> - æ”¯æŒåŠ¨æ€å±æ€§åè®¿é—®</li>
            </ul>
          </div>
        </div>

        <div class="feature-card">
          <h3>å¯é€‰é“¾æ“ä½œç¬¦ (?.)</h3>
          <pre><code class="language-javascript">const user = {
  profile: {
    name: 'Alice'
  }
};

// ä¼ ç»Ÿæ–¹å¼
const name = user && user.profile && user.profile.name;

// ES2020 å¯é€‰é“¾
const name = user?.profile?.name; // 'Alice'
const missing = user?.missingProp?.name; // undefined</code></pre>
          <div class="feature-desc">
            <p>å¯é€‰é“¾æ“ä½œç¬¦ <code>?.</code> å¯ä»¥å®‰å…¨åœ°è®¿é—®åµŒå¥—å±æ€§ï¼Œé¿å…å› ä¸­é—´å±æ€§ä¸å­˜åœ¨è€ŒæŠ¥é”™ã€‚</p>
            <p class="advantage">ä¼˜åŠ¿ï¼šç®€åŒ–æ·±å±‚å±æ€§è®¿é—®ï¼Œé¿å…å†—é•¿çš„é˜²å¾¡æ€§ä»£ç </p>
          </div>
        </div>
      </div>
    </section>

    <section class="feature-section">
      <h2 class="section-title">
        <span class="icon">âš¡</span>
        æ€§èƒ½ä¸æœ€ä½³å®è·µ
      </h2>

      <div class="performance-grid">
        <div class="perf-card">
          <h3>å¯¹è±¡å­—é¢é‡ vs æ„é€ å‡½æ•°</h3>
          <div class="perf-comparison">
            <div class="perf-method">
              <h4>å­—é¢é‡æ–¹å¼</h4>
              <pre><code class="language-javascript">const obj = {
  prop1: 'value1',
  prop2: 'value2'
};</code></pre>
              <p class="perf-advantage">âœ… åˆ›å»ºæ›´å¿«</p>
              <p class="perf-advantage">âœ… è§£ææ›´å¿«</p>
            </div>
            <div class="perf-method">
              <h4>æ„é€ å‡½æ•°æ–¹å¼</h4>
              <pre><code class="language-javascript">const obj = new Object();
obj.prop1 = 'value1';
obj.prop2 = 'value2';</code></pre>
              <p class="perf-disadvantage">âŒ åˆ›å»ºè¾ƒæ…¢</p>
              <p class="perf-disadvantage">âŒ è§£æè¾ƒæ…¢</p>
            </div>
          </div>
          <div class="perf-conclusion">
            <p>
              åœ¨å¤§å¤šæ•° JavaScript å¼•æ“ä¸­ï¼Œå¯¹è±¡å­—é¢é‡çš„åˆ›å»ºå’Œè®¿é—®æ€§èƒ½ä¼˜äºä½¿ç”¨
              <code>new Object()</code> æ„é€ å‡½æ•°ã€‚
            </p>
          </div>
        </div>

        <div class="perf-card">
          <h3>å±æ€§è®¿é—®ä¼˜åŒ–</h3>
          <div class="perf-tips">
            <div class="tip">
              <h4>éšè—ç±»ä¼˜åŒ–</h4>
              <p>å§‹ç»ˆä»¥ç›¸åŒé¡ºåºåˆå§‹åŒ–å¯¹è±¡å±æ€§ï¼Œå¸®åŠ© JavaScript å¼•æ“ä¼˜åŒ–å±æ€§è®¿é—®ã€‚</p>
              <pre><code class="language-javascript">// å¥½ - å±æ€§é¡ºåºä¸€è‡´
function createUser(name, age) {
  return { name, age };
}

// ä¸å¥½ - å±æ€§é¡ºåºä¸ä¸€è‡´
function createUser(name, age) {
  return Math.random() > 0.5 ?
    { name, age } :
    { age, name };
}</code></pre>
            </div>
            <div class="tip">
              <h4>é¿å…åˆ é™¤å±æ€§</h4>
              <p>
                ä½¿ç”¨ <code>delete</code> æ“ä½œç¬¦ä¼šç ´åéšè—ç±»ä¼˜åŒ–ï¼Œè€ƒè™‘è®¾ç½®ä¸º <code>null</code> æˆ–
                <code>undefined</code> ä»£æ›¿ã€‚
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="feature-section">
      <h2 class="section-title">
        <span class="icon">ğŸ¯</span>
        å…¶ä»–å®ç”¨ç‰¹æ€§
      </h2>

      <div class="other-features">
        <div class="feature-card">
          <h3>å¯¹è±¡å±•å¼€è¿ç®—ç¬¦</h3>
          <pre><code class="language-javascript">const defaults = { mode: 'light', fontSize: 16 };
const userSettings = { fontSize: 18 };

// ES2018 å¯¹è±¡å±•å¼€
const settings = {
  ...defaults,
  ...userSettings
};
// { mode: 'light', fontSize: 18 }</code></pre>
          <div class="feature-desc">
            <p>
              å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ <code>...</code> å¯ä»¥æµ…æ‹·è´å¯¹è±¡å±æ€§ï¼Œéå¸¸é€‚åˆåˆå¹¶å¯¹è±¡æˆ–åˆ›å»ºæ–°å¯¹è±¡ã€‚
            </p>
          </div>
        </div>

        <div class="feature-card">
          <h3>å±æ€§ç®€å†™ä¸è§£æ„</h3>
          <pre><code class="language-javascript">const name = 'Alice';
const age = 25;

// å±æ€§ç®€å†™åˆ›å»ºå¯¹è±¡
const user = { name, age };

// å¯¹è±¡è§£æ„æå–å€¼
const { name: userName, age: userAge } = user;
console.log(userName); // 'Alice'</code></pre>
          <div class="feature-desc">
            <p>ç»“åˆå±æ€§ç®€å†™å’Œå¯¹è±¡è§£æ„ï¼Œå¯ä»¥ä¼˜é›…åœ°åœ¨å¯¹è±¡å’Œæ•°æ®ä¹‹é—´è½¬æ¢ã€‚</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p>ES6+ çš„å¯¹è±¡å¢å¼ºç‰¹æ€§ä½¿ JavaScript ä»£ç æ›´ç®€æ´ã€æ›´å…·è¡¨ç°åŠ›ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½ã€‚</p>
      <div class="links">
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer"
          target="_blank"
          class="link-button"
          >MDN æ–‡æ¡£</a
        >
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
// å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ç»„ä»¶é€»è¾‘ï¼ˆå¦‚æœéœ€è¦ï¼‰
</script>

<style lang="less" scoped>
.es-object-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family:
    'Inter',
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    sans-serif;
  color: #1a1a1a;
  line-height: 1.6;

  .header {
    text-align: center;
    margin-bottom: 2rem;

    h1 {
      font-size: 2.2rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      font-size: 1.2rem;
      color: #7f8c8d;
    }
  }

  .intro-section {
    background-color: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
    margin-bottom: 2rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    font-size: 1.1rem;
  }

  .feature-section {
    margin-bottom: 3rem;

    .section-title {
      font-size: 1.75rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #eee;

      .icon {
        margin-right: 0.75rem;
        font-size: 1.5rem;
      }
    }
  }

  .feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .feature-card {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    transition:
      transform 0.2s,
      box-shadow 0.2s;

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }

    h3 {
      font-size: 1.3rem;
      font-weight: 600;
      margin-top: 0;
      margin-bottom: 1rem;
      color: #2c3e50;
    }

    pre {
      background-color: #f8fafc;
      padding: 1rem;
      border-radius: 6px;
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      overflow-x: auto;
      margin: 0 0 1rem 0;
      color: #334155;
      border: 1px solid #e2e8f0;

      code {
        font-family: inherit;
      }
    }

    .feature-desc {
      p {
        margin: 0.5rem 0;
        color: #4a5568;
      }

      .advantage {
        color: #2b6cb0;
        font-weight: 500;
      }

      ul {
        padding-left: 1.5rem;
        margin: 0.75rem 0;

        li {
          margin-bottom: 0.3rem;
        }
      }
    }
  }

  .performance-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;

    .perf-card {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

      h3 {
        font-size: 1.3rem;
        font-weight: 600;
        margin-top: 0;
        margin-bottom: 1.5rem;
        color: #2c3e50;
      }

      .perf-comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin-bottom: 1.5rem;

        @media (max-width: 768px) {
          grid-template-columns: 1fr;
        }

        .perf-method {
          h4 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-top: 0;
            margin-bottom: 1rem;
            color: #4a5568;
          }

          pre {
            background-color: #f8fafc;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 0 0 1rem 0;
            color: #334155;
            border: 1px solid #e2e8f0;
          }

          .perf-advantage {
            color: #38a169;
            font-weight: 500;
            margin: 0.5rem 0;
          }

          .perf-disadvantage {
            color: #e53e3e;
            font-weight: 500;
            margin: 0.5rem 0;
          }
        }
      }

      .perf-conclusion {
        p {
          margin: 0;
          color: #4a5568;
          font-style: italic;
        }
      }

      .perf-tips {
        .tip {
          margin-bottom: 1.5rem;

          h4 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-top: 0;
            margin-bottom: 0.75rem;
            color: #4a5568;
          }

          p {
            margin: 0.5rem 0;
            color: #4a5568;
          }

          pre {
            background-color: #f8fafc;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 1rem 0 0 0;
            color: #334155;
            border: 1px solid #e2e8f0;
          }
        }
      }
    }
  }

  .other-features {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    gap: 1.5rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }

  .footer {
    text-align: center;
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #e2e8f0;

    p {
      color: #4a5568;
      margin-bottom: 1.5rem;
    }

    .links {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .link-button {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background-color: #4299e1;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 500;
      transition: background-color 0.2s;

      &:hover {
        background-color: #2b6cb0;
      }
    }
  }
}
</style>
