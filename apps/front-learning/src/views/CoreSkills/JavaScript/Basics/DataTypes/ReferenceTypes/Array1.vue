<template>
  <div class="array-container">
    <div class="header">
      <div class="logo">
        <svg viewBox="0 0 24 24">
          <path d="M3,5H21V7H3V5M3,9H21V11H3V9M3,13H21V15H3V13M3,17H21V19H3V17Z" />
        </svg>
      </div>
      <h1>JavaScript Array åŸºæœ¬ä»‹ç»</h1>
      <p class="subtitle">æŒæ¡æ•°ç»„çš„åˆ›å»ºã€æ“ä½œã€æ€§èƒ½åŠæœ€ä½³å®è·µ</p>
    </div>

    <div class="content">
      <!-- æ•°ç»„ç®€ä»‹ -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">ğŸ“š</div>
          <h2>æ•°ç»„ç®€ä»‹</h2>
        </div>
        <div class="section-content">
          <div class="overview-grid">
            <div class="overview-card">
              <h3>ä»€ä¹ˆæ˜¯æ•°ç»„</h3>
              <p>æ•°ç»„æ˜¯JavaScriptä¸­ç”¨äºå­˜å‚¨æœ‰åºé›†åˆçš„å¯¹è±¡ï¼Œå¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„æ•°æ®é¡¹ã€‚</p>
            </div>
            <div class="overview-card">
              <h3>æ•°ç»„ç‰¹ç‚¹</h3>
              <ul>
                <li>æœ‰åºé›†åˆï¼Œå…ƒç´ æœ‰ç´¢å¼•ä½ç½®</li>
                <li>é›¶ç´¢å¼•ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰</li>
                <li>å¯åŠ¨æ€è°ƒæ•´å¤§å°</li>
                <li>å¯åŒ…å«ä¸åŒç±»å‹çš„æ•°æ®</li>
              </ul>
            </div>
            <div class="overview-card">
              <h3>æ•°ç»„å±æ€§</h3>
              <div class="props">
                <div class="prop">
                  <span class="prop-name">length</span>
                  <span class="prop-desc">æ•°ç»„å…ƒç´ ä¸ªæ•°</span>
                </div>
                <div class="prop">
                  <span class="prop-name">constructor</span>
                  <span class="prop-desc">è¿”å›æ•°ç»„æ„é€ å‡½æ•°</span>
                </div>
                <div class="prop">
                  <span class="prop-name">prototype</span>
                  <span class="prop-desc">å…è®¸æ·»åŠ å±æ€§å’Œæ–¹æ³•</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ•°ç»„åˆ›å»º -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">ğŸ› ï¸</div>
          <h2>æ•°ç»„åˆ›å»ºæ–¹å¼</h2>
        </div>
        <div class="section-content">
          <div class="creation-grid">
            <div class="creation-card">
              <h3>æ•°ç»„å­—é¢é‡</h3>
              <div class="code-block">
                <pre>// ç©ºæ•°ç»„
const arr1 = [];

// å¸¦åˆå§‹å€¼
const arr2 = [1, 2, 'three', true];</pre>
              </div>
              <div class="usage">
                <span class="usage-label">æœ€å¸¸ç”¨æ–¹å¼</span>
                <span class="usage-value">95% ä½¿ç”¨ç‡</span>
              </div>
            </div>

            <div class="creation-card">
              <h3>Array æ„é€ å‡½æ•°</h3>
              <div class="code-block">
                <pre>// ç©ºæ•°ç»„
const arr1 = new Array();

// å¸¦åˆå§‹é•¿åº¦
const arr2 = new Array(5); // [ &lt;5 empty items> ]

// å¸¦åˆå§‹å€¼
const arr3 = new Array(1, 2, 3);</pre>
              </div>
              <div class="warning">
                <span class="warning-icon">âš ï¸</span>
                <span>é¿å…ä½¿ç”¨ new Array(5) åˆ›å»ºç¨€ç–æ•°ç»„</span>
              </div>
            </div>

            <div class="creation-card">
              <h3>Array.of()</h3>
              <div class="code-block">
                <pre>// åˆ›å»ºå¸¦å…ƒç´ çš„æ•°ç»„
const arr1 = Array.of(5); // [5]
const arr2 = Array.of(1, 2, 3); // [1, 2, 3]</pre>
              </div>
              <div class="usage">
                <span class="usage-label">è§£å†³æ„é€ å‡½æ•°é—®é¢˜</span>
                <span class="usage-value">ES6+</span>
              </div>
            </div>

            <div class="creation-card">
              <h3>Array.from()</h3>
              <div class="code-block">
                <pre>// ä»ç±»æ•°ç»„åˆ›å»º
const arr1 = Array.from('hello');
// ['h', 'e', 'l', 'l', 'o']

// ä»è¿­ä»£å¯¹è±¡åˆ›å»º
const arr2 = Array.from(new Set([1, 2, 2, 3]));
// [1, 2, 3]

// è®¾å®šé•¿åº¦åˆ›å»º
const arr3 = Array.from({ length: 5 }, (_, i) => i);
// [0, 1, 2, 3, 4]
</pre>
              </div>
              <div class="usage">
                <span class="usage-label">è½¬æ¢ç±»æ•°ç»„å¯¹è±¡</span>
                <span class="usage-value">ES6+</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ•°ç»„æ¸…ç©º -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">ğŸ§¹</div>
          <h2>æ•°ç»„æ¸…ç©º</h2>
        </div>
        <div class="section-content">
          <div class="creation-grid">
            <div class="creation-card">
              <div>åˆ©ç”¨lengthæ¸…ç©ºæ•°ç»„</div>
              <div class="code-block">
                <pre>const arr = [1, 2, 3];
arr.length = 0;
console.log(arr); // []</pre>
              </div>
              <div class="usage">
                <span class="usage-label">æ¨èä½¿ç”¨</span>
                <span class="usage-value">95% ä½¿ç”¨ç‡</span>
              </div>
            </div>
            <div class="creation-card">
              <div>åˆ©ç”¨spliceæ¸…ç©ºæ•°ç»„</div>
              <div class="code-block">
                <pre>const arr = [1, 2, 3];
arr.splice(0, arr.length);
console.log(arr); // []</pre>
              </div>
              <div class="warning">
                <span class="warning-icon">âš ï¸</span>
                <span>æ€§èƒ½è¾ƒå·®</span>
              </div>
            </div>
            <div class="creation-card">
              <div>åˆ©ç”¨èµ‹å€¼æ¸…ç©ºæ•°ç»„</div>
              <div class="code-block">
                <pre>const arr = [1, 2, 3];
arr = [];
console.log(arr); // []</pre>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- æ•°ç»„æ“ä½œä¸æ€§èƒ½ -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">âš¡</div>
          <h2>æ•°ç»„æ“ä½œä¸æ€§èƒ½åˆ†æ</h2>
        </div>
        <div class="section-content">
          <div class="performance-intro">
            <p>JavaScriptæ•°ç»„åœ¨V8å¼•æ“ä¸­çš„å®ç°ï¼š</p>
            <ul>
              <li>å°æ•°ç»„ï¼ˆ&lt;10ä¸ªå…ƒç´ ï¼‰ä½¿ç”¨çº¿æ€§å­˜å‚¨</li>
              <li>å¤§æ•°ç»„ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆç±»ä¼¼å¯¹è±¡ï¼‰</li>
              <li>æ•°ç»„ç±»å‹åˆ‡æ¢ï¼ˆPACKED â†” HOLEYï¼‰ä¼šå½±å“æ€§èƒ½</li>
            </ul>
          </div>

          <div class="performance-grid">
            <div class="operation-table">
              <h3>æ•°ç»„æ“ä½œæ—¶é—´å¤æ‚åº¦</h3>
              <table>
                <thead>
                  <tr>
                    <th>æ“ä½œ</th>
                    <th>æ—¶é—´å¤æ‚åº¦</th>
                    <th>æ€§èƒ½</th>
                    <th>æè¿°</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>ç´¢å¼•è®¿é—® (arr[i])</td>
                    <td>O(1)</td>
                    <td>
                      <div class="perf-bar" style="width: 95%"></div>
                    </td>
                    <td>ç›´æ¥å†…å­˜è®¿é—®</td>
                  </tr>
                  <tr>
                    <td>å°¾éƒ¨æ’å…¥ (push)</td>
                    <td>O(1)</td>
                    <td>
                      <div class="perf-bar" style="width: 90%"></div>
                    </td>
                    <td>é«˜æ•ˆï¼ŒåŠ¨æ€æ‰©å®¹</td>
                  </tr>
                  <tr>
                    <td>å°¾éƒ¨åˆ é™¤ (pop)</td>
                    <td>O(1)</td>
                    <td>
                      <div class="perf-bar" style="width: 92%"></div>
                    </td>
                    <td>é«˜æ•ˆï¼Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ </td>
                  </tr>
                  <tr>
                    <td>å¤´éƒ¨æ’å…¥ (unshift)</td>
                    <td>O(n)</td>
                    <td>
                      <div class="perf-bar" style="width: 30%"></div>
                    </td>
                    <td>éœ€è¦ç§»åŠ¨æ‰€æœ‰å…ƒç´ </td>
                  </tr>
                  <tr>
                    <td>å¤´éƒ¨åˆ é™¤ (shift)</td>
                    <td>O(n)</td>
                    <td>
                      <div class="perf-bar" style="width: 35%"></div>
                    </td>
                    <td>éœ€è¦ç§»åŠ¨æ‰€æœ‰å…ƒç´ </td>
                  </tr>
                  <tr>
                    <td>ä¸­é—´æ’å…¥/åˆ é™¤ (splice)</td>
                    <td>O(n)</td>
                    <td>
                      <div class="perf-bar" style="width: 40%"></div>
                    </td>
                    <td>å–å†³äºæ’å…¥ä½ç½®</td>
                  </tr>
                  <tr>
                    <td>æŸ¥æ‰¾ (indexOf)</td>
                    <td>O(n)</td>
                    <td>
                      <div class="perf-bar" style="width: 50%"></div>
                    </td>
                    <td>çº¿æ€§æœç´¢</td>
                  </tr>
                  <tr>
                    <td>æ’åº (sort)</td>
                    <td>O(n log n)</td>
                    <td>
                      <div class="perf-bar" style="width: 60%"></div>
                    </td>
                    <td>V8ä½¿ç”¨TimSortç®—æ³•</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="performance-tips">
              <h3>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
              <div class="tip-card">
                <div class="tip-header">
                  <div class="tip-icon">ğŸš€</div>
                  <h4>é¢„åˆ†é…æ•°ç»„å¤§å°</h4>
                </div>
                <p>å½“çŸ¥é“æ•°ç»„å¤§å°æ—¶ï¼Œä½¿ç”¨ <code>new Array(size)</code> é¢„åˆ†é…ç©ºé—´ï¼Œé¿å…åŠ¨æ€æ‰©å®¹å¼€é”€ã€‚</p>
                <div class="code-compare">
                  <div class="code-bad">
                    <div class="code-label">ä½æ•ˆ:</div>
                    <pre>const arr = [];
for (let i = 0; i &lt; 10000; i++) {
  arr.push(i); // å¤šæ¬¡æ‰©å®¹
}</pre>
                  </div>
                  <div class="code-good">
                    <div class="code-label">é«˜æ•ˆ:</div>
                    <pre>const arr = new Array(10000);
for (let i = 0; i &lt; 10000; i++) {
  arr[i] = i; // ç›´æ¥èµ‹å€¼
}</pre>
                  </div>
                </div>
              </div>

              <div class="tip-card">
                <div class="tip-header">
                  <div class="tip-icon">ğŸ”</div>
                  <h4>é¿å…ç¨€ç–æ•°ç»„</h4>
                </div>
                <p>ç¨€ç–æ•°ç»„ï¼ˆå«æœ‰ç©ºä½ï¼‰ä¼šä½¿å¼•æ“é€€åŒ–ä¸ºå­—å…¸æ¨¡å¼ï¼Œå¤§å¤§é™ä½æ“ä½œæ€§èƒ½ã€‚</p>
                <div class="code-compare">
                  <div class="code-bad">
                    <div class="code-label">ç¨€ç–æ•°ç»„:</div>
                    <pre>const sparse = new Array(5);
sparse[100] = 'value'; // åˆ›å»º95ä¸ªç©ºä½</pre>
                  </div>
                  <div class="code-good">
                    <div class="code-label">å¯†é›†æ•°ç»„:</div>
                    <pre>const dense = [];
for (let i = 0; i &lt; 5; i++) {
  dense[i] = i; // æ— ç©ºä½
}</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">âš ï¸</div>
          <h2>ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
        </div>
        <div class="section-content">
          <div class="warning-cards">
            <div class="warning-card">
              <div class="warning-icon">1</div>
              <h3>å¼•ç”¨ç±»å‹é—®é¢˜</h3>
              <p>æ•°ç»„å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œä¿®æ”¹å…ƒç´ ä¼šå½±å“æ‰€æœ‰å¼•ç”¨è¯¥å¯¹è±¡çš„å˜é‡ã€‚</p>
              <div class="code-block">
                <pre>const obj = { id: 1 };
const arr1 = [obj];
const arr2 = arr1.slice();

arr1[0].id = 100;
console.log(arr2[0].id); // 100ï¼Œå…±äº«å¼•ç”¨</pre>
              </div>
              <div class="solution">
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨æ·±æ‹·è´åˆ›å»ºæ–°æ•°ç»„
              </div>
            </div>

            <div class="warning-card">
              <div class="warning-icon">2</div>
              <h3>æ•°ç»„é•¿åº¦é™·é˜±</h3>
              <p>ç›´æ¥è®¾ç½® <code>length</code> å±æ€§ä¼šæˆªæ–­æ•°ç»„ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p>
              <div class="code-block">
                <pre>const arr = [1, 2, 3, 4, 5];
arr.length = 3; // æˆªæ–­æ•°ç»„
console.log(arr); // [1, 2, 3]
console.log(arr[4]); // undefined</pre>
              </div>
              <div class="solution">
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨ <code>splice</code> ä»£æ›¿ç›´æ¥ä¿®æ”¹ length
              </div>
            </div>

            <div class="warning-card">
              <div class="warning-icon">3</div>
              <h3>æ•°ç»„è¿­ä»£é—®é¢˜</h3>
              <p><code>for...in</code> ä¼šéå†æ•°ç»„çš„åŸå‹é“¾å’Œå¯æšä¸¾å±æ€§ï¼Œä¸æ¨èä½¿ç”¨ã€‚</p>
              <div class="code-block">
                <pre>Array.prototype.customMethod = () => {};
const arr = ['a', 'b', 'c'];

for (let key in arr) {
  console.log(key); // è¾“å‡º 0,1,2,customMethod
}</pre>
              </div>
              <div class="solution">
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨ <code>for...of</code> æˆ– <code>forEach</code>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- é€‚ç”¨åœºæ™¯ -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">âœ…</div>
          <h2>æ•°ç»„é€‚ç”¨åœºæ™¯</h2>
        </div>
        <div class="section-content">
          <div class="usage-scenarios">
            <div class="scenario-card">
              <div class="scenario-icon">ğŸ“Š</div>
              <h3>æ•°æ®é›†åˆ</h3>
              <ul>
                <li>å­˜å‚¨åŒç±»å‹æ•°æ®åˆ—è¡¨</li>
                <li>APIå“åº”æ•°æ®é›†åˆ</li>
                <li>æ•°æ®åº“æŸ¥è¯¢ç»“æœ</li>
              </ul>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸ§®</div>
              <h3>ç®—æ³•å®ç°</h3>
              <ul>
                <li>æ ˆå’Œé˜Ÿåˆ—å®ç°</li>
                <li>æ’åºå’Œæœç´¢ç®—æ³•</li>
                <li>å›¾/æ ‘éå†</li>
              </ul>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">âœ¨</div>
              <h3>æ•°æ®å¤„ç†</h3>
              <ul>
                <li>æ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–</li>
                <li>æµå¼æ•°æ®å¤„ç†</li>
                <li>åˆ†é¡µå’Œåˆ‡ç‰‡</li>
              </ul>
            </div>

            <div class="scenario-card">
              <div class="scenario-icon">ğŸš«</div>
              <h3>ä¸é€‚ç”¨åœºæ™¯</h3>
              <ul>
                <li>é”®å€¼å¯¹å­˜å‚¨ï¼ˆä½¿ç”¨Map/Objectï¼‰</li>
                <li>å”¯ä¸€å€¼é›†åˆï¼ˆä½¿ç”¨Setï¼‰</li>
                <li>å¤§æ•°æ®é¢‘ç¹æ’å…¥/åˆ é™¤ï¼ˆè€ƒè™‘é“¾è¡¨ï¼‰</li>
              </ul>
            </div>
          </div>

          <div class="best-practices">
            <h3>æ•°ç»„æœ€ä½³å®è·µ</h3>
            <div class="practices-grid">
              <div class="practice-card">
                <div class="practice-icon">ğŸ“</div>
                <p>ä¼˜å…ˆä½¿ç”¨å­—é¢é‡ <code>[]</code> è€Œä¸æ˜¯ <code>new Array()</code></p>
              </div>
              <div class="practice-card">
                <div class="practice-icon">ğŸ”¢</div>
                <p>é¿å…ä½¿ç”¨ç¨€ç–æ•°ç»„ï¼ˆåŒ…å«ç©ºä½ï¼‰</p>
              </div>
              <div class="practice-card">
                <div class="practice-icon">ğŸ§¹</div>
                <p>ä½¿ç”¨ <code>Array.isArray()</code> æ£€æŸ¥æ•°ç»„ç±»å‹</p>
              </div>
              <div class="practice-card">
                <div class="practice-icon">ğŸš®</div>
                <p>ä½¿ç”¨ <code>filter</code> æ›¿ä»£ <code>delete</code> åˆ é™¤å…ƒç´ </p>
              </div>
              <div class="practice-card">
                <div class="practice-icon">â±ï¸</div>
                <p>å¤§å‹æ•°ç»„æ“ä½œä½¿ç”¨ TypedArray</p>
              </div>
              <div class="practice-card">
                <div class="practice-icon">ğŸ”</div>
                <p>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜æ•°ç»„æ–¹æ³•ï¼ˆmap/filterï¼‰</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>JavaScriptæ•°ç»„æ˜¯é«˜æ•ˆçš„æ•°æ®ç»“æ„ | åˆç†ä½¿ç”¨å¯æå‡åº”ç”¨æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§</p>
      <div class="footer-links">
        <span>ECMAScript 2023 è§„èŒƒ</span>
        <span>MDN Web æ–‡æ¡£</span>
        <span>V8å¼•æ“ä¼˜åŒ–æŒ‡å—</span>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// ç¤ºä¾‹å“åº”å¼æ•°æ®
const arrayExamples = ref([
  { name: 'å­—é¢é‡åˆ›å»º', code: "const arr = [1, 2, 3];" },
  { name: 'æ„é€ å‡½æ•°', code: "const arr = new Array(1, 2, 3);" },
  { name: 'Array.from', code: "const arr = Array.from('123');" }
]);
</script>

<style lang="less" scoped>
@primary-color: #3498db;
@secondary-color: #2c3e50;
@accent-color: #e74c3c;
@light-bg: #f8f9fa;
@card-bg: #ffffff;
@border-color: #e0e0e0;
@text-color: #34495e;
@light-text: #7f8c8d;
@code-bg: #2d3748;
@success-color: #2ecc71;
@warning-color: #f39c12;

.array-container {
  font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  background-color: @light-bg;
  color: @text-color;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem 2rem;
  line-height: 1.6;
}

.header {
  text-align: center;
  padding: 2rem 1rem;
  margin-bottom: 1.5rem;

  .logo {
    width: 80px;
    height: 80px;
    margin: 0 auto 1rem;
    background: linear-gradient(135deg, @primary-color, darken(@primary-color, 10%));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;

    svg {
      width: 40px;
      height: 40px;
      fill: white;
    }
  }

  h1 {
    font-size: 2.2rem;
    margin-bottom: 0.5rem;
    color: @secondary-color;
  }

  .subtitle {
    font-size: 1.2rem;
    color: @light-text;
  }
}

.section {
  background: @card-bg;
  border-radius: 16px;
  margin-bottom: 1.8rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.04);
  overflow: hidden;

  .section-header {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 1.2rem 1.5rem;
    background: rgba(@primary-color, 0.05);
    border-bottom: 1px solid @border-color;

    .section-icon {
      font-size: 1.5rem;
      color: @primary-color;
    }

    h2 {
      margin: 0;
      font-size: 1.5rem;
      color: @text-color;
    }
  }

  .section-content {
    padding: 1.5rem;
  }
}

.overview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;

  .overview-card {
    background: rgba(@primary-color, 0.03);
    border: 1px solid fade(@primary-color, 15%);
    border-radius: 12px;
    padding: 1.5rem;

    h3 {
      margin-top: 0;
      margin-bottom: 1rem;
      color: @secondary-color;
      border-bottom: 1px solid @border-color;
      padding-bottom: 0.5rem;
    }

    p,
    ul {
      margin: 0;
      color: @light-text;
      line-height: 1.6;
      font-size: 0.95rem;
    }

    ul {
      padding-left: 1.2rem;

      li {
        margin-bottom: 0.5rem;
      }
    }

    .props {
      .prop {
        display: flex;
        margin-bottom: 0.8rem;
        border-bottom: 1px dashed @border-color;
        padding-bottom: 0.5rem;

        .prop-name {
          width: 120px;
          font-weight: 600;
          color: @primary-color;
        }

        .prop-desc {
          flex: 1;
          color: @light-text;
        }
      }
    }
  }
}

.creation-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;

  .creation-card {
    border: 1px solid fade(@primary-color, 20%);
    border-radius: 12px;
    padding: 1.5rem;
    background: @card-bg;

    h3 {
      margin-top: 0;
      margin-bottom: 1rem;
      color: @primary-color;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .code-block {
      background: darken(@light-bg, 2%);
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;

      pre {
        margin: 0;
        font-family: 'Fira Code', 'Consolas', monospace;
        font-size: 0.9rem;
        line-height: 1.4;
        color: @text-color;
        overflow-x: auto;
      }
    }

    .usage {
      display: flex;
      justify-content: space-between;
      background: rgba(@success-color, 0.1);
      border-radius: 6px;
      padding: 0.5rem;
      font-size: 0.9rem;

      .usage-label {
        font-weight: 600;
        color: darken(@success-color, 15%);
      }

      .usage-value {
        color: @light-text;
        font-family: monospace;
      }
    }

    .warning {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(@warning-color, 0.1);
      border-radius: 6px;
      padding: 0.5rem;
      font-size: 0.9rem;
      color: darken(@warning-color, 15%);
      font-weight: 600;

      .warning-icon {
        font-size: 1.2rem;
      }
    }
  }
}

.performance-intro {
  background: rgba(@primary-color, 0.05);
  border-radius: 12px;
  padding: 1.2rem;
  margin-bottom: 1.5rem;

  p {
    font-weight: 600;
    margin-top: 0;
    color: @primary-color;
  }

  ul {
    padding-left: 1.5rem;
    margin-bottom: 0;

    li {
      margin-bottom: 0.5rem;
    }
  }
}

.performance-grid {
  display: grid;
  grid-template-columns: 1.4fr 1fr;
  gap: 1.5rem;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
}

.operation-table {
  overflow-x: auto;

  table {
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;

    th,
    td {
      padding: 0.8rem;
      text-align: left;
      border: 1px solid @border-color;
    }

    th {
      background: @primary-color;
      color: white;
      font-weight: 600;
      position: sticky;
      top: 0;
    }

    tr:nth-child(even) {
      background-color: rgba(@primary-color, 0.05);
    }

    .perf-bar {
      height: 8px;
      background: linear-gradient(90deg, @success-color, @warning-color);
      border-radius: 4px;
    }
  }
}

.performance-tips {
  .tip-card {
    background: @card-bg;
    border-radius: 12px;
    padding: 1.2rem;
    margin-bottom: 1rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);

    .tip-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.8rem;

      .tip-icon {
        font-size: 1.5rem;
      }

      h4 {
        margin: 0;
        color: @secondary-color;
      }
    }

    p {
      margin-top: 0;
      margin-bottom: 1rem;
      color: @light-text;
    }
  }
}

.code-compare {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-top: 1rem;

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }

  .code-bad,
  .code-good {
    border-radius: 8px;
    overflow: hidden;

    .code-label {
      padding: 0.4rem 0.8rem;
      font-weight: 600;
      font-size: 0.9rem;
    }

    pre {
      margin: 0;
      padding: 0.8rem;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.85rem;
      line-height: 1.4;
    }
  }

  .code-bad {
    border: 1px solid fade(@accent-color, 30%);

    .code-label {
      background: fade(@accent-color, 15%);
      color: darken(@accent-color, 10%);
    }

    pre {
      background: fade(@accent-color, 5%);
    }
  }

  .code-good {
    border: 1px solid fade(@success-color, 30%);

    .code-label {
      background: fade(@success-color, 15%);
      color: darken(@success-color, 15%);
    }

    pre {
      background: fade(@success-color, 5%);
    }
  }
}

.warning-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;

  .warning-card {
    border: 1px solid fade(@warning-color, 30%);
    border-radius: 12px;
    padding: 1.5rem;
    background: rgba(@warning-color, 0.03);

    .warning-icon {
      width: 32px;
      height: 32px;
      background: @warning-color;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    h3 {
      margin-top: 0;
      margin-bottom: 0.8rem;
      color: darken(@warning-color, 15%);
    }

    p {
      margin-top: 0;
      margin-bottom: 1rem;
      color: @light-text;
    }
  }
}

.code-block {
  background: darken(@card-bg, 2%);
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;

  pre {
    margin: 0;
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.9rem;
    line-height: 1.4;
    color: @text-color;
    overflow-x: auto;
  }
}

.solution {
  background: rgba(@success-color, 0.1);
  border-radius: 6px;
  padding: 0.8rem;
  font-size: 0.95rem;
  font-weight: 600;
  color: darken(@success-color, 15%);
  margin-top: 1rem;
}

.usage-scenarios {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .scenario-card {
    border: 1px solid fade(@primary-color, 15%);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;

    .scenario-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: @primary-color;
    }

    h3 {
      margin-top: 0;
      margin-bottom: 1rem;
      color: @secondary-color;
    }

    ul {
      padding-left: 1.2rem;
      text-align: left;
      margin-bottom: 0;

      li {
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
        color: @light-text;
      }
    }
  }
}

.best-practices {
  h3 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 1.5rem;
    color: @secondary-color;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid @border-color;
  }

  .practices-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;

    .practice-card {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: rgba(@success-color, 0.05);
      border-radius: 10px;
      padding: 1rem;
      border-left: 3px solid @success-color;

      .practice-icon {
        font-size: 1.8rem;
        color: @success-color;
      }

      p {
        margin: 0;
        font-size: 0.95rem;
        font-weight: 500;

        code {
          background: rgba(0, 0, 0, 0.05);
          padding: 0.1rem 0.3rem;
          border-radius: 4px;
          font-family: monospace;
        }
      }
    }
  }
}

.footer {
  text-align: center;
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid @border-color;
  color: @light-text;
  font-size: 0.95rem;

  .footer-links {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-top: 0.8rem;

    span {
      cursor: pointer;
      color: @primary-color;
      text-decoration: underline;
    }
  }
}

@media (max-width: 768px) {
  .header {
    padding: 1.5rem 0.5rem;

    h1 {
      font-size: 1.8rem;
    }
  }

  .performance-grid {
    grid-template-columns: 1fr;
  }
}
</style>
