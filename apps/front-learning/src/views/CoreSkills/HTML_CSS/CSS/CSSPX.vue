<template>
  <div class="pixel-guide">
    <h1 class="main-title">å‰ç«¯åƒç´ åŸºæœ¬ä»‹ç»</h1>

    <!-- åŸºç¡€æ¦‚å¿µ -->
    <section class="concept-section">
      <h2 class="section-title">ğŸ” æ ¸å¿ƒæ¦‚å¿µ</h2>
      <div class="grid-container">
        <div class="concept-card" v-for="item in basicConcepts" :key="item.title">
          <h3>{{ item.title }}</h3>
          <div class="concept-content">
            <p>{{ item.definition }}</p>
            <div class="key-points">
              <p v-for="(point, index) in item.points" :key="index">â–¹ {{ point }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- æŠ€æœ¯æŒ‡æ ‡ -->
    <section class="metrics-section">
      <h2 class="section-title">ğŸ“ æŠ€æœ¯æŒ‡æ ‡è§£æ</h2>
      <div class="metric-grid">
        <div class="metric-card" v-for="metric in metrics" :key="metric.name">
          <div class="metric-header">
            <span class="abbr">{{ metric.abbr }}</span>
            <span class="name">{{ metric.name }}</span>
          </div>
          <div class="metric-body">
            <p>{{ metric.definition }}</p>
            <div class="formula" v-if="metric.formula">
              {{ metric.formula }}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ç”Ÿäº§å¤„ç†æ–¹æ¡ˆ -->
    <section class="solution-section">
      <h2 class="section-title">âš™ï¸ ç”Ÿäº§ç¯å¢ƒè§£å†³æ–¹æ¡ˆ</h2>
      <div class="solution-list">
        <div class="solution-item" v-for="(solution, index) in solutions" :key="index">
          <div class="solution-index">#{{ index + 1 }}</div>
          <div class="solution-content">
            <h3>{{ solution.title }}</h3>
            <p>{{ solution.description }}</p>
          </div>
        </div>
      </div>
    </section>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <section class="notice-section">
      <h2 class="section-title">âš ï¸ æ³¨æ„äº‹é¡¹</h2>
      <div class="notice-grid">
        <div class="notice-card" v-for="(notice, index) in notices" :key="index">
          <div class="notice-icon">{{ notice.icon }}</div>
          <div class="notice-content">
            <h3>{{ notice.title }}</h3>
            <p>{{ notice.content }}</p>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { reactive } from 'vue'

const basicConcepts = reactive([
  {
    title: 'CSSåƒç´ ',
    definition: 'é€»è¾‘åƒç´ ï¼Œæµè§ˆå™¨ä½¿ç”¨çš„æŠ½è±¡å•ä½',
    points: [
      'ä¸è®¾å¤‡æ— å…³çš„æµ‹é‡å•ä½',
      'å—ç¼©æ”¾ç³»æ•°å½±å“',
      '1pxä¸ä¸€å®šå¯¹åº”1ç‰©ç†åƒç´ '
    ]
  },
  {
    title: 'ç‰©ç†åƒç´ ',
    definition: 'è®¾å¤‡å±å¹•çš„å®é™…å‘å…‰ç‚¹',
    points: [
      'ç¡¬ä»¶å±‚é¢çš„æœ€å°å•ä½',
      'è®¾å¤‡å‡ºå‚å›ºå®šå€¼',
      'é«˜å¯†åº¦å±å¹•åŒ…å«æ›´å¤šç‰©ç†åƒç´ '
    ]
  },
  {
    title: 'è®¾å¤‡ç‹¬ç«‹åƒç´ (DIP)',
    definition: 'ä¸å±å¹•å¯†åº¦æ— å…³çš„æŠ½è±¡å•ä½',
    points: [
      'æ“ä½œç³»ç»Ÿä½¿ç”¨çš„é€»è¾‘å•ä½',
      '160 DIP â‰ˆ 1è‹±å¯¸',
      'å†³å®šCSSåƒç´ çš„åŸºå‡†'
    ]
  }
])

const metrics = reactive([
  {
    name: 'æ¯è‹±å¯¸åƒç´ æ•°',
    abbr: 'PPI',
    definition: 'å±å¹•ç‰©ç†åƒç´ å¯†åº¦ï¼Œè®¡ç®—å…¬å¼ï¼š',
    formula: 'âˆš(æ°´å¹³åƒç´ Â² + å‚ç›´åƒç´ Â²) / å±å¹•å¯¹è§’çº¿è‹±å¯¸æ•°'
  },
  {
    name: 'è®¾å¤‡åƒç´ æ¯”',
    abbr: 'DPR',
    definition: 'ç‰©ç†åƒç´ ä¸CSSåƒç´ çš„æ¯”ä¾‹',
    formula: 'DPR = ç‰©ç†åƒç´  / CSSåƒç´ '
  },
  {
    name: 'ç‚¹æ¯è‹±å¯¸',
    abbr: 'DPI',
    definition: 'å°åˆ·å“åƒç´ å¯†åº¦åº¦é‡æ ‡å‡†',
    formula: '1è‹±å¯¸å†…çš„å¢¨ç‚¹æ•°'
  }
])

const solutions = reactive([
  {
    title: 'è§†å£å…ƒæ ‡ç­¾é…ç½®',
    description: 'é€šè¿‡viewportçš„initial-scaleæ§åˆ¶CSSåƒç´ ç¼©æ”¾'
  },
  {
    title: 'å“åº”å¼åƒç´ é€‚é…',
    description: 'ä½¿ç”¨remé…åˆåª’ä½“æŸ¥è¯¢é€‚é…ä¸åŒDPRè®¾å¤‡'
  },
  {
    title: 'é«˜ç²¾åº¦åª’ä½“æŸ¥è¯¢',
    description: '@media (-webkit-min-device-pixel-ratio: 2)'
  },
  {
    title: 'çŸ¢é‡å›¾å½¢ä¼˜å…ˆ',
    description: 'ä½¿ç”¨SVGä»£æ›¿ä½å›¾é¿å…åƒç´ å¤±çœŸ'
  }
])

const notices = reactive([
  {
    icon: 'ğŸ“±',
    title: 'ç§»åŠ¨ç«¯é€‚é…',
    content: 'æ³¨æ„iOSå’ŒAndroidçš„DPRå·®å¼‚'
  },
  {
    icon: 'ğŸ–¥ï¸',
    title: 'é«˜åˆ†å±å¤„ç†',
    content: 'ä¸º2x/3xå±å¹•æä¾›é«˜æ¸…ç´ æ'
  },
  {
    icon: 'âš¡',
    title: 'æ€§èƒ½ä¼˜åŒ–',
    content: 'é¿å…è¿‡å¤šä½¿ç”¨é«˜ç²¾åº¦åª’ä½“æŸ¥è¯¢'
  }
])
</script>

<style lang="less" scoped>
.pixel-guide {
  max-width: 1100px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', system-ui, sans-serif;
  color: #111827;
  background: #f9fafb;
}

.main-title {
  color: #111827;
  text-align: center;
  font-size: 2.2rem;
  font-weight: 700;
  margin-bottom: 2rem;
  background: none;
}

.section-title {
  color: #2563eb;
  margin: 2rem 0 1rem;
  font-size: 1.3rem;
  font-weight: 600;
}

.grid-container,
.metric-grid,
.notice-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.concept-card,
.metric-card,
.notice-card {
  background: #fff;
  padding: 1.2rem 1.5rem;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  box-shadow: none;
}

.concept-card h3 {
  color: #2563eb;
  margin-bottom: 0.7rem;
}

.key-points {
  margin-top: 0.7rem;
  padding-left: 1rem;
  border-left: 2px solid #e5e7eb;
}

.metric-header .abbr {
  font-size: 1.2rem;
  color: #3b82f6;
  font-weight: 600;
  margin-right: 0.7rem;
}

.formula {
  margin-top: 0.7rem;
  padding: 0.5rem;
  background: #f3f4f6;
  border-radius: 6px;
  font-family: monospace;
}

.solution-list {
  display: grid;
  gap: 1rem;
}

.solution-item {
  display: flex;
  align-items: flex-start;
  padding: 1.2rem 1.5rem;
  background: #fff;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
}

.solution-index {
  font-size: 1rem;
  color: #3b82f6;
  margin-right: 1rem;
}

.notice-icon {
  font-size: 1.5rem;
  margin-right: 1rem;
}

@media (max-width: 768px) {
  .pixel-guide {
    padding: 1rem;
  }
}
</style>
