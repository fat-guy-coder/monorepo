<template>
  <div class="strong-caching">
    <header class="header">
      <div class="header-content">
        <h1>ğŸš€ ç½‘ç»œå¼ºç¼“å­˜ (Strong Caching)</h1>
        <p>æå‡Webåº”ç”¨æ€§èƒ½çš„å…³é”®æŠ€æœ¯</p>
      </div>
      <div class="cache-visualization">
        <div class="cache-flow">
          <div class="flow-item">å®¢æˆ·ç«¯è¯·æ±‚</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item cache-hit">ç¼“å­˜å‘½ä¸­</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item">æœ¬åœ°èµ„æº</div>
        </div>
        <div class="cache-flow">
          <div class="flow-item">å®¢æˆ·ç«¯è¯·æ±‚</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item cache-miss">ç¼“å­˜æœªå‘½ä¸­</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-item">æœåŠ¡å™¨èµ„æº</div>
        </div>
      </div>
    </header>

    <div class="content-container">
      <!-- æ¦‚å¿µéƒ¨åˆ† -->
      <section class="concept-section">
        <div class="section-header">
          <div class="section-icon">ğŸ“š</div>
          <h2>å¼ºç¼“å­˜æ¦‚å¿µ</h2>
        </div>
        <div class="concept-content">
          <div class="definition-card">
            <p>
              <strong>å¼ºç¼“å­˜</strong>æ˜¯HTTPç¼“å­˜æœºåˆ¶çš„ä¸€ç§ï¼Œå½“æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•ˆã€‚
              å¦‚æœæœ‰æ•ˆï¼ˆæœªè¿‡æœŸï¼‰ï¼Œæµè§ˆå™¨ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œ<strong>ä¸ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨</strong>ã€‚
            </p>
          </div>

          <div class="cache-mechanism">
            <h3>ç¼“å­˜æœºåˆ¶æµç¨‹</h3>
            <div class="mechanism-steps">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>æµè§ˆå™¨å‘èµ·èµ„æºè¯·æ±‚</h4>
                  <p>æµè§ˆå™¨æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜å‰¯æœ¬</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>æ£€æŸ¥ç¼“å­˜æœ‰æ•ˆæ€§</h4>
                  <p>æ ¹æ®HTTPå¤´éƒ¨åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¿‡æœŸ</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>ç¼“å­˜æœ‰æ•ˆï¼ˆæœªè¿‡æœŸï¼‰</h4>
                  <p>ç›´æ¥ä»ç¼“å­˜è¯»å–èµ„æºï¼ˆçŠ¶æ€ç 200 from cacheï¼‰</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h4>ç¼“å­˜æ— æ•ˆï¼ˆå·²è¿‡æœŸï¼‰</h4>
                  <p>å‘æœåŠ¡å™¨å‘é€è¯·æ±‚è·å–æœ€æ–°èµ„æº</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ç¼“å­˜å¤´éƒ¨ -->
      <section class="headers-section">
        <div class="section-header">
          <div class="section-icon">ğŸ”§</div>
          <h2>ç¼“å­˜æ§åˆ¶å¤´éƒ¨</h2>
        </div>

        <div class="headers-tabs">
          <button v-for="(header, index) in cacheHeaders" :key="index"
            :class="['header-tab', { active: activeHeaderTab === index }]" @click="activeHeaderTab = index">
            {{ header.name }}
          </button>
        </div>

        <div class="header-content">
          <div v-show="activeHeaderTab === 0" class="header-detail">
            <h3>Cache-Control</h3>
            <p>HTTP/1.1 ä¸­ç”¨äºæ§åˆ¶ç¼“å­˜è¡Œä¸ºçš„é€šç”¨å¤´éƒ¨å­—æ®µï¼Œä¼˜å…ˆçº§é«˜äº Expires</p>

            <div class="directives-grid">
              <div class="directive-card" v-for="(directive, index) in cacheControlDirectives" :key="index">
                <div class="directive-name">{{ directive.name }}</div>
                <div class="directive-value">{{ directive.value }}</div>
                <div class="directive-desc">{{ directive.description }}</div>
              </div>
            </div>

            <div class="code-example">
              <h4>é…ç½®ç¤ºä¾‹ï¼š</h4>
              <pre>// è®¾ç½®å¼ºç¼“å­˜æ—¶é—´ä¸º1å¹´
Cache-Control: max-age=31536000

// å…¬å…±ç¼“å­˜ï¼ˆCDNç­‰ï¼‰
Cache-Control: public, max-age=31536000

// ç§æœ‰ç¼“å­˜ï¼ˆä»…æµè§ˆå™¨ï¼‰
Cache-Control: private, max-age=86400

// ç¦æ­¢ç¼“å­˜
Cache-Control: no-store</pre>
            </div>
          </div>

          <div v-show="activeHeaderTab === 1" class="header-detail">
            <h3>Expires</h3>
            <p>HTTP/1.0 ä¸­ç”¨äºæŒ‡å®šèµ„æºè¿‡æœŸæ—¶é—´çš„å¤´éƒ¨å­—æ®µï¼Œä½¿ç”¨ç»å¯¹æ—¶é—´</p>

            <div class="expires-card">
              <div class="expires-info">
                <div class="info-item">
                  <span class="info-label">æ ¼å¼ï¼š</span>
                  <span class="info-value">æ ¼æ—å¨æ²»æ—¶é—´ï¼ˆGMTï¼‰</span>
                </div>
                <div class="info-item">
                  <span class="info-label">ç¤ºä¾‹ï¼š</span>
                  <span class="info-value">Expires: Wed, 21 Oct 2025 07:28:00 GMT</span>
                </div>
                <div class="info-item">
                  <span class="info-label">ä¼˜å…ˆçº§ï¼š</span>
                  <span class="info-value">ä½äº Cache-Control</span>
                </div>
              </div>

              <div class="expires-note">
                <div class="note-icon">âš ï¸</div>
                <div class="note-content">
                  ç”±äºä¾èµ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ—¶é—´åŒæ­¥ï¼Œä¸”ä½¿ç”¨ç»å¯¹æ—¶é—´ï¼ŒExpires åœ¨ç°ä»£Webåº”ç”¨ä¸­å·²é€æ¸è¢« Cache-Control å–ä»£
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- é…ç½®ç¤ºä¾‹ -->
      <section class="config-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’»</div>
          <h2>é…ç½®ç¤ºä¾‹</h2>
        </div>

        <div class="config-tabs">
          <button v-for="(tab, index) in serverConfigs" :key="index"
            :class="['config-tab', { active: activeConfigTab === index }]" @click="activeConfigTab = index">
            {{ tab.name }}
          </button>
        </div>

        <div class="config-content">
          <div v-for="(config, index) in serverConfigs[activeConfigTab].configs" :key="index" class="config-example">
            <h3>{{ config.title }}</h3>
            <pre>{{ config.code }}</pre>
          </div>
        </div>
      </section>

      <!-- ä½¿ç”¨åœºæ™¯ -->
      <section class="usage-section">
        <div class="section-header">
          <div class="section-icon">ğŸ’¡</div>
          <h2>ä½¿ç”¨åœºæ™¯</h2>
        </div>

        <div class="usage-grid">
          <div class="usage-card" v-for="(scenario, index) in usageScenarios" :key="index">
            <div class="usage-icon">{{ scenario.icon }}</div>
            <h3>{{ scenario.title }}</h3>
            <p>{{ scenario.description }}</p>
            <div class="cache-duration">
              <span class="duration-label">æ¨èç¼“å­˜æ—¶é—´ï¼š</span>
              <span class="duration-value">{{ scenario.duration }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ä¼˜ç¼ºç‚¹ -->
      <section class="pros-cons-section">
        <div class="section-header">
          <div class="section-icon">âš–ï¸</div>
          <h2>ä¼˜ç¼ºç‚¹åˆ†æ</h2>
        </div>

        <div class="comparison">
          <div class="pros">
            <h3>âœ… ä¼˜ç‚¹</h3>
            <ul>
              <li v-for="(pro, index) in pros" :key="index">
                <div class="icon">âœ”ï¸</div>
                <div>{{ pro }}</div>
              </li>
            </ul>
          </div>

          <div class="cons">
            <h3>âŒ ç¼ºç‚¹</h3>
            <ul>
              <li v-for="(con, index) in cons" :key="index">
                <div class="icon">âš ï¸</div>
                <div>{{ con }}</div>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- æœ€ä½³å®è·µ -->
      <section class="best-practices">
        <div class="section-header">
          <div class="section-icon">ğŸŒŸ</div>
          <h2>æœ€ä½³å®è·µ</h2>
        </div>

        <div class="practices-grid">
          <div class="practice-card" v-for="(practice, index) in bestPractices" :key="index">
            <div class="practice-number">{{ index + 1 }}</div>
            <div class="practice-content">
              <h3>{{ practice.title }}</h3>
              <p>{{ practice.description }}</p>
            </div>
          </div>
        </div>
      </section>

      <footer class="footer">
        <div class="summary">
          <h3>å¼ºç¼“å­˜æ€»ç»“</h3>
          <p>
            å¼ºç¼“å­˜æ˜¯Webæ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œé€šè¿‡å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒã€‚
            åˆç†é…ç½®Cache-Controlå¤´éƒ¨ï¼Œç»“åˆèµ„æºç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥åœ¨ä¿æŒèµ„æºæ–°é²œåº¦çš„åŒæ—¶æœ€å¤§åŒ–ç¼“å­˜æ•ˆç›Šã€‚
          </p>
        </div>
        <div class="footer-links">
          <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching" target="_blank">MDN HTTPç¼“å­˜æ–‡æ¡£</a>
          <a href="https://web.dev/http-cache/" target="_blank">web.devç¼“å­˜æŒ‡å—</a>
          <a href="https://tools.ietf.org/html/rfc7234" target="_blank">RFC 7234è§„èŒƒ</a>
        </div>
      </footer>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const cacheHeaders = [
  { name: 'Cache-Control' },
  { name: 'Expires' }
];

const activeHeaderTab = ref(0);
const activeConfigTab = ref(0);

const cacheControlDirectives = [
  { name: 'max-age', value: '=ç§’æ•°', description: 'èµ„æºæœ€å¤§ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰' },
  { name: 'public', value: '', description: 'å“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜' },
  { name: 'private', value: '', description: 'å“åº”ä»…å¯è¢«æµè§ˆå™¨ç¼“å­˜' },
  { name: 'no-cache', value: '', description: 'å¼ºåˆ¶å‘æœåŠ¡å™¨éªŒè¯ç¼“å­˜' },
  { name: 'no-store', value: '', description: 'ç¦æ­¢ç¼“å­˜ä»»ä½•å“åº”å†…å®¹' },
  { name: 'immutable', value: '', description: 'èµ„æºæ°¸ä¸å˜ï¼Œæ— éœ€é‡æ–°éªŒè¯' },
  { name: 'must-revalidate', value: '', description: 'ç¼“å­˜å¿…é¡»éªŒè¯è¿‡æœŸèµ„æº' }
];

const serverConfigs = [
  {
    name: 'Nginx',
    configs: [
      {
        title: 'é™æ€èµ„æºå¼ºç¼“å­˜',
        code: `location ~* \\.(jpg|jpeg|png|gif|ico|css|js)$ {
  # è®¾ç½®å¼ºç¼“å­˜1å¹´
  add_header Cache-Control "public, max-age=31536000, immutable";

  # å¯é€‰ï¼šæ·»åŠ ETagéªŒè¯
  etag on;
}`
      },
      {
        title: 'å­—ä½“æ–‡ä»¶ç¼“å­˜',
        code: `location ~* \\.(woff|woff2|ttf|eot|svg)$ {
  add_header Cache-Control "public, max-age=31536000, immutable";
}`
      }
    ]
  },
  {
    name: 'Apache',
    configs: [
      {
        title: '.htaccess é…ç½®',
        code: `<IfModule mod_expires.c>
  ExpiresActive On
  # å›¾ç‰‡ç¼“å­˜1å¹´
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"

  # CSSå’ŒJSç¼“å­˜1å¹´
  ExpiresByType text/css "access plus 1 year"
  ExpiresByType application/javascript "access plus 1 year"
</IfModule>

<IfModule mod_headers.c>
  <FilesMatch "\\.(jpg|jpeg|png|gif|css|js)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>`
      }
    ]
  },
  {
    name: 'Node.js',
    configs: [
      {
        title: 'Expressä¸­é—´ä»¶',
        code: `const express = require('express');
const app = express();

// é™æ€èµ„æºå¼ºç¼“å­˜
app.use(express.static('public', {
  maxAge: '1y',
  immutable: true
}));

// ç‰¹å®šèµ„æºç±»å‹
app.get('/static/*.js', (req, res) => {
  res.setHeader('Cache-Control', 'public, max-age=31536000, immutable');
  res.sendFile(path.join(__dirname, req.path));
});`
      },
      {
        title: 'è®¾ç½®Cache-Controlå¤´éƒ¨',
        code: `app.get('/styles.css', (req, res) => {
  res.set({
    'Cache-Control': 'public, max-age=31536000',
    'Content-Type': 'text/css'
  });
  res.send(cssContent);
});`
      }
    ]
  }
];

const usageScenarios = [
  {
    icon: 'ğŸ–¼ï¸',
    title: 'é™æ€å›¾ç‰‡èµ„æº',
    description: 'ä¸ç»å¸¸å˜æ›´çš„å›¾ç‰‡ã€å›¾æ ‡ç­‰',
    duration: '1å¹´'
  },
  {
    icon: 'ğŸ¨',
    title: 'æ ·å¼è¡¨æ–‡ä»¶',
    description: 'CSSæ–‡ä»¶ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨å†…å®¹å“ˆå¸Œçš„æ–‡ä»¶å',
    duration: '1å¹´'
  },
  {
    icon: 'ğŸ“œ',
    title: 'JavaScriptåº“',
    description: 'ç¬¬ä¸‰æ–¹åº“å¦‚Reactã€Vueã€jQueryç­‰',
    duration: '1å¹´'
  },
  {
    icon: 'ğŸ…°ï¸',
    title: 'å­—ä½“æ–‡ä»¶',
    description: 'Webå­—ä½“æ–‡ä»¶ï¼ˆwoff, woff2, ttfï¼‰',
    duration: '1å¹´'
  },
  {
    icon: 'ğŸ“¹',
    title: 'åª’ä½“æ–‡ä»¶',
    description: 'è§†é¢‘ã€éŸ³é¢‘ç­‰å¤§å‹åª’ä½“æ–‡ä»¶',
    duration: '30å¤©'
  },
  {
    icon: 'ğŸ“„',
    title: 'ä¸‹è½½æ–‡ä»¶',
    description: 'ç”¨æˆ·ä¸‹è½½çš„é™æ€æ–‡æ¡£ï¼ˆPDFã€ZIPç­‰ï¼‰',
    duration: '7å¤©'
  }
];

const pros = [
  'æé€ŸåŠ è½½ï¼šç›´æ¥ä»ç¼“å­˜è¯»å–ï¼Œæ— éœ€ç½‘ç»œè¯·æ±‚',
  'å‡å°‘å¸¦å®½ï¼šèŠ‚çœæœåŠ¡å™¨å¸¦å®½å’Œæµé‡æˆæœ¬',
  'é™ä½å»¶è¿Ÿï¼šæ¶ˆé™¤ç½‘ç»œå¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰',
  'å‡è½»æœåŠ¡å™¨å‹åŠ›ï¼šå‡å°‘ä¸å¿…è¦çš„èµ„æºè¯·æ±‚',
  'æå‡ç”¨æˆ·ä½“éªŒï¼šé¡µé¢åŠ è½½æ›´å¿«æ›´æµç•…'
];

const cons = [
  'æ›´æ–°å›°éš¾ï¼šèµ„æºå˜æ›´åéœ€è¦ç­‰å¾…ç¼“å­˜è¿‡æœŸ',
  'ç‰ˆæœ¬æ§åˆ¶é—®é¢˜ï¼šéœ€è¦æ–‡ä»¶åå“ˆå¸Œç­‰æŠ€æœ¯è§£å†³',
  'ç¼“å­˜å¤±æ•ˆï¼šç”¨æˆ·å¯èƒ½çœ‹åˆ°è¿‡æœŸå†…å®¹',
  'å­˜å‚¨é™åˆ¶ï¼šæµè§ˆå™¨ç¼“å­˜ç©ºé—´æœ‰é™',
  'é…ç½®å¤æ‚ï¼šéœ€è¦åˆç†è®¾ç½®ç¼“å­˜æ—¶é—´'
];

const bestPractices = [
  {
    title: 'æ–‡ä»¶åå“ˆå¸Œ',
    description: 'ä½¿ç”¨å†…å®¹å“ˆå¸Œç”Ÿæˆæ–‡ä»¶åï¼ˆå¦‚app.a1b2c3.jsï¼‰ï¼Œç¡®ä¿å†…å®¹å˜æ›´æ—¶URLæ”¹å˜'
  },
  {
    title: 'åˆç†è®¾ç½®ç¼“å­˜æ—¶é—´',
    description: 'é™æ€èµ„æºè®¾ç½®è¾ƒé•¿æ—¶é—´ï¼ˆ1å¹´ï¼‰ï¼ŒåŠ¨æ€èµ„æºè®¾ç½®è¾ƒçŸ­æ—¶é—´'
  },
  {
    title: 'åŒºåˆ†å…¬å…±å’Œç§æœ‰èµ„æº',
    description: 'å…¬å…±èµ„æºï¼ˆå¦‚å›¾ç‰‡ï¼‰ä½¿ç”¨publicï¼Œç§æœ‰èµ„æºä½¿ç”¨private'
  },
  {
    title: 'ä½¿ç”¨immutableç‰¹æ€§',
    description: 'å¯¹äºä¸ä¼šå˜æ›´çš„èµ„æºä½¿ç”¨immutableï¼Œé¿å…éªŒè¯è¯·æ±‚'
  },
  {
    title: 'ç»„åˆä½¿ç”¨ç¼“å­˜ç­–ç•¥',
    description: 'å¼ºç¼“å­˜ä¸åå•†ç¼“å­˜ï¼ˆETag/Last-Modifiedï¼‰ç»“åˆä½¿ç”¨'
  },
  {
    title: 'ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡',
    description: 'ä½¿ç”¨å·¥å…·ç›‘æ§ç¼“å­˜æ•ˆæœï¼ŒæŒç»­ä¼˜åŒ–ç¼“å­˜ç­–ç•¥'
  }
];
</script>

<style lang="less" scoped>


.strong-caching {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  color: #2d3748;
  background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
  min-height: 100vh;

  * {
    box-sizing: border-box;
  }
}

.header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem;
  background: linear-gradient(120deg, #0ea5e9 0%, #0284c7 100%);
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(2, 132, 199, 0.3);
  color: white;

  .header-content {
    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }

    p {
      font-size: 1.2rem;
      color: #e0f2fe;
      margin-top: 0;
    }
  }
}

.cache-visualization {
  margin-top: 2rem;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 1.5rem;
  backdrop-filter: blur(10px);
}

.cache-flow {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;

  &:last-child {
    margin-bottom: 0;
  }

  .flow-item {
    background: rgba(255, 255, 255, 0.9);
    color: #2563eb;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    min-width: 150px;
    text-align: center;

    &.cache-hit {
      background: #86efac;
      color: #166534;
    }

    &.cache-miss {
      background: #fca5a5;
      color: #b91c1c;
    }
  }

  .flow-arrow {
    font-size: 1.8rem;
    color: white;
    font-weight: bold;
  }
}

.content-container {
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 35px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  margin-bottom: 3rem;
}

.section-header {
  display: flex;
  align-items: center;
  padding: 1.5rem 2rem;
  background: linear-gradient(120deg, #e0f2fe 0%, #bae6fd 100%);
  border-bottom: 2px solid #7dd3fc;

  h2 {
    margin: 0;
    font-size: 1.8rem;
    font-weight: 600;
    color: #0369a1;
  }

  .section-icon {
    font-size: 1.8rem;
    margin-right: 1.2rem;
    background: #0ea5e9;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }
}

.concept-section {
  .concept-content {
    padding: 2rem;
  }
}

.definition-card {
  background: #f0f9ff;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  border-left: 4px solid #0ea5e9;

  p {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #4b5563;
    margin: 0;

    strong {
      color: #0369a1;
    }
  }
}

.cache-mechanism {
  background: #f8fafc;
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid #e2e8f0;

  h3 {
    color: #0369a1;
    margin-top: 0;
    margin-bottom: 1.5rem;
    text-align: center;
  }
}

.mechanism-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.step {
  display: flex;
  background: white;
  border-radius: 10px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;

  .step-number {
    width: 40px;
    height: 40px;
    background: #0ea5e9;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.2rem;
    margin-right: 1.5rem;
    flex-shrink: 0;
  }

  .step-content {
    h4 {
      color: #075985;
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    p {
      color: #4b5563;
      margin: 0;
      line-height: 1.6;
      font-size: 0.95rem;
    }
  }
}

.headers-section {
  .headers-tabs {
    display: flex;
    padding: 0 2rem;
    background: #f1f5f9;
    border-bottom: 1px solid #e5e7eb;
  }
}

.header-tab {
  padding: 1rem 1.5rem;
  background: transparent;
  border: none;
  font-size: 1rem;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;

  &:hover {
    background: #e0f2fe;
    color: #0369a1;
  }

  &.active {
    background: white;
    color: #0369a1;
    font-weight: 600;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: #0ea5e9;
    }
  }
}

.header-content {
  padding: 1.5rem 2rem;
}

.header-detail {
  h3 {
    color: #075985;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  p {
    color: #4b5563;
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }
}

.directives-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.directive-card {
  background: white;
  border-radius: 10px;
  padding: 1.2rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(14, 165, 233, 0.1);
  }

  .directive-name {
    font-weight: 700;
    color: #0c4a6e;
    margin-bottom: 0.3rem;
    font-family: 'Fira Code', monospace;
  }

  .directive-value {
    color: #0284c7;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
    font-family: 'Fira Code', monospace;
  }

  .directive-desc {
    color: #4b5563;
    font-size: 0.9rem;
    line-height: 1.5;
  }
}

.code-example {
  background: #f1f5f9;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1.5rem;

  h4 {
    color: #075985;
    margin-top: 0;
    margin-bottom: 0.8rem;
  }

  pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1.2rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    margin: 0;

    code {
      display: block;
    }
  }
}

.expires-card {
  background: #f0f9ff;
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid #bae6fd;
}

.expires-info {
  margin-bottom: 1.5rem;

  .info-item {
    display: flex;
    margin-bottom: 0.8rem;

    .info-label {
      font-weight: 600;
      color: #075985;
      min-width: 80px;
    }

    .info-value {
      color: #4b5563;
      font-family: 'Fira Code', monospace;
    }
  }
}

.expires-note {
  display: flex;
  background: #fffbeb;
  border-radius: 8px;
  padding: 1rem;
  border-left: 4px solid #f59e0b;

  .note-icon {
    font-size: 1.5rem;
    margin-right: 1rem;
    color: #d97706;
    flex-shrink: 0;
  }

  .note-content {
    color: #92400e;
  }
}

.config-section {
  .config-tabs {
    display: flex;
    padding: 0 2rem;
    background: #f1f5f9;
    border-bottom: 1px solid #e5e7eb;
  }
}

.config-tab {
  padding: 1rem 1.5rem;
  background: transparent;
  border: none;
  font-size: 1rem;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;

  &:hover {
    background: #e0f2fe;
    color: #0369a1;
  }

  &.active {
    background: white;
    color: #0369a1;
    font-weight: 600;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: #0ea5e9;
    }
  }
}

.config-content {
  padding: 1.5rem 2rem;
}

.config-example {
  margin-bottom: 2rem;

  h3 {
    color: #075985;
    margin-top: 0;
    margin-bottom: 0.8rem;
  }

  pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1.2rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    margin: 0;
    white-space: pre-wrap;

    code {
      display: block;
    }
  }
}

.usage-section {
  .usage-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem 2rem;
  }
}

.usage-card {
  background: white;
  border-radius: 12px;
  padding: 1.8rem;
  text-align: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(14, 165, 233, 0.15);
  }

  .usage-icon {
    font-size: 2.5rem;
    margin-bottom: 1.2rem;
    color: #0ea5e9;
  }

  h3 {
    color: #075985;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  p {
    color: #6b7280;
    margin: 0 0 1.5rem;
    line-height: 1.6;
  }
}

.cache-duration {
  background: #e0f2fe;
  border-radius: 20px;
  padding: 0.5rem 1rem;
  display: inline-block;

  .duration-label {
    color: #075985;
    font-weight: 500;
  }

  .duration-value {
    color: #0c4a6e;
    font-weight: 700;
  }
}

.pros-cons-section {
  .comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    padding: 0 2rem 2rem;

    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }
}

.pros,
.cons {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);

  h3 {
    margin-top: 0;
    margin-bottom: 1.2rem;
    padding-bottom: 0.8rem;
    border-bottom: 2px solid #bae6fd;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  li {
    display: flex;
    padding: 0.8rem 0;
    border-bottom: 1px solid #f1f5f9;

    &:last-child {
      border-bottom: none;
    }

    .icon {
      margin-right: 0.8rem;
      font-size: 1.2rem;
      width: 24px;
      flex-shrink: 0;
    }
  }
}

.pros {
  border-left: 4px solid #10b981;

  h3 {
    color: #10b981;
  }

  li {
    color: #047857;
  }
}

.cons {
  border-left: 4px solid #ef4444;

  h3 {
    color: #ef4444;
  }

  li {
    color: #b91c1c;
  }
}

.best-practices {
  .practices-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    padding: 1.5rem 2rem;
  }
}

.practice-card {
  display: flex;
  background: white;
  border-radius: 10px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #e5e7eb;

  .practice-number {
    width: 40px;
    height: 40px;
    background: #0ea5e9;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.2rem;
    margin-right: 1.5rem;
    flex-shrink: 0;
  }

  .practice-content {
    h3 {
      color: #075985;
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    p {
      color: #4b5563;
      margin: 0;
      line-height: 1.6;
    }
  }
}

.footer {
  background: linear-gradient(120deg, #1e293b 0%, #0f172a 100%);
  color: white;
  padding: 3rem 2rem;

  .summary {
    max-width: 800px;
    margin: 0 auto 2rem;
    text-align: center;

    h3 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: #e0f2fe;
    }

    p {
      font-size: 1.1rem;
      color: #cbd5e1;
      line-height: 1.7;
    }
  }

  .footer-links {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;

    a {
      color: #7dd3fc;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      border-radius: 50px;
      border: 1px solid #334155;
      transition: all 0.3s ease;

      &:hover {
        background: #0ea5e9;
        color: white;
        border-color: #0ea5e9;
      }
    }
  }
}

@media (max-width: 768px) {
  .strong-caching {
    padding: 1rem;
  }

  .header {
    padding: 1.5rem;

    h1 {
      font-size: 1.8rem;
    }

    p {
      font-size: 1rem;
    }
  }

  .cache-flow {
    flex-direction: column;
    gap: 0.5rem;

    .flow-arrow {
      transform: rotate(90deg);
    }
  }

  .section-header {
    padding: 1rem;

    h2 {
      font-size: 1.5rem;
    }
  }

  .mechanism-steps {
    grid-template-columns: 1fr;
  }
}
</style>
