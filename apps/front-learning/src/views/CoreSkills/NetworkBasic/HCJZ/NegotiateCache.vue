<template>
  <div class="negotiation-cache-container">
    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header class="cache-hero">
      <div class="hero-content">
        <h1>åå•†ç¼“å­˜ <span class="subtitle">æ™ºèƒ½çš„èµ„æºæ›´æ–°æœºåˆ¶</span></h1>
        <p class="tagline">é«˜æ•ˆçš„ç¼“å­˜éªŒè¯ç­–ç•¥ï¼Œå¹³è¡¡æ€§èƒ½ä¸èµ„æºæ›´æ–°</p>
        <div class="hero-stats">
          <div class="stat">
            <div class="stat-value">30-50%</div>
            <div class="stat-label">å¸¦å®½èŠ‚çœ</div>
          </div>
          <div class="stat">
            <div class="stat-value">200-300ms</div>
            <div class="stat-label">å¹³å‡åŠ è½½æå‡</div>
          </div>
          <div class="stat">
            <div class="stat-value">99.9%</div>
            <div class="stat-label">ç°ä»£æµè§ˆå™¨æ”¯æŒ</div>
          </div>
        </div>
      </div>
      <div class="hero-visual">
        <div class="cache-flow">
          <div class="flow-step">
            <div class="step-client">æµè§ˆå™¨</div>
            <div class="step-arrow">â†’</div>
            <div class="step-server">æœåŠ¡å™¨</div>
          </div>
          <div class="flow-step">
            <div class="step-header">If-Modified-Since / If-None-Match</div>
            <div class="step-arrow">â†“</div>
          </div>
          <div class="flow-step">
            <div class="step-response">304 Not Modified</div>
            <div class="step-arrow">â†‘</div>
          </div>
          <div class="flow-step">
            <div class="step-cache">ä½¿ç”¨ç¼“å­˜</div>
          </div>
        </div>
      </div>
    </header>

    <!-- åŸºæœ¬æ¦‚å¿µ -->
    <section class="concepts-section">
      <div class="section-header">
        <h2>åå•†ç¼“å­˜æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
        <p>å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åä½œçš„èµ„æºç¼“å­˜éªŒè¯æœºåˆ¶</p>
      </div>

      <div class="concept-cards">
        <div class="concept-card">
          <div class="card-icon">ğŸ¤</div>
          <div class="card-content">
            <h3>æ ¸å¿ƒæ¦‚å¿µ</h3>
            <p>
              åå•†ç¼“å­˜æ˜¯ä¸€ç§å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ååŒå·¥ä½œçš„ç¼“å­˜éªŒè¯æœºåˆ¶ã€‚æµè§ˆå™¨æºå¸¦ç¼“å­˜æ ‡è¯†è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ£€æŸ¥èµ„æºæ˜¯å¦å˜æ›´ï¼Œæœªå˜æ›´åˆ™è¿”å›304çŠ¶æ€ç ï¼Œé€šçŸ¥æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚
            </p>
          </div>
        </div>

        <div class="concept-card">
          <div class="card-icon">ğŸ”„</div>
          <div class="card-content">
            <h3>ä¸å¼ºç¼“å­˜çš„åŒºåˆ«</h3>
            <div class="comparison-table">
              <div class="table-row header">
                <div>ç‰¹æ€§</div>
                <div>å¼ºç¼“å­˜</div>
                <div>åå•†ç¼“å­˜</div>
              </div>
              <div class="table-row">
                <div>HTTPçŠ¶æ€ç </div>
                <div>200 (from cache)</div>
                <div>304 Not Modified</div>
              </div>
              <div class="table-row">
                <div>ç½‘ç»œè¯·æ±‚</div>
                <div>æ— </div>
                <div>æœ‰ï¼ˆéªŒè¯è¯·æ±‚ï¼‰</div>
              </div>
              <div class="table-row">
                <div>ç¼“å­˜æ§åˆ¶</div>
                <div>Cache-Control/Expires</div>
                <div>Last-Modified/ETag</div>
              </div>
              <div class="table-row">
                <div>èµ„æºæ›´æ–°</div>
                <div>åˆ°æœŸå‰ä¸æ›´æ–°</div>
                <div>æ¯æ¬¡éªŒè¯æ›´æ–°</div>
              </div>
            </div>
          </div>
        </div>

        <div class="concept-card">
          <div class="card-icon">ğŸ“Š</div>
          <div class="card-content">
            <h3>å·¥ä½œæµç¨‹</h3>
            <ol class="workflow-list">
              <li>æµè§ˆå™¨é¦–æ¬¡è¯·æ±‚èµ„æº</li>
              <li>æœåŠ¡å™¨è¿”å›èµ„æº + Last-Modified/ETag</li>
              <li>æµè§ˆå™¨å†æ¬¡è¯·æ±‚æ—¶å‘é€ If-Modified-Since/If-None-Match</li>
              <li>æœåŠ¡å™¨éªŒè¯èµ„æºæ˜¯å¦ä¿®æ”¹</li>
              <li>æœªä¿®æ”¹ â†’ è¿”å›304ï¼Œä½¿ç”¨ç¼“å­˜</li>
              <li>å·²ä¿®æ”¹ â†’ è¿”å›200 + æ–°èµ„æº</li>
            </ol>
          </div>
        </div>
      </div>
    </section>

    <!-- éªŒè¯æœºåˆ¶ -->
    <section class="validation-section">
      <div class="section-header">
        <h2>éªŒè¯æœºåˆ¶</h2>
        <p>ä¸¤ç§ä¸»æµçš„èµ„æºéªŒè¯æ–¹å¼</p>
      </div>

      <div class="validation-methods">
        <div class="method-card">
          <div class="method-header">
            <div class="method-icon">ğŸ“…</div>
            <h3>Last-Modified / If-Modified-Since</h3>
          </div>
          <div class="method-body">
            <p>åŸºäºæ—¶é—´æˆ³çš„éªŒè¯æœºåˆ¶</p>
            <div class="method-details">
              <div class="detail">
                <span class="detail-label">å·¥ä½œåŸç†ï¼š</span>
                <span>æœåŠ¡å™¨è¿”å›èµ„æºæœ€åä¿®æ”¹æ—¶é—´ï¼Œæµè§ˆå™¨åç»­è¯·æ±‚æºå¸¦è¯¥æ—¶é—´</span>
              </div>
              <div class="detail">
                <span class="detail-label">å“åº”å¤´ï¼š</span>
                <code>Last-Modified: Fri, 12 May 2023 07:28:00 GMT</code>
              </div>
              <div class="detail">
                <span class="detail-label">è¯·æ±‚å¤´ï¼š</span>
                <code>If-Modified-Since: Fri, 12 May 2023 07:28:00 GMT</code>
              </div>
            </div>
            <div class="method-pros-cons">
              <div class="pros">
                <h4>ä¼˜ç‚¹</h4>
                <ul>
                  <li>å®ç°ç®€å•ï¼Œå…¼å®¹æ€§å¥½</li>
                  <li>æ—¶é—´ä¿¡æ¯ç›´è§‚æ˜“æ‡‚</li>
                </ul>
              </div>
              <div class="cons">
                <h4>ç¼ºç‚¹</h4>
                <ul>
                  <li>ç²¾åº¦åˆ°ç§’ï¼Œç§’å†…ä¿®æ”¹æ— æ³•è¯†åˆ«</li>
                  <li>æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ”¹å˜ä½†å†…å®¹æœªå˜æ—¶ä¼šå¤±æ•ˆ</li>
                  <li>åˆ†å¸ƒå¼æœåŠ¡å™¨æ—¶é—´å¯èƒ½ä¸ä¸€è‡´</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="method-card">
          <div class="method-header">
            <div class="method-icon">ğŸ·ï¸</div>
            <h3>ETag / If-None-Match</h3>
          </div>
          <div class="method-body">
            <p>åŸºäºå†…å®¹æ ‡è¯†çš„éªŒè¯æœºåˆ¶</p>
            <div class="method-details">
              <div class="detail">
                <span class="detail-label">å·¥ä½œåŸç†ï¼š</span>
                <span>æœåŠ¡å™¨ç”Ÿæˆèµ„æºå”¯ä¸€æ ‡è¯†ï¼ˆé€šå¸¸ä¸ºhashï¼‰ï¼Œæµè§ˆå™¨åç»­è¯·æ±‚æºå¸¦è¯¥æ ‡è¯†</span>
              </div>
              <div class="detail">
                <span class="detail-label">å“åº”å¤´ï¼š</span>
                <code>ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"</code>
              </div>
              <div class="detail">
                <span class="detail-label">è¯·æ±‚å¤´ï¼š</span>
                <code>If-None-Match: "33a64df551425fcc55e4d42a148795d9f25f89d4"</code>
              </div>
            </div>
            <div class="method-pros-cons">
              <div class="pros">
                <h4>ä¼˜ç‚¹</h4>
                <ul>
                  <li>ç²¾ç¡®éªŒè¯å†…å®¹å˜åŒ–</li>
                  <li>ä¸å—æ—¶é—´ç²¾åº¦é™åˆ¶</li>
                  <li>åˆ†å¸ƒå¼ç¯å¢ƒæ›´å¯é </li>
                </ul>
              </div>
              <div class="cons">
                <h4>ç¼ºç‚¹</h4>
                <ul>
                  <li>è®¡ç®—ETagæ¶ˆè€—æœåŠ¡å™¨èµ„æº</li>
                  <li>å®ç°å¤æ‚åº¦è¾ƒé«˜</li>
                  <li>æ ‡è¯†ç¬¦éœ€è¦åˆç†ç”Ÿæˆç®—æ³•</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- é…ç½®æ–¹æ³• -->
    <section class="configuration-section">
      <div class="section-header">
        <h2>é…ç½®æ–¹æ³•</h2>
        <p>ä¸»æµæœåŠ¡å™¨ä¸­çš„åå•†ç¼“å­˜é…ç½®</p>
      </div>

      <div class="config-examples">
        <div class="example-card">
          <div class="example-header">
            <div class="server-icon">ğŸ”„</div>
            <h3>Nginx é…ç½®</h3>
          </div>
          <div class="example-body">
            <pre><code>server {
  listen 80;
  server_name example.com;

  location / {
    # å¯ç”¨ETagéªŒè¯
    etag on;

    # é…ç½®Last-Modified
    if_modified_since before;

    # é™æ€èµ„æºç¼“å­˜è®¾ç½®
    location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {
      # åŒæ—¶ä½¿ç”¨ä¸¤ç§éªŒè¯æ–¹å¼
      add_header Last-Modified "";
      add_header ETag "";

      # è®¾ç½®ç¼“å­˜æ—¶é—´ï¼ˆé…åˆå¼ºç¼“å­˜ï¼‰
      expires 7d;
    }
  }
}</code></pre>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <div class="server-icon">ğŸ”§</div>
            <h3>Apache é…ç½®</h3>
          </div>
          <div class="example-body">
            <pre><code>&lt;IfModule mod_headers.c&gt;
  # å¯ç”¨ETagæ”¯æŒ
  FileETag MTime Size

  # é’ˆå¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹é…ç½®
  &lt;FilesMatch "\.(html|css|js|png|jpg)$"&gt;
    # å¯ç”¨åå•†ç¼“å­˜
    Header set Cache-Control "public, must-revalidate, proxy-revalidate"

    # è®¾ç½®Last-Modified
    Header unset Last-Modified
    Header unset ETag
  &lt;/FilesMatch&gt;
&lt;/IfModule&gt;

&lt;IfModule mod_expires.c&gt;
  ExpiresActive On
  ExpiresDefault "access plus 1 month"
&lt;/IfModule&gt;</code></pre>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <div class="server-icon">ğŸš€</div>
            <h3>Node.js å®ç°</h3>
          </div>
          <div class="example-body">
            <pre><code>const http = require('http');
const fs = require('fs');
const crypto = require('crypto');

http.createServer((req, res) => {
  // è·å–æ–‡ä»¶è·¯å¾„
  const filePath = './static' + req.url;

  fs.stat(filePath, (err, stats) => {
    if (err) {
      res.writeHead(404);
      return res.end('File not found');
    }

    // è¯»å–æ–‡ä»¶å†…å®¹
    fs.readFile(filePath, (err, content) => {
      if (err) throw err;

      // ç”ŸæˆETag
      const hash = crypto.createHash('sha1');
      hash.update(content);
      const etag = hash.digest('hex');

      // è·å–å®¢æˆ·ç«¯If-None-Match
      const clientETag = req.headers['if-none-match'];

      // éªŒè¯ETag
      if (clientETag === etag) {
        res.writeHead(304);
        return res.end();
      }

      // è®¾ç½®ETagå“åº”å¤´
      res.setHeader('ETag', etag);
      res.setHeader('Last-Modified', stats.mtime.toUTCString());
      res.setHeader('Cache-Control', 'no-cache'); // åå•†ç¼“å­˜

      res.writeHead(200, { 'Content-Type': 'text/html' });
      res.end(content);
    });
  });
}).listen(3000);</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- ä½¿ç”¨åœºæ™¯ -->
    <section class="use-cases">
      <div class="section-header">
        <h2>ä½¿ç”¨åœºæ™¯</h2>
        <p>åå•†ç¼“å­˜çš„é€‚ç”¨é¢†åŸŸ</p>
      </div>

      <div class="scenario-container">
        <div class="scenario-card">
          <div class="scenario-header">
            <div class="scenario-icon">ğŸ“„</div>
            <h3>HTMLæ–‡æ¡£</h3>
          </div>
          <div class="scenario-body">
            <p>ç»å¸¸ä¿®æ”¹çš„æ ¸å¿ƒé¡µé¢æ–‡ä»¶ï¼Œéœ€è¦åŠæ—¶æ›´æ–°ä½†å˜æ›´é¢‘ç‡ä¸é«˜</p>
            <div class="scenario-metrics">
              <div class="metric">
                <span>ç¼“å­˜å‘½ä¸­ç‡ï¼š</span>
                <span class="metric-value">60-80%</span>
              </div>
              <div class="metric">
                <span>å¸¦å®½èŠ‚çœï¼š</span>
                <span class="metric-value">40-60%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="scenario-card">
          <div class="scenario-header">
            <div class="scenario-icon">ğŸ¨</div>
            <h3>CSSæ ·å¼è¡¨</h3>
          </div>
          <div class="scenario-body">
            <p>ç½‘ç«™æ ·å¼æ–‡ä»¶ï¼Œæ›´æ–°é¢‘ç‡ä¸­ç­‰ï¼Œç”¨æˆ·éœ€è¦åŠæ—¶è·å–æœ€æ–°æ ·å¼</p>
            <div class="scenario-metrics">
              <div class="metric">
                <span>ç¼“å­˜å‘½ä¸­ç‡ï¼š</span>
                <span class="metric-value">70-85%</span>
              </div>
              <div class="metric">
                <span>å¸¦å®½èŠ‚çœï¼š</span>
                <span class="metric-value">50-70%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="scenario-card">
          <div class="scenario-header">
            <div class="scenario-icon">âš™ï¸</div>
            <h3>JavaScriptæ–‡ä»¶</h3>
          </div>
          <div class="scenario-body">
            <p>åº”ç”¨è„šæœ¬æ–‡ä»¶ï¼Œæ›´æ–°é¢‘ç‡è¾ƒé«˜ä½†æ–‡ä»¶å¤§å°è¾ƒå¤§</p>
            <div class="scenario-metrics">
              <div class="metric">
                <span>ç¼“å­˜å‘½ä¸­ç‡ï¼š</span>
                <span class="metric-value">65-80%</span>
              </div>
              <div class="metric">
                <span>å¸¦å®½èŠ‚çœï¼š</span>
                <span class="metric-value">45-65%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="scenario-card">
          <div class="scenario-header">
            <div class="scenario-icon">ğŸ“°</div>
            <h3>APIå“åº”æ•°æ®</h3>
          </div>
          <div class="scenario-body">
            <p>é¢‘ç¹æ›´æ–°çš„åŠ¨æ€æ•°æ®ï¼Œé€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯</p>
            <div class="scenario-metrics">
              <div class="metric">
                <span>ç¼“å­˜å‘½ä¸­ç‡ï¼š</span>
                <span class="metric-value">30-50%</span>
              </div>
              <div class="metric">
                <span>å¸¦å®½èŠ‚çœï¼š</span>
                <span class="metric-value">20-40%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ä¼˜ç¼ºç‚¹åˆ†æ -->
    <section class="pros-cons-section">
      <div class="section-header">
        <h2>ä¼˜ç¼ºç‚¹åˆ†æ</h2>
        <p>åå•†ç¼“å­˜çš„å®é™…åº”ç”¨è¯„ä¼°</p>
      </div>

      <div class="analysis-container">
        <div class="pros-section">
          <h3 class="section-title"><span>âœ…</span> åå•†ç¼“å­˜ä¼˜åŠ¿</h3>
          <ul class="benefit-list">
            <li>
              <div class="benefit-icon">ğŸ’¾</div>
              <div class="benefit-content">
                <h4>é™ä½å¸¦å®½æ¶ˆè€—</h4>
                <p>304å“åº”æ˜¾è‘—å‡å°‘æ•°æ®ä¼ è¾“é‡ï¼ŒèŠ‚çœæœåŠ¡å™¨å¸¦å®½</p>
              </div>
            </li>
            <li>
              <div class="benefit-icon">âš¡</div>
              <div class="benefit-content">
                <h4>æå‡åŠ è½½é€Ÿåº¦</h4>
                <p>å‡å°‘å®Œæ•´èµ„æºåŠ è½½æ—¶é—´ï¼Œå°¤å…¶åœ¨æ…¢é€Ÿç½‘ç»œä¸Š</p>
              </div>
            </li>
            <li>
              <div class="benefit-icon">ğŸ”„</div>
              <div class="benefit-content">
                <h4>åŠæ—¶èµ„æºæ›´æ–°</h4>
                <p>ç›¸æ¯”å¼ºç¼“å­˜èƒ½æ›´åŠæ—¶åœ°è·å–èµ„æºæ›´æ–°</p>
              </div>
            </li>
            <li>
              <div class="benefit-icon">ğŸŒ</div>
              <div class="benefit-content">
                <h4>å‡è½»æœåŠ¡å™¨è´Ÿè½½</h4>
                <p>å‡å°‘å®Œæ•´å“åº”å¤„ç†ï¼Œé™ä½æœåŠ¡å™¨CPUä½¿ç”¨ç‡</p>
              </div>
            </li>
          </ul>
        </div>

        <div class="cons-section">
          <h3 class="section-title"><span>âš ï¸</span> åå•†ç¼“å­˜å±€é™</h3>
          <ul class="limitation-list">
            <li>
              <div class="limitation-icon">â±ï¸</div>
              <div class="limitation-content">
                <h4>é¢å¤–è¯·æ±‚å¼€é”€</h4>
                <p>æ¯æ¬¡éƒ½éœ€è¦å‘èµ·éªŒè¯è¯·æ±‚ï¼Œå¢åŠ ç½‘ç»œå»¶è¿Ÿ</p>
              </div>
            </li>
            <li>
              <div class="limitation-icon">ğŸ§©</div>
              <div class="limitation-content">
                <h4>å®ç°å¤æ‚åº¦é«˜</h4>
                <p>éœ€è¦æœåŠ¡å™¨æ­£ç¡®é…ç½®å’Œæ ‡è¯†ç”Ÿæˆé€»è¾‘</p>
              </div>
            </li>
            <li>
              <div class="limitation-icon">ğŸ”Œ</div>
              <div class="limitation-content">
                <h4>å¼±ç½‘ç¯å¢ƒä½“éªŒå·®</h4>
                <p>åœ¨æ…¢é€Ÿç½‘ç»œä¸­éªŒè¯è¯·æ±‚å¯èƒ½é€ æˆæ„ŸçŸ¥å»¶è¿Ÿ</p>
              </div>
            </li>
            <li>
              <div class="limitation-icon">ğŸ› ï¸</div>
              <div class="limitation-content">
                <h4>é…ç½®ä¸å½“é£é™©</h4>
                <p>é”™è¯¯é…ç½®å¯èƒ½å¯¼è‡´å†…å®¹ä¸æ›´æ–°æˆ–è¿‡åº¦è¯·æ±‚</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- æœ€ä½³å®è·µ -->
    <section class="best-practices">
      <div class="section-header">
        <h2>æœ€ä½³å®è·µæŒ‡å—</h2>
        <p>é«˜æ•ˆä½¿ç”¨åå•†ç¼“å­˜çš„ä¸“ä¸šå»ºè®®</p>
      </div>

      <div class="practices-container">
        <div class="practice-card">
          <div class="practice-number">1</div>
          <div class="practice-content">
            <h3>ç»“åˆå¼ºç¼“å­˜ä½¿ç”¨</h3>
            <p>è®¾ç½®é€‚å½“çš„max-ageï¼Œåœ¨ç¼“å­˜è¿‡æœŸåæ‰è¿›è¡Œåå•†éªŒè¯</p>
            <code>Cache-Control: public, max-age=3600, must-revalidate</code>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">2</div>
          <div class="practice-content">
            <h3>ä¼˜å…ˆä½¿ç”¨ETag</h3>
            <p>ETagæ¯”Last-Modifiedæ›´å¯é ï¼Œä¼˜å…ˆå®ç°ETagéªŒè¯</p>
            <code>ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"</code>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">3</div>
          <div class="practice-content">
            <h3>åˆ†å¸ƒå¼ç³»ç»Ÿæ³¨æ„ç‚¹</h3>
            <p>åœ¨å¤šæœåŠ¡å™¨ç¯å¢ƒä¸­ç¡®ä¿Last-Modifiedæ—¶é—´åŒæ­¥æˆ–ä½¿ç”¨ETag</p>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">4</div>
          <div class="practice-content">
            <h3>é¿å…è¿‡åº¦éªŒè¯</h3>
            <p>å¯¹é¢‘ç¹å˜åŒ–çš„èµ„æºä½¿ç”¨çŸ­max-ageï¼Œå‡å°‘ä¸å¿…è¦éªŒè¯</p>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">5</div>
          <div class="practice-content">
            <h3>é…ç½®åˆé€‚çš„ç¼“å­˜å±‚æ¬¡</h3>
            <p>
              HTMLæ–‡ä»¶ â†’ åå•†ç¼“å­˜<br />
              é™æ€èµ„æº â†’ å¼ºç¼“å­˜ + åå•†ç¼“å­˜<br />
              APIæ•°æ® â†’ çŸ­æ—¶é—´åå•†ç¼“å­˜
            </p>
          </div>
        </div>

        <div class="practice-card">
          <div class="practice-number">6</div>
          <div class="practice-content">
            <h3>ç›‘æ§ç¼“å­˜æ•ˆç‡</h3>
            <p>ä½¿ç”¨å·¥å…·ç›‘æ§304å“åº”ç‡ï¼Œä¼˜åŒ–ç¼“å­˜ç­–ç•¥</p>
            <div class="practice-tools">
              <span>Chrome DevTools</span>
              <span>WebPageTest</span>
              <span>Lighthouse</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- é¡µè„š -->
    <footer class="cache-footer">
      <div class="footer-content">
        <div class="quote">
          <blockquote>
            "åå•†ç¼“å­˜æ˜¯ç°ä»£Webæ€§èƒ½ä¼˜åŒ–çš„åŸºçŸ³ï¼Œåœ¨èµ„æºæ•ˆç‡å’Œå†…å®¹å®æ—¶æ€§ä¹‹é—´æä¾›äº†å®Œç¾å¹³è¡¡ã€‚"
          </blockquote>
          <div class="author">â€”â€” Webæ€§èƒ½ä¼˜åŒ–ä¸“å®¶</div>
        </div>
        <div class="footer-links">
          <h3>è¿›é˜¶å­¦ä¹ èµ„æº</h3>
          <ul>
            <li>HTTPç¼“å­˜æœºåˆ¶åŸºç¡€ä»‹ç» - MDNæ–‡æ¡£</li>
            <li>é«˜æ€§èƒ½æµè§ˆå™¨ç¼“å­˜ç­–ç•¥</li>
            <li>Nginxç¼“å­˜é…ç½®åŸºæœ¬æŒ‡å—</li>
            <li>åˆ†å¸ƒå¼ç³»ç»Ÿç¼“å­˜ä¸€è‡´æ€§è§£å†³æ–¹æ¡ˆ</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="copyright"> HTTPç¼“å­˜æŠ€æœ¯ | åå•†ç¼“å­˜æƒå¨æŒ‡å—</div>
        <div class="stats">
          <span class="cache-hits">æœ¬é¡µç¼“å­˜å‘½ä¸­: <span class="metric-value">4æ¬¡</span></span>
          <span class="bandwidth-saved">å¸¦å®½èŠ‚çœ: <span class="metric-value">1.2MB</span></span>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// æ¨¡æ‹Ÿç¼“å­˜ç»Ÿè®¡æ•°æ®
const cacheHits = ref(4)
const bandwidthSaved = ref('1.2MB')
</script>

<style lang="less" scoped>
@primary-color: #3498db;
@secondary-color: #2980b9;
@accent-color: #e74c3c;
@background-color: #f8fafd;
@text-color: #2c3e50;
@card-bg: #ffffff;
@border-color: #e5e9f2;
@success-color: #2ecc71;
@warning-color: #f39c12;
@danger-color: #e74c3c;

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.negotiation-cache-container {
  font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px 60px;
  color: @text-color;
  background-color: @background-color;
  line-height: 1.6;
}

/* å¤´éƒ¨æ ·å¼ */
.cache-hero {
  border-radius: 0 0 40px 40px;
  padding: 60px 20px 40px;
  margin-bottom: 50px;
  color: white;
  position: relative;
  overflow: hidden;

  .hero-content {
    text-align: center;
    max-width: 800px;
    margin: 0 auto 40px;
    position: relative;
    z-index: 2;

    h1 {
      font-size: 3rem;
      margin: 0 0 15px;
      font-weight: 800;
      letter-spacing: -0.5px;
    }

    .subtitle {
      font-size: 1.5rem;
      font-weight: 300;
      opacity: 0.9;
      display: block;
      margin-top: 10px;
    }

    .tagline {
      font-size: 1.25rem;
      max-width: 600px;
      margin: 25px auto 0;
      font-weight: 300;
      opacity: 0.85;
    }
  }

  .hero-stats {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 40px;

    .stat {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 16px;
      padding: 20px 25px;
      min-width: 150px;

      .stat-value {
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 5px;
      }

      .stat-label {
        font-size: 1.05rem;
        opacity: 0.9;
      }
    }
  }

  .hero-visual {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 30px;
    max-width: 800px;
    margin: 50px auto 0;

    .cache-flow {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 25px;

      .flow-step {
        display: flex;
        align-items: center;
        gap: 15px;
        width: 100%;

        > div {
          padding: 15px 25px;
          border-radius: 12px;
          text-align: center;
          flex: 1;
        }

        .step-client,
        .step-server {
          background: rgba(255, 255, 255, 0.15);
          font-size: 1.1rem;
          font-weight: 500;
        }

        .step-header {
          background: linear-gradient(90deg, @primary-color, lighten(@primary-color, 15%));
          font-family: monospace;
          font-size: 0.9rem;
        }

        .step-response {
          background: linear-gradient(90deg, @success-color, lighten(@success-color, 10%));
          font-weight: 600;
        }

        .step-cache {
          background: rgba(46, 204, 113, 0.25);
          font-size: 1.1rem;
          font-weight: 600;
        }

        .step-arrow {
          font-size: 1.8rem;
          flex: 0;
          color: rgba(255, 255, 255, 0.7);
        }
      }
    }
  }

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
      linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
      linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 30px 30px;
    z-index: 1;
  }
}

/* é€šç”¨åˆ†åŒºå¤´éƒ¨æ ·å¼ */
.section-header {
  text-align: center;
  max-width: 800px;
  margin: 0 auto 50px;
  padding: 0 20px;

  h2 {
    font-size: 2.3rem;
    margin-bottom: 15px;
    color: @text-color;
    position: relative;
    display: inline-block;

    &::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 5px;
      background: linear-gradient(to right, @primary-color, @secondary-color);
      border-radius: 3px;
    }
  }

  p {
    font-size: 1.15rem;
    color: #7f8c8d;
    margin-top: 25px;
  }
}

/* åŸºæœ¬æ¦‚å¿µéƒ¨åˆ† */
.concepts-section {
  margin-bottom: 70px;

  .concept-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .concept-card {
    background: @card-bg;
    border-radius: 18px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-7px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
    }

    .card-icon {
      font-size: 3.5rem;
      text-align: center;
      margin-bottom: 25px;
      color: @primary-color;
    }

    h3 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: darken(@primary-color, 15%);
      text-align: center;
    }

    p {
      color: #555;
      line-height: 1.7;
      font-size: 1.05rem;
    }
  }

  .comparison-table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 15px;

    .table-row {
      display: flex;
      border-bottom: 1px solid @border-color;
      padding: 12px 0;

      &:first-child {
        border-top: 1px solid @border-color;
      }

      &.header {
        font-weight: 600;
        background: rgba(@primary-color, 0.05);
      }

      > div {
        flex: 1;
        text-align: center;
        padding: 8px;

        &:first-child {
          text-align: left;
          flex: 1.5;
          padding-left: 15px;
        }
      }
    }
  }

  .workflow-list {
    padding-left: 25px;
    margin-top: 15px;

    li {
      margin-bottom: 15px;
      padding-left: 10px;
      position: relative;
      font-size: 1.05rem;

      &::before {
        content: '';
        position: absolute;
        left: -25px;
        top: 8px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: @primary-color;
      }

      &:nth-child(5) {
        font-weight: 600;
        color: @success-color;
      }
    }
  }
}

/* éªŒè¯æœºåˆ¶éƒ¨åˆ† */
.validation-section {
  margin-bottom: 70px;

  .validation-methods {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .method-card {
    background: @card-bg;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);

    .method-header {
      padding: 25px 30px;
      display: flex;
      align-items: center;
      gap: 20px;
      background: linear-gradient(90deg, @primary-color, darken(@primary-color, 10%));
      color: white;

      .method-icon {
        font-size: 2.2rem;
      }

      h3 {
        margin: 0;
        font-size: 1.4rem;
      }
    }

    .method-body {
      padding: 30px;

      p {
        font-size: 1.1rem;
        margin-bottom: 20px;
        font-weight: 500;
        color: #444;
      }
    }

    .method-details {
      background: #f8fafd;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 25px;

      .detail {
        margin-bottom: 15px;

        &:last-child {
          margin-bottom: 0;
        }

        .detail-label {
          font-weight: 600;
          color: #555;
        }

        code {
          display: block;
          background: #2c3e50;
          color: #ecf0f1;
          padding: 10px 15px;
          border-radius: 6px;
          margin-top: 8px;
          font-family: 'Fira Code', monospace;
          font-size: 0.9rem;
          overflow-x: auto;
        }
      }
    }

    .method-pros-cons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;

      .pros,
      .cons {
        background: #f8fafd;
        border-radius: 12px;
        padding: 20px;

        h4 {
          margin-top: 0;
          margin-bottom: 15px;
          font-size: 1.2rem;
          position: relative;
          padding-bottom: 10px;

          &::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
          }
        }

        ul {
          padding-left: 20px;

          li {
            margin-bottom: 10px;
            font-size: 1.05rem;
          }
        }
      }

      .pros {
        h4::after {
          background: @success-color;
        }

        ul li::marker {
          color: @success-color;
        }
      }

      .cons {
        h4::after {
          background: @warning-color;
        }

        ul li::marker {
          color: @warning-color;
        }
      }
    }
  }
}

/* é…ç½®æ–¹æ³•éƒ¨åˆ† */
.configuration-section {
  margin-bottom: 70px;

  .config-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .example-card {
    background: @card-bg;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);

    .example-header {
      padding: 20px 25px;
      display: flex;
      align-items: center;
      gap: 15px;
      background: linear-gradient(90deg, @secondary-color, lighten(@primary-color, 5%));
      color: white;

      .server-icon {
        font-size: 1.8rem;
      }

      h3 {
        margin: 0;
        font-size: 1.3rem;
      }
    }

    .example-body {
      pre {
        margin: 0;
        padding: 25px;
        overflow-x: auto;

        code {
          font-family: 'Fira Code', monospace;
          font-size: 0.85rem;
          line-height: 1.5;
        }
      }
    }
  }
}

/* ä½¿ç”¨åœºæ™¯éƒ¨åˆ† */
.use-cases {
  margin-bottom: 1rem;
}
</style>
